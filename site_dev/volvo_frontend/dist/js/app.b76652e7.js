(function(e){function t(t){for(var n,o,s=t[0],g=t[1],l=t[2],d=0,p=[];d<s.length;d++)o=s[d],r[o]&&p.push(r[o][0]),r[o]=0;for(n in g)Object.prototype.hasOwnProperty.call(g,n)&&(e[n]=g[n]);c&&c(t);while(p.length)p.shift()();return a.push.apply(a,l||[]),i()}function i(){for(var e,t=0;t<a.length;t++){for(var i=a[t],n=!0,s=1;s<i.length;s++){var g=i[s];0!==r[g]&&(n=!1)}n&&(a.splice(t--,1),e=o(o.s=i[0]))}return e}var n={},r={app:0},a=[];function o(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=n,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(i,n,function(t){return e[t]}.bind(null,n));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],g=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var c=g;a.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"0cfb":function(e,t,i){},"20bd":function(e,t,i){"use strict";var n=i("ad72"),r=i.n(n);r.a},"3eeb":function(e,t,i){"use strict";var n=i("e75a"),r=i.n(n);r.a},"4f2a":function(e,t,i){},"56d7":function(e,t,i){"use strict";i.r(t);i("cadf"),i("551c"),i("f751"),i("097d");var n,r=i("2b0e"),a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:{loading:e.loading},attrs:{id:"app"}},[i("transition",{attrs:{name:"fade"}},[e.loading?i("Loading"):e._e()],1),i("div",{attrs:{id:"nav"}},[i("router-link",{attrs:{to:"/"}},[e._v("首頁")]),i("router-link",{attrs:{to:"/about"}},[e._v("活動辦法")]),i("router-link",{attrs:{to:"/award"}},[e._v("得獎公告")]),i("router-link",{attrs:{to:"/game"}},[e._v("遊戲測試")])],1),i("transition",{attrs:{name:"fade",mode:"out-in"}},[i("router-view",{key:e.$route.path})],1)],1)},o=[],s=i("cebc"),g=i("75fc"),l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page loading"},[i("div",{staticClass:"jumbotron fadeIn animated ani-delay-5",style:{"background-image":"url(_Loading/loading_首頁-compressor.png)"}},[i("div",{staticClass:"part p1"},[i("div",{staticClass:"title-area"},[i("img",{staticClass:"title fadeIn animated ani-delay-15 mt-5",attrs:{src:"_Loading/volvo_laoding_v2_safety guardian.png"}}),i("img",{staticClass:"fadeIn animated ani-delay-15 mt-5",staticStyle:{width:"450px"},attrs:{src:"_Loading/volvo_laoding_v2_loadingbar.png"}}),i("img",{staticClass:"fadeIn animated ani-delay-15 mt-3",staticStyle:{width:"200px"},attrs:{src:"_Loading/volvo_laoding_v2_loading.png"}})]),i("div",[i("img",{staticClass:"fadeIn animated ani-delay-15",staticStyle:{width:"400px"},attrs:{src:"_Loading/volvo_laoding_v2_explain.png"}})])])])])},c=[],d={mounted:function(){}},p=d,u=(i("20bd"),i("2877")),m=Object(u["a"])(p,l,c,!1,null,null,null),h=m.exports,f=i("2f62"),_={scenes:[{title:"A01",layers:["A/A01/A01_bg.png","A/A01/A01_explode.png","A/A01/A01_smoke.png"],audios:["Audio/explode.wav"]},{title:"A02",layers:["A/A02/A02_bg.png",{src:"A/A02/A02_villain.png",getPanX:function(e){return-.5*e}}],audios:["Audio/evillaugh.mp3"]},{title:"A03",layers:["A/A03/A03_bg.png","A/A03/A03_villain.png",{src:"A/A03/A03_front.png",getPanY:function(e){return-.1*e}}],audios:["Audio/cardoor.wav"]},{title:"B01",layers:["B/B01/B01_bg.png"]},{title:"B02",layers:["B/B02/B02_bg.png"],audios:["Audio/datasound.wav"]},{title:"B03",layers:["B/B03/B03_bg.png","B/B03/B03_paper.png"],audios:["Audio/cheer.mp3"]},{title:"B04",layers:["B/B04/B04_bg.png","B/B04/B04_dialog.png","B/B04/B04_villain.png"]},{title:"C01",layers:["C/C01/C01_bg.png","C/C01/C01_fire.png","C/C01/C01_anderson.png","C/C01/C01_speedline.png"],audios:[]},{title:"C02",layers:["C/C02/C02_bg.png","C/C02/C02_anderson.png","C/C02/C02_villain.png"],audios:["Audio/evillaugh.mp3"]},{title:"C03",layers:["C/C03/C03_bg.png",{src:"C/C03/C03_villain.png",getPanX:function(e){return-.6*e},getPanY:function(e){return-.4*e}},{src:"C/C03/C03_car.png",getPanX:function(e){return-.6*e},getPanY:function(e){return-.4*e}},"C/C03/C03_man.png"]},{title:"C04",layers:["C/C04/C04_bg.png","C/C04/C04_dialog.png"],audios:["Audio/seatbelt.wav"]},{title:"C05",layers:["C/C05/C05_bg.png","C/C05/C05_man.png","C/C05/C05_dialog.png","C/C05/C05_speedlines.png"],audios:["Audio/engine_car.wav"]},{title:"D01",layers:["D/D01/D01_bg.png"],audios:["Audio/busycity.wav"]},{title:"D02",layers:["D/D02/D02_bg.png",{src:"D/D02/D02_car2.png"},{src:"D/D02/D02_villain.png",getPanX:function(e){return.55*e},getPanY:function(e){return-.35*e}},{src:"D/D02/D02_car1.png",getPanX:function(e){return.05*e},getPanY:function(e){return-.1*e-100}},{src:"D/D02/D02_anderson.png",getPanX:function(e){return.15*e-50},getPanY:function(e){return-.05*e+50}}],audios:["Audio/car_stopping.wav"]},{title:"D03",layers:["D/D03/D03_bg.png","D/D03/D03_car_back.png",{src:"D/D03/D03_anderson.png",getPanX:function(e,t){return.5*e},getPanY:function(e,t){return.35*e}},{src:"D/D03/D03_car_front.png",getPanX:function(e,t){return-.1*e},getPanY:function(e,t){return.1*e}},"D/D03/D03_dialog.png"],audios:["Audio/car_crash.wav"]},{title:"D04",layers:["D/D04/D04_bg.png",{src:"D/D04/D04_car.png",getPanX:function(e){return 0},getPanY:function(e){return-.1*e},getScale:function(e,t){return.6*t+1}},"D/D04/D04_speedlines.png"]},{title:"Game1",type:"game"},{title:"E01",layers:["E/E01/E01_bg.png","E/E01/E01_car.png","E/E01/E01_Anderson.png","E/E01/E01_dialog.png","E/E01/E01_bike.png"]},{title:"E02",layers:["E/E02/E02_bg.png","E/E02/E02_dialog_1.png","E/E02/E02_dialog_2.png"]},{title:"Game2",type:"game"},{title:"F01",layers:["F/F01/F01_bg.png",{src:"F/F01/F01_villain.png",getPanX:function(e,t){return-50*t},getPanY:function(e,t){return-200*t},getScale:function(e,t){return-.6*t+1}},{src:"F/F01/F01_Anderson.png"},"F/F01/F01_dialog_1.png","F/F01/F01_dialog_2.png"]},{title:"F02",layers:["F/F02/F02_bg.png"]},{title:"F03",layers:["F/F03/F03_bg.png"],audios:["Audio/gun2.mp3"]},{title:"F04",layers:["F/F04/F04_1_bg.png","F/F04/F04_1_villain.png","F/F04/F04_2_bg.png","F/F04/F04_2_pillar.png","F/F04/F04_2_Anderson.png"]},{title:"G01",layers:[{src:"G/G01/G01_bg_1.png",getPanX:function(e){return.1*e}},{src:"G/G01/G01_bg_2.png",getPanX:function(e){return-.1*e},getPanY:function(e){return 0}},{src:"G/G01/G01_dialog_1.png",getPanX:function(e){return.1*e}},{src:"G/G01/G01_dialog_2.png",getPanX:function(e){return-.1*e}}]},{title:"G02",layers:["G/G02/G02_bg.png","G/G02/G02_car_1.png","G/G02/G02_car_2.png"],audios:["Audio/carspeedup.wav"]},{title:"G03",layers:["G/G03/G03_bg.png","G/G03/G03_car.png"],audios:["Audio/carspeedup.wav"]},{title:"G04",layers:["G/G04/G04_bg.png","G/G04/G04_dialog.png"]},{title:"Game3",type:"game"},{title:"H01",layers:["H/H01/H01_bg.png"],audios:["Audio/gun.mp3"]},{title:"H02",layers:["H/H02/H02_bg.png",{src:"H/H02/H02_car.png",getPanX:function(e,t){return.1*e},getPanY:function(e,t){return.15*e},getScale:function(e,t){return.2*t+.7}},"H/H02/H02_speedlines.png"],audios:["Audio/car_stopping.wav"]},{title:"H03",layers:["H/H03/H03_bg.png","H/H03/H03_dialog_1.png"],audios:["Audio/evillaugh.mp3"]},{title:"H04",layers:["H/H04/H04_bg.png"],audios:["Audio/carspeedup.wav"]},{title:"H05",layers:["H/H05/H05_bg.png","H/H05/H05_dialog_1.png","H/H05/H05_dialog_2.png"],audios:["Audio/beep.wav"]},{title:"Game4",type:"game"},{title:"I01",layers:["I/I01/I01_bg.png","I/I01/I01_speedlines_back.png",{src:"I/I01/I01_car.png",getPanX:function(e){return-.5*e},getPanY:function(e){return.5*e+100}},"I/I01/I01_speedlines_front.png"],audios:["Audio/gun.mp3"]},{title:"I02",layers:["I/I02/I02_bg.png","I/I02/I02_box.png"],audios:["Audio/gun.mp3","Audio/car_crash.wav"]},{title:"I03",layers:["I/I03/I03_bg.png"]},{title:"I04",layers:["I/I04/I04_bg.png"],audios:["Audio/car_stopping.wav"]},{title:"I05",layers:["I/I05/I05_bg.png"],audios:["Audio/carcrash2.wav"]},{title:"I06",layers:["I/I06/I06_bg.png",{src:"I/I06/I06_anderson.png",getPanX:function(e,t){return-.3*e}}],audios:["Audio/car_crash.wav"]},{title:"I07",layers:["I/I07/I07_bg.png","I/I07/I07_dialog.png","I/I07/I07_villain.png"]},{title:"I09",layers:["I/I09/I09_bg.png",{src:"I/I09/I09_button_1.png",getPanX:function(e){return 0},getPanY:function(e){return 0}},{src:"I/I09/I09_button_2.png",getPanX:function(e){return 0},getPanY:function(e){return 0}},"I/I09/I09_text.png"]}]},I=i("f549"),x={data:function(){return{}},components:{Loading:h},mounted:function(){var e=this,t=0,i=function(){e.setLoading(!1);var t=new Audio("Audio/explode.wav");t.play(),clearInterval(n)},n=setInterval(function(){t++,t>10&&i()},10);this.setLoading(!0);var r=_.scenes.map(function(e){return e.layers.concat(e.audios||[])}).reduce(function(e,t){return[].concat(Object(g["a"])(e),Object(g["a"])(t))},[]);r=r.filter(function(e,t,i){return i.indexOf(e)==t}),console.log(r),I["a"].load(r).then(function(){console.log("image all preloaded!"),t>5?i():setTimeout(function(){i()},1e3*(5-t))}).catch(function(e){console.warn(e),console.log("image preload fail.")})},computed:Object(s["a"])({},Object(f["c"])(["loading","debug"])),methods:Object(s["a"])({},Object(f["b"])(["setLoading"]))},w=x,v=(i("cf25"),Object(u["a"])(w,a,o,!1,null,null,null)),P=v.exports,y=i("8c4f"),T=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"home"},[i("StoryIndex")],1)},S=[],b=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"hello"},[e.debug?i("div",{staticClass:"currentSection"},[i("span",[e._v(e._s(e.currentSection))]),i("br"),i("span",[e._v(e._s(e.scrollY))])]):e._e(),e._l(e.scenes,function(t,n){return i("section",{ref:"sceneObj"+n,refInFor:!0,attrs:{id:"sec_"+n}},["game"==t.type&&"Game1"==t.title?i("div",[i("Game1",{ref:"game1",refInFor:!0})],1):e._e(),"game"==t.type&&"Game2"==t.title?i("div",[i("Game2",{ref:"game2",refInFor:!0})],1):e._e(),"game"==t.type&&"Game3"==t.title?i("div",[i("Game3",{ref:"game3",refInFor:!0})],1):i("div",[i("h2",[e._v(e._s(t.title))]),i("div",{staticClass:"img-layers"},e._l(t.layers,function(r,a){return i("div",{staticClass:"img-layer",style:e.getLayerStyle(e.getLayerObject(r),a,t,n)},[i("img",{staticClass:"wow",class:e.getLayerClass(e.getLayerObject(r),a),style:{"animation-delay":a/2+"s"},attrs:{src:e.getLayerObject(r).src,title:e.getLayerObject(r).src}})])}),0)])])})],2)},C=[],G=i("e814"),R=i.n(G),X=i("4a26"),A=i.n(X),M=i("cffa"),L=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},B=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"game1"},[i("div",{staticClass:"loading-text"},[e._v("載入中")]),i("div",{staticClass:"game-container"})])}],D={bigWhiteTexture:null,isPrePlaying:!1,prePlayTimelineG1:null,prePlayTimelineG2:null,prePlayTimelineG3:null,prePlayTimelineG4:null,prePlayG1Cover:null,prePlayG2Cover:null,prePlayG3Cover:null,prePlayG4Cover:null,prePlayStartTextG1:null,prePlayStartTextG2:null,prePlayStartTextG3:null,prePlayStartTextG4:null,isGameRunning:!1,DEFAULT_STAGE_WIDTH:1920,DEFAULT_STAGE_HEIGHT:1080,app:app,currentStage:0,stage1:0,stage2:0,stage3:0,stage4:0,stages:{},stageLoops:null},k={crossingGroups:[],crossingGroup:null,crossLine:null,crossSequence:["person","car","person","car","person","car","bike","person","car","person","bike"],crossObjects:[{type:"walk",posX:-1500,posY:1e3,side:"left"},{type:"car",posX:1500,posY:8e3,side:"right"},{type:"walk",posX:-1500,posY:18e3,side:"left"},{type:"walk",posX:8e3,posY:26e3,side:"right"},{type:"car",posX:-1500,posY:33e3,side:"left"},{type:"car",posX:5e3,posY:41e3,side:"right"},{type:"bike",posX:8e3,posY:5e4,side:"right"},{type:"walk",posX:-1500,posY:57e3,side:"left"},{type:"car",posX:8e3,posY:66e3,side:"right"},{type:"walk",posX:6e3,posY:75e3,side:"right"},{type:"bike",posX:-3500,posY:88e3,side:"left"}],g1Ui:null,countImg:null,carCounter:4,bikeCounter:2,walkCounter:5,hintRect:null,timerGame1:null,timeText:null,timeRemainingText:null,remainingTime:30,groupSpeedMax:2,groupSpeedMin:.05,groupSpeed:2,pressStop:!1,bgAnimationSpeed:.2,cityRoad:null,cityRoadAniBg:null,bike:null,bikeSpeed:5,walkImg:null,carImg:null,groundMoveSpeedG1:50,currentMovingIndex:0,currentMovingObject:null,bikeScurrentMovingObjectSpeed:5,dash:null,pedal:null,pedalWarning:null,missImg:null,mrImg:null,sysImg:null,world3D:null,vanishingPoint:null,vanishingPointStyle:null,lineLeft:null,lineRight:null,roadWidth:2600,lineGroup:null,hintTextG1:null},F={g2Ui:null,hintRect_g2:null,timerGame2:null,timeText_g2:null,timeRemainingText_g2:null,remainingTime_g2:30,cityRoad_g2:null,cityRoadAniBg_g2:null,dash_g2:null,missImg_g2:null,mrImg_g2:null,sysImg_g2:null,leftBtn_g2:null,rightBtn_g2:null,hint_g2:null,car_g2:null,carMovingAncorMin:200,carMovingAncorMax:2500,carSpeed:0,carSpeedMin:-1,carSpeedMax:1,carSpeedUp:!1,carSpeedDown:!1,carSpeedRandomSeed:0,currentCarPosition:null,safeAreaHint:[],safeAreaHintIndex:0,safeAreaMax:880,safeAreaMin:430,safeState:!1,dangerAreaStayTime:0,safeAreaTimeline:null,world3D_g2:null,vanishingPoint_g2:null,vanishingPointStyle_g2:null,lineLeft_g2:null,lineRight_g2:null,roadWidth_g2:5e3,lineGroup_g2:null,streetLightGroup_g2:null,speedUpSound:null,speedDownSound:null},W={carSideSequenceIndex:0,carSideSequence:["left","left","right","right","left"],timerGame3:null,hintRect_g3:null,hintTextG3:null,hintRectGood_g:null,timeText_g3:null,timeRemainingText_g3:null,remainingTime_g3:30,cityRoad_g3:null,dash_g3:null,missImg_g3:null,mrImg_g3:null,sysImg_g3:null,leftBtn_g3:null,rightBtn_g3:null,hint_g3:null,car_g3:null,carSpeed:200,carMoveLeftAni:null,carMoveLeftAniMirror:null,carMoveRightAni:null,carMoveRightAniMirror:null,carPosY_g3:600,carComingLeft_g3:null,carComingRight_g3:null,isLeftCarComes:!1,isRightCarComes:!1,world3D_g3:null,vanishingPoint_g3:null,vanishingPointStyle_g3:null,lineLeft_g3:null,lineRight_g3:null,roadWidth_g3:2880,lineGroup_g3:null,leftWifi:[],rightWifi:[],leftWifiIndex:0,rightWifiIndex:0,leftWifiTimeline:null,rightWifiTimeline:null,mirrorLeft_g3:null,mirrorRight_g3:null,carInMirrorLeft_g3:null,carInMirrorRight_g3:null,carLeftMirrorTimeline_g3:null,carRightMirrorTimeline_g3:null,mirrorHintLeft_g3:null,mirrorHintRight_g3:null,mirrorMaskLeft_g3:null,mirrorMaskRight_g3:null,mirrorBgLeft_g3:null,mirrorBgRight_g3:null,mirrorBorderLeft_g3:null,mirrorBorderRight_g3:null,carLeftTimeline_g3:null,carRightTimeline_g3:null,carEmitterTimer:null,currentCarSide:null,pressStop:!1},j={},H={common:D,game1Data:k,game2Data:F,game3Data:W,game4Data:j},E={setupEnv:function(e,t){t,n=t.common,t.game1Data;PIXI.utils.isWebGLSupported(),PIXI.utils.skipHello(),t.common.app=new PIXI.Application({width:t.common.DEFAULT_STAGE_WIDTH,height:t.common.DEFAULT_STAGE_HEIGHT,antialias:!0,transparent:!1,backgroundColor:3355443,resolution:1}),t.common.app.renderer.autoResize=!0,$(e).append(t.common.app.view),Y()}};function Y(){n.stage1=new PIXI.Container,n.stage2=new PIXI.Container,n.stage3=new PIXI.Container,n.stage4=new PIXI.Container,n.stages={1:n.stage1,2:n.stage2,3:n.stage3,4:n.stage4}}i("6b54"),i("06db");var O={loadAllAssets:U};function U(e,t){e,e.common;for(var i=PIXI.loader.add("g1Ui","images/game1/Game1_ui_v1.png").add("g2Ui","images/game2/Game2_ui_v1.png").add("countImg","images/game1/count.png").add("bikeImg","images/game1/bike_g1.png").add("dashImg","images/game1/dash.png").add("cityImg","images/game1/cityRoad.png").add("cityG3Img","images/game3/cityRoad_g3.png").add("missImg","images/game1/miss.png").add("mrImg","images/game1/mr.png").add("pedalImg","images/game1/stopper.png").add("pedalWarningImg","images/game1/stopperLight.png").add("walkImg","images/game1/walk_g1.png").add("carImg","images/game1/car_g1.png").add("sysImg","images/game1/sys.png").add("leftBtnImg","images/game2/leftBtn.png").add("rightBtnImg","images/game2/rightBtn.png").add("leftBtnG3Img","images/game3/leftBtn.png").add("rightBtnG3Img","images/game3/rightBtn.png").add("hintImg","images/game2/hint.png").add("hintG3Img","images/game3/hint_g3.png").add("carMidImg","images/game2/car2.png").add("safeAreaHintImg0","images/game2/hintArea/1.png").add("safeAreaHintImg1","images/game2/hintArea/2.png").add("safeAreaHintImg2","images/game2/hintArea/3.png").add("safeAreaHintImg3","images/game2/hintArea/4.png").add("streetLightImg","images/game2/streetLight.png").add("carInMirrorLeftImg","images/game3/carFront.png").add("carInMirrorRightImg","images/game3/carFront.png").add("carComingLeftImg","images/game3/car1.png").add("carComingRightImg","images/game3/car3.png").add("mirrorMaskRightImg","images/game3/maskRight.png").add("mirrorMaskLeftImg","images/game3/maskLeft.png").add("mirrorBgRightImg","images/game3/mirrorBgRight.png").add("mirrorBgLeftImg","images/game3/mirrorBgLeft.png").add("mirrorBorderRightImg","images/game3/mirrorBorderRight.png").add("mirrorBorderLeftImg","images/game3/mirrorBorderLeft.png").add("mirrorHintLeftImg","images/game3/mirrorHintLeft.png").add("mirrorHintRightImg","images/game3/mirrorHintRight.png").add("hintG4Img","images/game4/hint_g4.png").add("roadMapG4Img","images/game4/roadmap_g4.png").add("myCarG4Img","images/game4/car_me.png").add("armyCarG4Img","images/game4/car_army.png").add("speedDownSound","gameAudio/speedDown.mp3").add("speedUpSound","gameAudio/speedUp.mp3"),n=0;n<119;n++){var r=(1e5+n).toString().substring(1);i.add({name:"roadBgG1"+n,url:"images/game1/roadBgG1/bg1_"+r+".jpg"})}for(var a=1;a<6;a++)i.add({name:"wifiImg"+a,url:"images/game3/wifi/"+a+".png"});for(var o=0;o<7;o++){var s=(1e5+o).toString().substring(1);i.add({name:"roadBgG2"+o,url:"images/game2/roadBgG2/roadG2_"+s+".jpg"})}for(var g=0;g<60;g++){var l=(1e5+g).toString().substring(1);i.add({name:"mirror"+g,url:"images/game3/mirror/Mirror_"+l+".jpg"})}i.on("error",function(e){console.log(e)}).on("progress",N).load(t)}function N(e,t){$(".loading-text").text("載入進度： "+~~e.progress+" %")}var z,q;i("8449");function J(e){z=e.common,q=e.game1Data,q.g1Ui=new PIXI.Sprite(PIXI.loader.resources.g1Ui.texture),q.g1Ui.position.set(0,0),q.g1Ui.anchor.set(0,0),q.timeText=new PIXI.Text("Time",new PIXI.TextStyle({fontSize:52,fill:"#FFD25D",fontWeight:500})),q.timeText.position.set(z.app.screen.width/2,60),q.timeText.anchor.set(.5,0),q.timeRemainingText=new PIXI.Text("30",new PIXI.TextStyle({fontSize:52,fill:"#FFD25D",fontWeight:500})),q.timeRemainingText.position.set(z.app.screen.width/2,120),q.timeRemainingText.anchor.set(.5,0),q.hintRect=new PIXI.Graphics,q.hintRect.beginFill(0,0),q.hintRect.lineStyle(80,16711680,1),q.hintRect.drawRect(0,0,z.app.screen.width,z.app.screen.height),q.hintRect.endFill(),q.hintRect.visible=!1,q.pedal=new PIXI.Sprite(PIXI.loader.resources.pedalImg.texture),q.pedal.position.set(z.app.screen.width-60,z.app.screen.height-60),q.pedal.anchor.set(1,1),q.pedalWarning=new PIXI.Sprite(PIXI.loader.resources.pedalWarningImg.texture),q.pedalWarning.position.set(q.pedal.position.x-q.pedal.width/2,q.pedal.position.y-q.pedal.height/2),q.pedalWarning.anchor.set(.5,.5);for(var t=[],i=0;i<119;i++){var n=PIXI.Texture.fromFrame("roadBgG1"+i);t.push(n)}q.cityRoadAniBg=new PIXI.extras.AnimatedSprite(t),q.cityRoadAniBg.animationSpeed=q.bgAnimationSpeed,q.cityRoadAniBg.play(),q.cityRoad=new PIXI.Sprite(PIXI.loader.resources.cityImg.texture),q.cityRoad.position.set(z.app.screen.width/2,z.app.screen.height/2),q.cityRoad.scale.set(1.8,1.8),q.cityRoad.anchor.set(.5,.5),q.missImg=new PIXI.Sprite(PIXI.loader.resources.missImg.texture),q.missImg.position.set(z.app.screen.width-60,z.app.screen.height/2-q.missImg.height),q.missImg.anchor.set(1,0),q.missImg.scale.set(.6,.6),q.mrImg=new PIXI.Sprite(PIXI.loader.resources.mrImg.texture),q.mrImg.position.set(60,80),q.mrImg.anchor.set(0,0),q.mrImg.scale.set(.6,.6),q.sysImg=new PIXI.Sprite(PIXI.loader.resources.sysImg.texture),q.sysImg.position.set(60,80+q.mrImg.height+60),q.sysImg.anchor.set(0,0),q.sysImg.scale.set(.6,.6),q.countImg=new PIXI.Sprite(PIXI.loader.resources.countImg.texture),q.countImg.position.set(60,80+q.mrImg.height+200),q.countImg.anchor.set(0,0),q.countImg.scale.set(.6,.6),q.carCounterText=new PIXI.Text("30",new PIXI.TextStyle({fontSize:52,fill:"#FFD25D",fontWeight:500})),q.carCounterText.position.set(190,80+q.mrImg.height+180),q.carCounterText.anchor.set(0,0),q.bikeCounterText=new PIXI.Text("30",new PIXI.TextStyle({fontSize:52,fill:"#FFD25D",fontWeight:500})),q.bikeCounterText.position.set(190,80+q.mrImg.height+240),q.bikeCounterText.anchor.set(0,0),q.walkCounterText=new PIXI.Text("30",new PIXI.TextStyle({fontSize:52,fill:"#FFD25D",fontWeight:500})),q.walkCounterText.position.set(190,80+q.mrImg.height+300),q.walkCounterText.anchor.set(0,0),q.dash=new PIXI.Sprite(PIXI.loader.resources.dashImg.texture),q.dash.position.set(z.app.screen.width/2,z.app.screen.height),q.dash.anchor.set(.5,1),q.dash.scale.set(.8,.8),q.hintTextG1=new PIXI.Text("請適時地按下煞車以確保安全",new PIXI.TextStyle({fontSize:24,fill:"#FFFFFF",fontWeight:500})),q.hintTextG1.position.set(z.app.screen.width/2,z.app.screen.height-q.dash.height-30),q.hintTextG1.anchor.set(.5,.5),z.prePlayStartTextG1=new PIXI.Text("5",new PIXI.TextStyle({fontSize:180,fill:"#FFFFFF",fontWeight:500})),z.prePlayStartTextG1.position.set(z.app.screen.width/2,z.app.screen.height/2-200),z.prePlayStartTextG1.anchor.set(.5,.5),z.prePlayStartTextG1.visible=!1,q.world3D=new PIXI.projection.Container2d,q.world3D.position.set(-90,1075),V(),z.stage1.addChild(q.cityRoadAniBg),z.stage1.addChild(q.vanishingPoint),z.stage1.addChild(q.world3D),z.stage1.addChild(q.pedalWarning),z.stage1.addChild(q.pedal),z.stage1.addChild(z.prePlayStartTextG1),z.stage1.addChild(q.hintRect),z.stage1.addChild(q.hintTextG1),z.stage1.addChild(q.g1Ui)}function V(){q.bigWhiteTexture=new PIXI.Texture(PIXI.Texture.WHITE.baseTexture),q.bigWhiteTexture.orig.width=30,q.bigWhiteTexture.orig.height=30,q.lineLeft=new PIXI.projection.Sprite2d(q.bigWhiteTexture),q.lineLeft.tint=16777215,q.lineLeft.scale.set(1,1e3),q.lineLeft.anchor.set(.5,.5),q.lineLeft.position.set((z.app.screen.width-q.roadWidth)/2,0),q.lineRight=new PIXI.projection.Sprite2d(q.bigWhiteTexture),q.lineRight.tint=16777215,q.lineRight.scale.set(1,1e3),q.lineRight.anchor.set(.5,.5),q.lineRight.position.set((z.app.screen.width+q.roadWidth)/2,0),q.lineGroup=[];for(var e=0;e<10;e++){var t=new PIXI.projection.Sprite2d(q.bigWhiteTexture);t.tint=13421772,t.scale.set(q.roadWidth/30,.5),t.anchor.set(.5),t.counterY=6e3*e,t.counterX=0,t.position.set(z.app.screen.width/2,1e4),t.proj.affine=PIXI.projection.AFFINE.AXIS_X,q.lineGroup.push(t)}K(),q.vanishingPointStyle=new PIXI.TextStyle({fontFamily:"Arial",fontSize:20,fill:"#ffffff"}),q.vanishingPoint=new PIXI.Text("Ｏ",q.vanishingPointStyle),q.vanishingPoint.anchor.set(.5),q.vanishingPoint.position.set(960,330)}function K(){q.crossingGroup=[];for(var e=0;e<q.crossObjects.length;e++){var t=void 0,i=void 0;"car"==q.crossObjects[e].type?(t=PIXI.loader.resources.carImg.texture,i=new PIXI.projection.Sprite2d(t),i.scale.set(2)):"walk"==q.crossObjects[e].type?(t=PIXI.loader.resources.walkImg.texture,i=new PIXI.projection.Sprite2d(t)):"bike"==q.crossObjects[e].type&&(t=PIXI.loader.resources.bikeImg.texture,i=new PIXI.projection.Sprite2d(t)),i.type=q.crossObjects[e].type,i.counterY=q.crossObjects[e].posY,i.side=q.crossObjects[e].side,"left"==i.side?(i.counterX=-1500,"car"==i.type&&(i.counterX=-5e3)):(i.counterX=z.app.screen.width+1500,i.scale.x=-1,"car"==i.type&&(i.counterX=z.app.screen.width+5e3,i.scale.set(-2.5,2.5))),0==e&&(i.counterX=500),i.anchor.set(.5),i.position.x=0,i.proj.affine=PIXI.projection.AFFINE.AXIS_X,q.crossingGroup.push(i)}for(var n=q.crossObjects.length-1;n>=0;n--)q.world3D.addChild(q.crossingGroup[n])}i("14b9");var Q,Z,ee,te,ie,ne={game1Loop:re};function re(e){Q||ae(e);for(var t=0;t<ee.lineGroup.length;t++){var i=ee.lineGroup[t];i.counterY-=ee.groundMoveSpeedG1,i.position.y=i.counterY,i.counterY<-500&&(i.counterY=6e4)}for(var n=!1,r=!1,a=0;a<ee.crossingGroup.length;a++){var o=ee.crossingGroup[a];o.counterY-=ee.groundMoveSpeedG1,o.position.y=o.counterY,o.position.x=o.counterX,o.position.y<150&&o.position.x>Z.app.screen.width/2-ee.roadWidth/4&&o.position.x<Z.app.screen.width/2+ee.roadWidth/2&&(r=!0),o.counterY<500?0==o.visible&&(o.visible=!0,TweenMax.fromTo(o,1,{alpha:0},{alpha:1})):(o.alpha=0,o.visible=!1);var s="left"==o.side?1:-1;o.counterY<6e3&&("car"==o.type?o.counterX+=50*s:"walk"==o.type?o.counterX+=18*s:"bike"==o.type&&(o.counterX+=28*s),o.position.x<Z.app.screen.width/2+ee.roadWidth/4&&(n=!0),o.counterY<-1e3&&("car"==o.type?ee.carCounter--:"walk"==o.type?ee.walkCounter--:"bike"==o.type&&ee.bikeCounter--,o.visible=!1,o.parent.removeChild(o),o.destroy(),ee.crossingGroup.splice(a,1)))}ee.hintRect.visible=r,ee.pedalWarning.visible=n,ee.pressStop?(ee.groundMoveSpeedG1-=2,ee.groundMoveSpeedG1<0&&(ee.groundMoveSpeedG1=0)):(ee.groundMoveSpeedG1+=1,ee.groundMoveSpeedG1>50&&(ee.groundMoveSpeedG1=50)),ee.pressStop?ee.cityRoadAniBg.animationSpeed>0&&(ee.cityRoadAniBg.animationSpeed-=.01,ee.cityRoadAniBg.animationSpeed<0&&(ee.cityRoadAniBg.animationSpeed=0)):ee.cityRoadAniBg.animationSpeed>1&&(ee.cityRoadAniBg.animationSpeed+=.005),ee.carCounterText.text="0"+ee.carCounter,ee.bikeCounterText.text="0"+ee.bikeCounter,ee.walkCounterText.text="0"+ee.walkCounter}function ae(e){Q=e,Z=e.common,ee=e.game1Data}function oe(e){e,te=e.common,ie=e.game1Data;var t=new TimelineMax;t.fromTo(ie.pedalWarning,.5,{alpha:0},{alpha:1}).yoyo(1).repeat(-1),le(),ce(),de(),te.app.stage.addChild(te.stage1),te.app.ticker.speed=1,te.app.ticker.add(function(t){return ne.game1Loop(e)}),te.prePlayTimelineG1.restart(),te.isGameRunning=!1,te.isPrePlaying=!0}function se(e){te.app.ticker.start()}function ge(e){te.app.ticker.stop()}function le(){ie.pedal.interactive=!0,ie.pedal.buttonMode=!0,ie.pedal.on("pointerdown",function(){ie.isPrePlaying||(ie.pressStop=!0,ie.pedal.tint=5592405)}),ie.pedal.on("pointerup",function(){ie.isPrePlaying||(ie.pressStop=!1,ie.pedal.tint=16777215,ie.cityRoadAniBg.animationSpeed=ie.bgAnimationSpeed)}),$("body").keydown(function(e){var t=e.keyCode;switch(console.log(t),t){case 37:ie.world3D.position.x-=5;break;case 39:ie.world3D.position.x+=5;break;case 38:ie.world3D.position.y-=5;break;case 40:ie.world3D.position.y+=5;break;case 65:ie.vanishingPoint.position.x-=5;break;case 68:ie.vanishingPoint.position.x+=5;break;case 87:ie.vanishingPoint.position.y-=5;break;case 83:ie.vanishingPoint.position.y+=5;break;default:break}ce()})}function ce(){var e=ie.world3D.toLocal(ie.vanishingPoint.position,void 0,void 0,void 0,PIXI.projection.TRANSFORM_STEP.BEFORE_PROJ);ie.world3D.proj.setAxisY(e,1)}function de(){te.prePlayTimelineG1=new TimelineMax({paused:!0}),te.prePlayTimelineG1.add(function(){ie.pedal.tint=5592405,ie.isPrePlaying=!0,ie.timeText.visible=!1,ie.timeRemainingText.visible=!1,ie.pressStop=!0},0).add(function(){ie.pedal.tint=16777215,te.prePlayStartTextG1.text="5",te.prePlayStartTextG1.visible=!0},1).add(function(){te.prePlayStartTextG1.text="4"},2).add(function(){ie.pedal.tint=5592405,te.prePlayStartTextG1.text="3",ie.pressStop=!1,ie.cityRoadAniBg.animationSpeed=ie.bgAnimationSpeed},3).add(function(){te.prePlayStartTextG1.text="2"},4).add(function(){te.prePlayStartTextG1.text="1"},5).add(function(){te.prePlayStartTextG1.text="GO!"},6).add(function(){ie.pedal.tint=16777215,ie.isPrePlaying=!1,te.prePlayStartTextG1.visible=!1,ie.timeText.visible=!0,ie.timeRemainingText.visible=!0,pe()},7)}function pe(){ie.remainingTime=30,ie.timeRemainingText.text=ie.remainingTime,clearInterval(ie.timerGame1),ie.timerGame1=setInterval(function(){ie.remainingTime--,ie.remainingTime<=0&&(ie.remainingTime=0),ie.remainingTime,ie.timeRemainingText.text=ie.remainingTime},1e3)}function ue(){te.prePlayTimelineG1&&te.prePlayTimelineG1.restart(),ie.crossingGroup.forEach(function(e){e.parent.removeChild(e),e.destroy()}),K(),ie.carCounter=4,ie.bikeCounter=2,ie.walkCounter=5,ie.groundMoveSpeedG1=0,pe()}var me,he,fe={name:"Game1",props:{msg:String},mounted:function(){},methods:{resizeCanvas:function(){var e=$(window).innerWidth()/1920;$("canvas").css("transform","scale(".concat(e,")")),$("canvas").css("transform-origin","0 0")},resetData:function(){console.log("resetData"),ue()},loadAsset:function(e){console.log("loadAsset"),PIXI.loader.resources.g1Ui?e():O.loadAllAssets(H,e)},setUp:function(e){console.log("setup"),H.common.currentStage=1,E.setupEnv(e,H),this.resizeCanvas(),J(H),oe(H),ue()},start:function(){se()},pause:function(){ge()}},computed:Object(s["a"])({},Object(f["c"])(["debug"])),beforeDestroy:function(){console.log("beforeDestroy")},destroyed:function(){delete H.common.app,console.log("destroyed")},watch:{},data:function(){return{gameContainer:".game1 .game-container"}}},_e=fe,Ie=(i("86b7"),Object(u["a"])(_e,L,B,!1,null,"ae461332",null)),xe=Ie.exports,we=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ve=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"game2"},[i("div",{staticClass:"loading-text"},[e._v("載入中")]),i("div",{staticClass:"game-container"})])}];function Pe(e){me=e.common,he=e.game2Data,he.g2Ui=new PIXI.Sprite(PIXI.loader.resources.g2Ui.texture),he.g2Ui.position.set(0,0),he.g2Ui.anchor.set(0,0),he.timeText_g2=new PIXI.Text("Time",new PIXI.TextStyle({fontSize:52,fill:"#FFD25D",fontWeight:500})),he.timeText_g2.position.set(me.app.screen.width/2,60),he.timeText_g2.anchor.set(.5,0),he.timeRemainingText_g2=new PIXI.Text("30",new PIXI.TextStyle({fontSize:52,fill:"#FFD25D",fontWeight:"bold"})),he.timeRemainingText_g2.position.set(me.app.screen.width/2,120),he.timeRemainingText_g2.anchor.set(.5,0),he.hintRect_g2=new PIXI.Graphics,he.hintRect_g2.beginFill(0,0),he.hintRect_g2.lineStyle(80,16711680,1),he.hintRect_g2.drawRect(0,0,me.app.screen.width,me.app.screen.height),he.hintRect_g2.endFill(),he.hintRect_g2.visible=!1;for(var t=[],i=0;i<7;i++){var n=PIXI.Texture.fromFrame("roadBgG2"+i);t.push(n)}he.cityRoadAniBg_g2=new PIXI.extras.AnimatedSprite(t),he.cityRoadAniBg_g2.animationSpeed=1,he.cityRoadAniBg_g2.play(),he.missImg_g2=new PIXI.Sprite(PIXI.loader.resources.missImg.texture),he.missImg_g2.position.set(me.app.screen.width-60,me.app.screen.height/2-he.missImg_g2.height),he.missImg_g2.anchor.set(1,0),he.missImg_g2.scale.set(.6,.6),he.mrImg_g2=new PIXI.Sprite(PIXI.loader.resources.mrImg.texture),he.mrImg_g2.position.set(60,80),he.mrImg_g2.anchor.set(0,0),he.mrImg_g2.scale.set(.6,.6),he.sysImg_g2=new PIXI.Sprite(PIXI.loader.resources.sysImg.texture),he.sysImg_g2.position.set(60,80+he.mrImg_g2.height+60),he.sysImg_g2.anchor.set(0,0),he.sysImg_g2.scale.set(.6,.6),he.dash_g2=new PIXI.Sprite(PIXI.loader.resources.dashImg.texture),he.dash_g2.position.set(me.app.screen.width/2,me.app.screen.height),he.dash_g2.anchor.set(.5,1),he.dash_g2.scale.set(.8,.8),he.leftBtn_g2=new PIXI.Sprite(PIXI.loader.resources.leftBtnImg.texture),he.leftBtn_g2.position.set(60,me.app.screen.height-60),he.leftBtn_g2.anchor.set(0,1),he.rightBtn_g2=new PIXI.Sprite(PIXI.loader.resources.rightBtnImg.texture),he.rightBtn_g2.position.set(me.app.screen.width-60-he.rightBtn_g2.width,me.app.screen.height-60),he.rightBtn_g2.anchor.set(0,1),he.hint_g2=new PIXI.Sprite(PIXI.loader.resources.hintImg.texture),he.hint_g2.position.set(me.app.screen.width-60,me.app.screen.height/2+he.missImg_g2.height+100),he.hint_g2.anchor.set(1,1),he.hint_g2.scale.set(.6,.6),he.hintTextG2=new PIXI.Text("請將車子保持在適當距離",new PIXI.TextStyle({fontSize:24,fill:"#FFFFFF",fontWeight:500})),he.hintTextG2.position.set(me.app.screen.width/2,me.app.screen.height-he.dash_g2.height-30),he.hintTextG2.anchor.set(.5,.5),me.prePlayStartTextG2=new PIXI.Text("5",new PIXI.TextStyle({fontSize:180,fill:"#FFFFFF",fontWeight:500})),me.prePlayStartTextG2.position.set(me.app.screen.width/2,me.app.screen.height/2-200),me.prePlayStartTextG2.anchor.set(.5,.5),me.prePlayStartTextG2.visible=!1,he.world3D_g2=new PIXI.projection.Container2d,he.world3D_g2.position.set(0,700),ye(),me.stage2.addChild(he.cityRoadAniBg_g2),me.stage2.addChild(he.vanishingPoint_g2),me.stage2.addChild(he.world3D_g2),me.stage2.addChild(he.rightBtn_g2),me.stage2.addChild(he.leftBtn_g2),me.stage2.addChild(me.prePlayStartTextG2),me.stage2.addChild(he.hintTextG2),me.stage2.addChild(he.hintRect_g2),me.stage2.addChild(he.g2Ui),he.speedDownSound=PIXI.loader.resources.speedDownSound.data,he.speedDownSound.volume=1,he.speedUpSound=PIXI.loader.resources.speedUpSound.data,he.speedUpSound.volume=1}function ye(){he.bigWhiteTexture=new PIXI.Texture(PIXI.Texture.WHITE.baseTexture),he.bigWhiteTexture.orig.width=30,he.bigWhiteTexture.orig.height=30,he.lineLeft_g2=new PIXI.projection.Sprite2d(he.bigWhiteTexture),he.lineLeft_g2.tint=16777215,he.lineLeft_g2.scale.set(1,1e3),he.lineLeft_g2.anchor.set(.5,.5),he.lineLeft_g2.position.set((me.app.screen.width-he.roadWidth_g2)/2,0),he.lineRight_g2=new PIXI.projection.Sprite2d(he.bigWhiteTexture),he.lineRight_g2.tint=16777215,he.lineRight_g2.scale.set(1,1e3),he.lineRight_g2.anchor.set(.5,.5),he.lineRight_g2.position.set((me.app.screen.width+he.roadWidth_g2)/2,0),he.lineGroup_g2=[];for(var e=0;e<10;e++){var t=new PIXI.projection.Sprite2d(he.bigWhiteTexture);t.tint=16777215,t.scale.set(he.roadWidth_g2/30,.5),t.anchor.set(.5),t.counterY=6e3*e,t.counterX=0,t.position.set(me.app.screen.width/2,1e4),t.proj.affine=PIXI.projection.AFFINE.AXIS_X,he.lineGroup_g2.push(t)}he.streetLightGroup_g2=[];for(var i=0;i<20;i++){var n=new PIXI.projection.Sprite2d(PIXI.loader.resources.streetLightImg.texture);n.scale.set(8),n.scale.y=-8,i%2==0?(n.scale.x=-8,n.position.set(me.app.screen.width/2+he.roadWidth_g2/2,3e4)):n.position.set(me.app.screen.width/2-he.roadWidth_g2/2,3e4),n.anchor.set(0,1),n.counterY=36e3*i,n.counterX=0,n.proj.affine=PIXI.projection.AFFINE.AXIS_Y,he.streetLightGroup_g2.push(n),he.world3D_g2.addChild(n)}for(var r=0;r<4;r++){var a=new PIXI.projection.Sprite2d(PIXI.Texture.fromFrame("safeAreaHintImg"+r));a.width=he.roadWidth_g2/5,a.height=1500,a.scale.y=-1,a.tint=16711680,a.anchor.set(.5,0),a.position.set(me.app.screen.width/2,he.currentCarPosition),he.safeAreaHint.push(a),he.world3D_g2.addChild(a)}he.car_g2=new PIXI.projection.Sprite2d(PIXI.loader.resources.carMidImg.texture),he.car_g2.scale.set(5,-5),he.car_g2.anchor.set(.5,1),he.car_g2.position.set(me.app.screen.width/2,he.currentCarPosition),he.car_g2.proj.affine=PIXI.projection.AFFINE.AXIS_Y,he.world3D_g2.addChild(he.car_g2),he.vanishingPointStyle_g2=new PIXI.TextStyle({fontFamily:"Arial",fontSize:20,fill:"#ffffff"}),he.vanishingPoint_g2=new PIXI.Text("Ｏ",he.vanishingPointStyle_g2),he.vanishingPoint_g2.anchor.set(.5),he.vanishingPoint_g2.position.set(945,-35)}var Te,Se,be,Ce,Ge,Re={game2Loop:Ae},Xe=0;function Ae(e){Te||Me(e);for(var t=0;t<be.lineGroup_g2.length;t++){var i=be.lineGroup_g2[t];i.counterY-=5*(be.carSpeed+1)+100,i.position.y=i.counterY,i.counterY<-500&&(i.counterY=6e4)}for(var n=0;n<be.streetLightGroup_g2.length;n++){var r=be.streetLightGroup_g2[n];r.counterY-=5*(be.carSpeed+1)+100,r.position.y=r.counterY,r.counterY<-500&&(r.counterY=264e3)}if(be.carSpeedUp?(be.carSpeed+=.3,be.carSpeed>be.carSpeedMax&&(be.carSpeed=be.carSpeedMax)):be.carSpeed-=.01,be.carSpeedDown&&(be.carSpeed-=.3,be.carSpeed<be.carSpeedMin&&(be.carSpeed=be.carSpeedMin)),be.carSpeed+=be.carSpeedRandomSeed,be.currentCarPosition<be.safeAreaMax&&be.currentCarPosition>be.safeAreaMin){if(be.dangerAreaStayTime=0,!be.safeState){be.safeAreaTimeline.pause(),be.safeAreaHintIndex=3;for(var a=0;a<4;a++)be.safeAreaHint[a].visible=a==be.safeAreaHintIndex,be.safeAreaHint[a].alpha=(be.safeAreaHintIndex+1)/4}be.safeState=!0;for(var o=0;o<4;o++)be.safeAreaHint[o].tint=65280}else{be.safeState&&(be.safeAreaHintIndex=0,be.safeAreaTimeline.restart()),be.safeState=!1,be.dangerAreaStayTime++;for(var s=0;s<4;s++)be.safeAreaHint[s].tint=16776960}be.currentCarPosition>be.safeAreaMax&&be.carSpeedUp&&(be.dangerAreaStayTime=0),be.currentCarPosition<be.safeAreaMin&&be.carSpeedDown&&(be.dangerAreaStayTime=0),be.dangerAreaStayTime>180?be.hintRect_g2.visible=!0:be.hintRect_g2.visible=!1,be.currentCarPosition<be.carMovingAncorMin&&(be.currentCarPosition=be.carMovingAncorMin),be.currentCarPosition>be.carMovingAncorMax&&(be.currentCarPosition=be.carMovingAncorMax),be.currentCarPosition-=3*be.carSpeed,be.car_g2.position.set(Se.app.screen.width/2,be.currentCarPosition);for(var g=0;g<4;g++)be.safeAreaHint[g].position.set(Se.app.screen.width/2,be.currentCarPosition-100);be.safeAreaHint.height=1500,Xe++,be.car_g2.position.x=50*Math.sin(Xe/40)+Se.app.screen.width/2}function Me(e){Te=e,Se=e.common,be=e.game2Data}function Le(e){e,Ce=e.common,Ge=e.game2Data;var t=new TimelineMax;t.fromTo(Ge.hintRect_g2,.25,{alpha:0},{alpha:1}).yoyo(1).repeat(-1),ke(),We(),Fe(),je(),Ce.app.stage.addChild(Ce.stage2),Ce.app.ticker.speed=1,Ce.app.ticker.add(function(t){return Re.game2Loop(e)}),Ce.prePlayTimelineG2.restart(),Ce.isGameRunning=!1,Ce.isPrePlaying=!0}function Be(e){Ce.app.ticker.start()}function De(e){Ce.app.ticker.stop()}function ke(){Ge.rightBtn_g2.interactive=!0,Ge.rightBtn_g2.buttonMode=!0,Ge.leftBtn_g2.interactive=!0,Ge.leftBtn_g2.buttonMode=!0,Ge.rightBtn_g2.on("pointerdown",function(){Ce.isPrePlaying||(Ge.speedUpSound.time=0,Ge.speedUpSound.play(),Ge.rightBtn_g2.tint=5592405,Ge.carSpeedUp=!0)}),Ge.rightBtn_g2.on("pointerup",function(){Ce.isPrePlaying||(Ge.rightBtn_g2.tint=16777215,Ge.carSpeedUp=!1)}),Ge.leftBtn_g2.on("pointerdown",function(){Ce.isPrePlaying||(Ge.speedDownSound.time=0,Ge.speedDownSound.play(),Ge.leftBtn_g2.tint=5592405,Ge.carSpeedDown=!0)}),Ge.leftBtn_g2.on("pointerup",function(){Ce.isPrePlaying||(Ge.leftBtn_g2.tint=16777215,Ge.carSpeedDown=!1)}),$("body").keydown(function(e){e.keyCode})}function Fe(){var e=Ge.world3D_g2.toLocal(Ge.vanishingPoint_g2.position,void 0,void 0,void 0,PIXI.projection.TRANSFORM_STEP.BEFORE_PROJ);Ge.world3D_g2.proj.setAxisY(e,1)}function We(){Ge.safeAreaTimeline=new TimelineMax({pause:!0}),Ge.safeAreaTimeline.add(function(){for(var e=0;e<4;e++)Ge.safeAreaHint[e].visible=e==Ge.safeAreaHintIndex,Ge.safeAreaHint[e].alpha=(Ge.safeAreaHintIndex+1)/4;Ge.safeAreaHintIndex=(Ge.safeAreaHintIndex+1)%4},.2).repeat(3);var e=new TimelineMax;e.fromTo(Ge.safeAreaHint[3],.8,{alpha:0},{alpha:.8}).yoyo(1).repeat(-1)}function je(){Ce.prePlayTimelineG2=new TimelineMax({paused:!0}),Ce.prePlayTimelineG2.add(function(){Ge.timeText_g2.visible=!1,Ge.timeRemainingText_g2.visible=!1,Ce.isPrePlaying=!0,Ge.leftBtn_g2.tint=5592405},0).add(function(){Ce.prePlayStartTextG2.text="5",Ce.prePlayStartTextG2.visible=!0,Ge.rightBtn_g2.tint=16777215,Ge.carSpeedUp=!0,Ge.speedUpSound.play()},1).add(function(){Ce.prePlayStartTextG2.text="4"},2).add(function(){Ce.prePlayStartTextG2.text="3"},3).add(function(){Ge.rightBtn_g2.tint=5592405,Ge.carSpeedUp=!1,Ce.prePlayStartTextG2.text="2"},4).add(function(){Ge.leftBtn_g2.tint=16777215,Ge.carSpeedDown=!0,Ge.speedDownSound.play(),Ce.prePlayStartTextG2.text="1"},5).add(function(){Ge.leftBtn_g2.tint=5592405,Ge.carSpeedDown=!1,Ce.prePlayStartTextG2.text="GO!"},6).add(function(){Ge.rightBtn_g2.tint=16777215,Ge.leftBtn_g2.tint=16777215,Ge.timeRemainingText_g2.visible=!0,Ce.prePlayStartTextG2.visible=!1,Ge.timeText_g2.visible=!0,Ce.isPrePlaying=!1,He()},7).add(function(){Ge.carSpeedRandomSeed=-.01},13).add(function(){Ge.carSpeedRandomSeed=.01},16).add(function(){Ge.carSpeedRandomSeed=-.01},20).add(function(){Ge.carSpeedRandomSeed=-.01},23).add(function(){Ge.carSpeedRandomSeed=-.01},27).add(function(){Ge.carSpeedRandomSeed=.01},30).add(function(){Ge.carSpeedRandomSeed=-.01},32).add(function(){Ge.carSpeedRandomSeed=.01},35).add(function(){Ge.carSpeedRandomSeed=-.01},40)}function He(){Ge.remainingTime=30,Ge.timeRemainingText_g2.text=Ge.remainingTime,clearInterval(Ge.timerGame2),Ge.timerGame2=setInterval(function(){Ge.remainingTime--,Ge.remainingTime<=0&&(Ge.remainingTime=0),Ge.remainingTime,Ge.timeRemainingText_g2.text=Ge.remainingTime},1e3)}function Ee(){Ce.prePlayTimelineG2&&Ce.prePlayTimelineG2.restart();for(var e=0;e<10;e++){var t=Ge.lineGroup_g2[e];t.counterY=6e3*e,t.counterX=0,t.position.set(Ce.app.screen.width/2,1e4)}for(var i=0;i<20;i++){var n=Ge.streetLightGroup_g2[i];i%2==0?(n.scale.x=-8,n.position.set(Ce.app.screen.width/2+Ge.roadWidth_g2/2,3e4)):n.position.set(Ce.app.screen.width/2-Ge.roadWidth_g2/2,3e4),n.anchor.set(0,1),n.counterY=24e3*i,n.counterX=0}Ge.carSpeed=0,Ge.currentCarPosition=1200,He()}var Ye,Oe,Ue={name:"Game2",props:{msg:String},mounted:function(){},methods:{resizeCanvas:function(){var e=$(window).innerWidth()/1920;$("canvas").css("transform","scale(".concat(e,")")),$("canvas").css("transform-origin","0 0")},resetData:function(){console.log("resetData"),Ee()},loadAsset:function(e){console.log("loadAsset"),PIXI.loader.resources.g1Ui?e():O.loadAllAssets(H,e)},setUp:function(e){console.log("setup"),H.common.currentStage=2,E.setupEnv(e,H),this.resizeCanvas(),Pe(H),Le(H),Ee()},start:function(){Be()},pause:function(){De()}},computed:Object(s["a"])({},Object(f["c"])(["debug"])),beforeDestroy:function(){},destroyed:function(){delete H.common.app},watch:{},data:function(){return{gameContainer:".game2 .game-container"}}},Ne=Ue,$e=(i("ca52"),Object(u["a"])(Ne,we,ve,!1,null,"30127857",null)),ze=$e.exports,qe=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Je=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"game3"},[i("div",{staticClass:"loading-text"},[e._v("載入中")]),i("div",{staticClass:"game-container"})])}];function Ve(e){Ye=e.common,Oe=e.game3Data,Oe.timeText_g3=new PIXI.Text("Time",new PIXI.TextStyle({fontSize:52,fill:"#FFD25D",fontWeight:500})),Oe.timeText_g3.position.set(Ye.app.screen.width/2,60),Oe.timeText_g3.anchor.set(.5,0),Oe.timeRemainingText_g3=new PIXI.Text("30",new PIXI.TextStyle({fontSize:52,fill:"#FFD25D",fontWeight:"bold"})),Oe.timeRemainingText_g3.position.set(Ye.app.screen.width/2,120),Oe.timeRemainingText_g3.anchor.set(.5,0),Oe.hintRect_g3=new PIXI.Graphics,Oe.hintRect_g3.beginFill(16711680,1),Oe.hintRect_g3.drawRect(0,0,Ye.app.screen.width,Ye.app.screen.height),Oe.hintRect_g3.endFill(),Oe.hintRect_g3.alpha=0,Oe.hintRectGood_g3=new PIXI.Graphics,Oe.hintRectGood_g3.beginFill(0,0),Oe.hintRectGood_g3.lineStyle(80,65280,1),Oe.hintRectGood_g3.drawRect(0,0,Ye.app.screen.width,Ye.app.screen.height),Oe.hintRectGood_g3.endFill(),Oe.hintRectGood_g3.alpha=0,Oe.cityRoad_g3=new PIXI.Sprite(PIXI.loader.resources.cityG3Img.texture),Oe.cityRoad_g3.position.set(Ye.app.screen.width/2,Ye.app.screen.height/2),Oe.cityRoad_g3.scale.set(1,1),Oe.cityRoad_g3.anchor.set(.5,.5),Oe.missImg_g3=new PIXI.Sprite(PIXI.loader.resources.missImg.texture),Oe.missImg_g3.position.set(Ye.app.screen.width-60,Ye.app.screen.height/2-Oe.missImg_g3.height),Oe.missImg_g3.anchor.set(1,0),Oe.missImg_g3.scale.set(.6,.6),Oe.mrImg_g3=new PIXI.Sprite(PIXI.loader.resources.mrImg.texture),Oe.mrImg_g3.position.set(60,80),Oe.mrImg_g3.anchor.set(0,0),Oe.mrImg_g3.scale.set(.6,.6),Oe.sysImg_g3=new PIXI.Sprite(PIXI.loader.resources.sysImg.texture),Oe.sysImg_g3.position.set(60,80+Oe.mrImg_g3.height+60),Oe.sysImg_g3.anchor.set(0,0),Oe.sysImg_g3.scale.set(.6,.6),Oe.dash_g3=new PIXI.Sprite(PIXI.loader.resources.dashImg.texture),Oe.dash_g3.position.set(Ye.app.screen.width/2,Ye.app.screen.height),Oe.dash_g3.anchor.set(.5,1),Oe.dash_g3.scale.set(.8,.8),Oe.leftBtn_g3=new PIXI.Sprite(PIXI.loader.resources.leftBtnG3Img.texture),Oe.leftBtn_g3.position.set(60,Ye.app.screen.height-60),Oe.leftBtn_g3.anchor.set(0,1),Oe.rightBtn_g3=new PIXI.Sprite(PIXI.loader.resources.rightBtnG3Img.texture),Oe.rightBtn_g3.position.set(Ye.app.screen.width-60-Oe.rightBtn_g3.width,Ye.app.screen.height-60),Oe.rightBtn_g3.anchor.set(0,1),Oe.hint_g3=new PIXI.Sprite(PIXI.loader.resources.hintG3Img.texture),Oe.hint_g3.position.set(Ye.app.screen.width-60,Ye.app.screen.height/2+Oe.missImg_g3.height+100),Oe.hint_g3.anchor.set(1,1),Oe.hint_g3.scale.set(.6,.6);for(var t=[],i=0;i<60;i++){var n=PIXI.Texture.fromFrame("mirror"+i);t.push(n)}Oe.mirrorBgLeft_g3=new PIXI.extras.AnimatedSprite(t),Oe.mirrorBgLeft_g3.animationSpeed=-1.2,Oe.mirrorBgLeft_g3.play(),Oe.mirrorBgRight_g3=new PIXI.extras.AnimatedSprite(t),Oe.mirrorBgRight_g3.animationSpeed=-1.2,Oe.mirrorBgRight_g3.play(),Oe.mirrorBgRight_g3.position.set(-Oe.mirrorBgLeft_g3.width/2+50,0);var r={x:Ye.app.screen.width/2-Oe.mirrorBgLeft_g3.width+190,y:80},a={x:Ye.app.screen.width/2+100,y:80};Oe.mirrorBorderLeft_g3=new PIXI.Sprite(PIXI.loader.resources.mirrorBorderLeftImg.texture),Oe.mirrorBorderLeft_g3.position.set(r.x,r.y),Oe.mirrorBorderRight_g3=new PIXI.Sprite(PIXI.loader.resources.mirrorBorderRightImg.texture),Oe.mirrorBorderRight_g3.position.set(a.x,a.y),Oe.carInMirrorLeft_g3=new PIXI.Sprite(PIXI.loader.resources.carInMirrorLeftImg.texture),Oe.carInMirrorLeft_g3.position.set(Oe.mirrorBgLeft_g3.width/2-60,-200),Oe.carInMirrorLeft_g3.scale.set(.1,.1),Oe.carInMirrorLeft_g3.anchor.set(.5,.5),Oe.carInMirrorRight_g3=new PIXI.Sprite(PIXI.loader.resources.carInMirrorRightImg.texture),Oe.carInMirrorRight_g3.position.set(Oe.mirrorBgRight_g3.width/2+60,-200),Oe.carInMirrorRight_g3.scale.set(.1,.1),Oe.carInMirrorRight_g3.anchor.set(.5,.5),Oe.mirrorLeft_g3=new PIXI.Container,Oe.mirrorRight_g3=new PIXI.Container,Oe.mirrorLeft_g3.addChild(Oe.mirrorBgLeft_g3),Oe.mirrorLeft_g3.addChild(Oe.carInMirrorLeft_g3),Oe.mirrorRight_g3.addChild(Oe.mirrorBgRight_g3),Oe.mirrorRight_g3.addChild(Oe.carInMirrorRight_g3),Oe.mirrorLeft_g3.position.set(r.x,r.y),Oe.mirrorRight_g3.position.set(a.x,a.y),Oe.mirrorMaskLeft_g3=new PIXI.Sprite(PIXI.loader.resources.mirrorMaskLeftImg.texture),Oe.mirrorMaskLeft_g3.position.set(r.x,r.y),Oe.mirrorLeft_g3.mask=Oe.mirrorMaskLeft_g3,Oe.mirrorMaskRight_g3=new PIXI.Sprite(PIXI.loader.resources.mirrorMaskRightImg.texture),Oe.mirrorMaskRight_g3.position.set(a.x,a.y),Oe.mirrorRight_g3.mask=Oe.mirrorMaskRight_g3,Oe.mirrorHintLeft_g3=new PIXI.Sprite(PIXI.loader.resources.mirrorHintLeftImg.texture),Oe.mirrorHintLeft_g3.position.set(r.x-120,r.y-120),Oe.mirrorHintLeft_g3.visible=!1,Oe.mirrorHintRight_g3=new PIXI.Sprite(PIXI.loader.resources.mirrorHintRightImg.texture),Oe.mirrorHintRight_g3.position.set(a.x-120,a.y-120),Oe.mirrorHintRight_g3.visible=!1,Oe.hintTextG3=new PIXI.Text("請注意後照鏡並透過左右按鈕提醒車主",new PIXI.TextStyle({fontSize:24,fill:"#FFFFFF",fontWeight:500})),Oe.hintTextG3.position.set(Ye.app.screen.width/2,Ye.app.screen.height/2),Oe.hintTextG3.anchor.set(.5,.5),Ye.prePlayStartTextG3=new PIXI.Text("5",new PIXI.TextStyle({fontSize:180,fill:"#FFFFFF",fontWeight:500})),Ye.prePlayStartTextG3.position.set(Ye.app.screen.width/2,Ye.app.screen.height/2-200),Ye.prePlayStartTextG3.anchor.set(.5,.5),Ye.prePlayStartTextG3.visible=!1,Ke(),Ye.stage3.addChild(Oe.vanishingPoint_g3),Ye.stage3.addChild(Oe.world3D_g3),Ye.stage3.addChild(Oe.missImg_g3),Ye.stage3.addChild(Oe.hint_g3),Ye.stage3.addChild(Oe.mrImg_g3),Ye.stage3.addChild(Oe.sysImg_g3),Ye.stage3.addChild(Oe.timeText_g3),Ye.stage3.addChild(Oe.timeRemainingText_g3),Ye.stage3.addChild(Oe.mirrorHintLeft_g3),Ye.stage3.addChild(Oe.mirrorHintRight_g3),Ye.stage3.addChild(Oe.mirrorLeft_g3),Ye.stage3.addChild(Oe.mirrorRight_g3),Ye.stage3.addChild(Oe.mirrorMaskRight_g3),Ye.stage3.addChild(Oe.mirrorMaskLeft_g3),Ye.stage3.addChild(Oe.mirrorBorderLeft_g3),Ye.stage3.addChild(Oe.mirrorBorderRight_g3),Ye.stage3.addChild(Oe.rightBtn_g3),Ye.stage3.addChild(Oe.leftBtn_g3),Ye.stage3.addChild(Oe.hintRect_g3),Ye.stage3.addChild(Oe.hintRectGood_g3),Ye.stage3.addChild(Oe.hintTextG3),Ye.stage3.addChild(Ye.prePlayStartTextG3)}function Ke(){Oe.world3D_g3=new PIXI.projection.Container2d,Oe.world3D_g3.position.set(0,910),Oe.bigWhiteTexture=new PIXI.Texture(PIXI.Texture.WHITE.baseTexture),Oe.bigWhiteTexture.orig.width=30,Oe.bigWhiteTexture.orig.height=30,Oe.lineLeft_g3=new PIXI.projection.Sprite2d(Oe.bigWhiteTexture),Oe.lineLeft_g3.tint=16777215,Oe.lineLeft_g3.scale.set(1,1e3),Oe.lineLeft_g3.anchor.set(.5,.5),Oe.lineLeft_g3.position.set((Ye.app.screen.width-Oe.roadWidth_g3)/2,0),Oe.lineRight_g3=new PIXI.projection.Sprite2d(Oe.bigWhiteTexture),Oe.lineRight_g3.tint=16777215,Oe.lineRight_g3.scale.set(1,1e3),Oe.lineRight_g3.anchor.set(.5,.5),Oe.lineRight_g3.position.set((Ye.app.screen.width+Oe.roadWidth_g3)/2,0),Oe.world3D_g3.addChild(Oe.lineLeft_g3),Oe.world3D_g3.addChild(Oe.lineRight_g3),Oe.lineGroup_g3=[];for(var e=0;e<10;e++){var t=new PIXI.projection.Sprite2d(Oe.bigWhiteTexture);t.tint=16777215,t.scale.set(Oe.roadWidth_g3/30,.5),t.anchor.set(.5),t.counterY=3e3*e,t.counterX=0,t.position.set(Ye.app.screen.width/2,1e4),t.proj.affine=PIXI.projection.AFFINE.AXIS_X,Oe.lineGroup_g3.push(t),Oe.world3D_g3.addChild(t)}for(var i=1;i<6;i++){var n=PIXI.Texture.fromFrame("wifiImg"+i),r=new PIXI.projection.Sprite2d(n);r.scale.set(-1.2,-1.2),r.tint=16765533,r.visible=!1,r.position.set(Ye.app.screen.width/2-300,Oe.carPosY_g3-500),Oe.leftWifi.push(r);var a=new PIXI.projection.Sprite2d(n);a.position.set(Ye.app.screen.width/2+50,Oe.carPosY_g3-500),a.scale.set(1.2,-1.2),a.tint=16765533,a.visible=!1,Oe.rightWifi.push(a),Oe.world3D_g3.addChild(r),Oe.world3D_g3.addChild(a)}Oe.carComingLeft_g3=new PIXI.projection.Sprite2d(PIXI.loader.resources.carComingLeftImg.texture),Oe.carComingLeft_g3.scale.set(5,-5),Oe.carComingLeft_g3.anchor.set(.5),Oe.carComingLeft_g3.position.set(Ye.app.screen.width/2-Oe.roadWidth_g3/4+100,-1e3),Oe.carComingLeft_g3.proj.affine=PIXI.projection.AFFINE.AXIS_Y,Oe.carComingLeft_g3.visible=!1,Oe.world3D_g3.addChild(Oe.carComingLeft_g3),Oe.carComingRight_g3=new PIXI.projection.Sprite2d(PIXI.loader.resources.carComingRightImg.texture),Oe.carComingRight_g3.scale.set(5,-5),Oe.carComingRight_g3.anchor.set(.5),Oe.carComingRight_g3.position.set(Ye.app.screen.width/2+Oe.roadWidth_g3/4-100,-1e3),Oe.carComingRight_g3.proj.affine=PIXI.projection.AFFINE.AXIS_Y,Oe.carComingRight_g3.visible=!1,Oe.world3D_g3.addChild(Oe.carComingRight_g3),Oe.car_g3=new PIXI.projection.Sprite2d(PIXI.loader.resources.carMidImg.texture),Oe.car_g3.scale.set(5,-5),Oe.car_g3.anchor.set(.5,.5),Oe.car_g3.position.set(Ye.app.screen.width/2,Oe.carPosY_g3),Oe.car_g3.proj.affine=PIXI.projection.AFFINE.AXIS_Y,Oe.world3D_g3.addChild(Oe.car_g3),Oe.vanishingPointStyle_g3=new PIXI.TextStyle({fontFamily:"Arial",fontSize:20,fill:"#ffffff"}),Oe.vanishingPoint_g3=new PIXI.Text("Ｏ",Oe.vanishingPointStyle_g3),Oe.vanishingPoint_g3.anchor.set(.5),Oe.vanishingPoint_g3.position.set(960,535)}var Qe,Ze,et,tt,it,nt={game3Loop:rt};function rt(e){Qe||at(e);for(var t=0;t<et.lineGroup_g3.length;t++){var i=et.lineGroup_g3[t];i.counterY-=et.carSpeed,console.log(i.counterY),i.position.y=i.counterY,i.counterY<-500&&(i.counterY=33e3)}if(et.leftBtnClick_g3&&et.isLeftCarComes){var n=new TimelineMax;n.fromTo(et.hintRectGood_g3,.2,{alpha:1},{alpha:0}).yoyo(1).repeat(6),et.carMoveLeftAni&&(et.carMoveLeftAni.kill(),et.carMoveLeftAni=null,et.carMoveLeftAniMirror.kill()),ot()}if(et.rightBtnClick_g3&&et.isRightCarComes){var r=new TimelineMax;r.fromTo(et.hintRectGood_g3,.2,{alpha:1},{alpha:0}).yoyo(1).repeat(6),et.carMoveRightAni&&(et.carMoveRightAni.kill(),et.carMoveRightAni=null,et.carMoveRightAniMirror.kill()),ot()}for(var a=0;a<5;a++){var o=et.leftWifi[a],s=et.rightWifi[a];o.position.set(et.car_g3.position.x-200,et.car_g3.position.y-500),s.position.set(et.car_g3.position.x+200,et.car_g3.position.y-500)}0}function at(e){Qe=e,Ze=e.common,et=e.game3Data}function ot(){TweenMax.to(et.car_g3.position,1,{x:Ze.app.screen.width/2,ease:Power0.easeNone}),TweenMax.to(et.mirrorBgRight_g3.position,1,{x:-300,ease:Power0.easeNone}),TweenMax.to(et.mirrorBgLeft_g3.position,1,{x:0,ease:Power0.easeNone})}function st(e){e,tt=e.common,it=e.game3Data,ut(),ft(),ct(),dt(),_t(),It(),it.rightBtnClick_g3=!1,it.leftBtnClick_g3=!1;var t=new TimelineMax;t.fromTo(it.mirrorHintLeft_g3,.2,{alpha:0},{alpha:1}).yoyo(1).repeat(-1);var i=new TimelineMax;i.fromTo(it.mirrorHintRight_g3,.2,{alpha:0},{alpha:1}).yoyo(1).repeat(-1),tt.app.stage.addChild(tt.stage3),tt.app.ticker.speed=1,tt.app.ticker.add(function(t){return nt.game3Loop(e)}),tt.prePlayTimelineG3.restart(),tt.isGameRunning=!1,tt.isPrePlaying=!0,tt.app.ticker.start()}function gt(e){tt.app.ticker.start()}function lt(e){tt.app.ticker.stop()}function ct(){it.rightBtn_g3.interactive=!0,it.rightBtn_g3.buttonMode=!0,it.leftBtn_g3.interactive=!0,it.leftBtn_g3.buttonMode=!0,it.rightBtn_g3.on("pointerdown",function(){tt.isPrePlaying||(it.rightWifiTimeline.restart(),it.rightBtn_g3.tint=5592405,it.rightBtnClick_g3=!0)}),it.rightBtn_g3.on("pointerup",function(){tt.isPrePlaying||(it.rightBtn_g3.tint=16777215,it.rightBtnClick_g3=!1)}),it.leftBtn_g3.on("pointerdown",function(){tt.isPrePlaying||(it.leftWifiTimeline.restart(),it.leftBtn_g3.tint=5592405,it.leftBtnClick_g3=!0)}),it.leftBtn_g3.on("pointerup",function(){tt.isPrePlaying||(it.leftBtn_g3.tint=16777215,it.leftBtnClick_g3=!1)}),$("body").keyup(function(e){var t=e.keyCode;if(!tt.isPrePlaying)switch(t){case 37:it.leftBtn_g3.tint=16777215,it.leftBtnClick_g3=!1;break;case 39:it.rightBtn_g3.tint=16777215,it.rightBtnClick_g3=!1;break}}),$("body").keydown(function(e){var t=e.keyCode;console.log(t);if(!tt.isPrePlaying)switch(t){case 37:it.leftWifiTimeline.restart(),it.leftBtn_g3.tint=5592405,it.leftBtnClick_g3=!0;break;case 39:it.rightWifiTimeline.restart(),it.rightBtn_g3.tint=5592405,it.rightBtnClick_g3=!0;break}})}function dt(){var e=it.world3D_g3.toLocal(it.vanishingPoint_g3.position,void 0,void 0,void 0,PIXI.projection.TRANSFORM_STEP.BEFORE_PROJ);it.world3D_g3.proj.setAxisY(e,1)}function pt(){"left"==it.carSideSequence[it.carSideSequenceIndex]?it.carLeftTimeline_g3.restart():it.carRightTimeline_g3.restart(),it.carSideSequenceIndex=(it.carSideSequenceIndex+1)%6}function ut(){var e=TweenMax.fromTo(it.carComingLeft_g3.position,10,{y:-1e3,ease:Power0.easeNone},{y:1e4});it.carLeftTimeline_g3=new TimelineMax({onStart:function(){it.isLeftCarComes=!0,ht("left"),it.carMoveLeftAni=TweenMax.to(it.car_g3.position,3,{x:tt.app.screen.width/2-300,ease:Power0.easeNone}).delay(3),it.carMoveRightAniMirror=TweenMax.to(it.mirrorBgRight_g3.position,3,{x:-200,ease:Power0.easeNone}).delay(3),it.carMoveLeftAniMirror=TweenMax.to(it.mirrorBgLeft_g3.position,3,{x:100,ease:Power0.easeNone}).delay(3)},onComplete:function(){it.carLeftTimeline_g3.seek(0),it.carLeftTimeline_g3.pause(),pt(),it.carComingLeft_g3.visible=!1},paused:!0}),it.carLeftTimeline_g3.add(function(){it.carComingLeft_g3.visible=!1},0).add(e,4).add(function(){it.carComingLeft_g3.visible=!0},4.5).add(function(){if(it.isLeftCarComes=!1,it.carMoveLeftAni){TweenMax.to(it.car_g3.position,.5,{x:tt.app.screen.width/2-150,ease:Elastic.easeOut.config(1,.3)});var e=new TimelineMax({onComplete:function(){it.carComingLeft_g3.position.y=-1e3,mt()}});e.fromTo(it.hintRect_g3,.2,{alpha:.3},{alpha:0}).yoyo(1).repeat(6)}},4.7);var t=TweenMax.fromTo(it.carComingRight_g3.position,10,{y:-1e3,ease:Power0.easeNone},{y:1e4});it.carRightTimeline_g3=new TimelineMax({onStart:function(){it.isRightCarComes=!0,ht("right"),it.carMoveRightAni=TweenMax.to(it.car_g3.position,3,{x:tt.app.screen.width/2+300,ease:Power0.easeNone}).delay(3),it.carMoveRightAniMirror=TweenMax.to(it.mirrorBgRight_g3.position,3,{x:-400,ease:Power0.easeNone}).delay(3),it.carMoveLeftAniMirror=TweenMax.to(it.mirrorBgLeft_g3.position,3,{x:-100,ease:Power0.easeNone}).delay(3)},onComplete:function(){it.carRightTimeline_g3.seek(0),it.carRightTimeline_g3.pause(),pt(),it.carComingRight_g3.visible=!1},paused:!0}),it.carRightTimeline_g3.add(function(){it.carComingRight_g3.visible=!1},0).add(t,4).add(function(){it.carComingRight_g3.visible=!0},4.5).add(function(){if(it.isRightCarComes=!1,it.carMoveRightAni){TweenMax.to(it.car_g3.position,.5,{x:tt.app.screen.width/2+150,ease:Elastic.easeOut.config(1,.3)});var e=new TimelineMax({onComplete:function(){it.carComingRight_g3.position.y=-1e3,mt()}});e.fromTo(it.hintRect_g3,.2,{alpha:.3},{alpha:0}).yoyo(1).repeat(6)}},4.7)}function mt(){TweenMax.to(it.car_g3.position,1,{x:tt.app.screen.width/2,ease:Power0.easeNone}),TweenMax.to(it.mirrorBgRight_g3.position,1,{x:-300,ease:Power0.easeNone}),TweenMax.to(it.mirrorBgLeft_g3.position,1,{x:0,ease:Power0.easeNone})}function ht(e){"left"==e?it.carLeftMirrorTimeline_g3.restart():it.carRightMirrorTimeline_g3.restart()}function ft(){it.carLeftMirrorTimeline_g3=new TimelineMax({pause:!0});var e=TweenMax.fromTo(it.carInMirrorLeft_g3.position,3,{x:300,y:105,ease:Power0.easeNone},{x:295,y:100}),t=TweenMax.fromTo(it.carInMirrorLeft_g3.position,3,{x:295,y:100,ease:Power0.easeNone},{x:-50,y:300}),i=TweenMax.fromTo(it.carInMirrorLeft_g3.scale,2,{x:.03,y:.03,ease:Power0.easeNone},{x:.15,y:.15});it.carLeftMirrorTimeline_g3.add(e,0),it.carLeftMirrorTimeline_g3.add(t,3),it.carLeftMirrorTimeline_g3.add(i,3),it.carRightMirrorTimeline_g3=new TimelineMax({pause:!0});var n=TweenMax.fromTo(it.carInMirrorRight_g3.position,3,{x:105,y:105,ease:Power0.easeNone},{x:100,y:100}),r=TweenMax.fromTo(it.carInMirrorRight_g3.position,3,{x:100,y:100,ease:Power0.easeNone},{x:420,y:320}),a=TweenMax.fromTo(it.carInMirrorRight_g3.scale,2,{x:.03,y:.03,ease:Power0.easeNone},{x:.15,y:.15});it.carRightMirrorTimeline_g3.add(n,0),it.carRightMirrorTimeline_g3.add(r,3),it.carRightMirrorTimeline_g3.add(a,3)}function _t(){it.leftWifiTimeline=new TimelineMax({onStart:function(){it.leftWifiIndex=0},paused:!0}),it.leftWifiTimeline.add(function(){for(var e=0;e<5;e++)it.leftWifi[e].visible=e==it.leftWifiIndex;it.leftWifiIndex=(it.leftWifiIndex+1)%4},.2).delay(.2).repeat(8),it.rightWifiTimeline=new TimelineMax({onStart:function(){it.rightWifiIndex=0},paused:!0}),it.rightWifiTimeline.add(function(){for(var e=0;e<5;e++)it.rightWifi[e].visible=e==it.rightWifiIndex;it.rightWifiIndex=(it.rightWifiIndex+1)%4},.2).delay(.2).repeat(8)}function It(){tt.prePlayTimelineG3=new TimelineMax({paused:!0}),tt.prePlayTimelineG3.add(function(){it.carLeftMirrorTimeline_g3.play(),it.carLeftMirrorTimeline_g3.seek(4),it.carLeftTimeline_g3.play(),it.carLeftTimeline_g3.seek(4),it.carMoveLeftAni=TweenMax.to(it.car_g3.position,3,{x:tt.app.screen.width/2-300,ease:Power0.easeNone}),it.carMoveRightAniMirror=TweenMax.to(it.mirrorBgRight_g3.position,3,{x:-200,ease:Power0.easeNone}),it.carMoveLeftAniMirror=TweenMax.to(it.mirrorBgLeft_g3.position,3,{x:100,ease:Power0.easeNone}),it.timeText_g3.visible=!1,it.timeRemainingText_g3.visible=!1,tt.isPrePlaying=!0,tt.prePlayStartTextG3.text="5",tt.prePlayStartTextG3.visible=!0,it.leftBtn_g3.tint=5592405,it.rightBtn_g3.tint=5592405},0).add(function(){tt.prePlayStartTextG3.text="4"},1).add(function(){tt.prePlayStartTextG3.text="3",it.carMoveLeftAni.kill(),it.isRightCarComes=!0,it.carRightMirrorTimeline_g3.play(),it.carRightMirrorTimeline_g3.seek(2),it.carRightTimeline_g3.play(),it.carRightTimeline_g3.seek(2)},2).add(function(){it.carMoveRightAni=TweenMax.to(it.car_g3.position,2,{x:tt.app.screen.width/2+300,ease:Power0.easeNone}),it.carMoveRightAniMirror=TweenMax.to(it.mirrorBgRight_g3.position,2,{x:-400,ease:Power0.easeNone}),it.carMoveLeftAniMirror=TweenMax.to(it.mirrorBgLeft_g3.position,2,{x:-100,ease:Power0.easeNone}),tt.prePlayStartTextG3.text="2"},3).add(function(){it.rightBtn_g3.tint=16777215,it.rightBtnClick_g3=!0,it.rightWifiTimeline.restart(),tt.prePlayStartTextG3.text="1"},4).add(function(){tt.prePlayStartTextG3.text="GO!"},5).add(function(){it.leftBtn_g3.tint=16777215,tt.prePlayStartTextG3.visible=!1,it.timeText_g3.visible=!0,it.timeRemainingText_g3.visible=!0,it.hintTextG3.visible=!1,tt.isPrePlaying=!1,it.rightBtnClick_g3=!1,it.carLeftMirrorTimeline_g3.pause(),it.carLeftMirrorTimeline_g3.seek(10),it.carLeftTimeline_g3.pause(),it.carLeftTimeline_g3.seek(10),xt()},6)}function xt(){it.remainingTime=30,it.timeRemainingText_g3.text=it.remainingTime,clearInterval(it.timerGame3),it.timerGame3=setInterval(function(){it.remainingTime--,it.remainingTime<=0&&(it.remainingTime=0),it.remainingTime,it.timeRemainingText_g3.text=it.remainingTime},1e3)}function wt(){it.carSideSequenceIndex=0,tt.prePlayTimelineG3&&(tt.prePlayTimelineG3.play(),tt.prePlayTimelineG3.seek(0)),xt()}var vt={name:"Game3",props:{msg:String},mounted:function(){window.tempVars=H},methods:{resizeCanvas:function(){var e=$(window).innerWidth()/1920;$("canvas").css("transform","scale(".concat(e,")")),$("canvas").css("transform-origin","0 0")},resetData:function(){console.log("resetData"),wt()},loadAsset:function(e){console.log("loadAsset"),PIXI.loader.resources.g1Ui?e():O.loadAllAssets(H,e)},setUp:function(e){console.log("setup"),H.common.currentStage=3,E.setupEnv(e,H),this.resizeCanvas(),Ve(H),st(H),wt()},start:function(){gt()},pause:function(){lt()}},computed:Object(s["a"])({},Object(f["c"])(["debug"])),beforeDestroy:function(){},destroyed:function(){delete H.common.app},watch:{},data:function(){return{gameContainer:".game3 .game-container"}}},Pt=vt,yt=(i("3eeb"),Object(u["a"])(Pt,qe,Je,!1,null,"61239173",null)),Tt=yt.exports,St={name:"HelloWorld",props:{msg:String},mounted:function(){var e=this;(new A.a).init(),this.scrollY=window.scrollY,window.addEventListener("scroll",function(){e.scrollY=window.scrollY,e.getSectionHeightList()}),setTimeout(function(){e.$forceUpdate(),e.getSectionHeightList(),console.log("Init game"),e.$set(e,"refGroup",{1:e.$refs.game1[0],2:e.$refs.game2[0],3:e.$refs.game3[0]}),console.log(e.refGroup),setTimeout(function(){e.loadGame()},500)},500)},components:{Game1:xe,Game2:ze,Game3:Tt},methods:{getTransform:function(e,t,i){if(0==i)return 0;if(-1!=e.src.indexOf("speedline")||-1!=e.src.indexOf("dialog"))return 0;var n=.95*(this.scrollY-(this.sectionPositionList[t]+.6*window.outerHeight)),r=(this.scrollY-this.sectionPositionList[t])/(this.sectionHeightList[t]||0),a=e.getPanX?e.getPanX(n,r):0,o=e.getPanY?e.getPanY(n,r):-n/(.6*-i+5),s=e.getScale?e.getScale(n,r):0==i?1:1.03;return{x:a,y:o,scale:s}},getLayerStyle:function(e,t,i,n){var r=this.getTransform(e,n,t);return{"z-index":t,transform:"scale("+r.scale+") translate("+r.x+"px,"+r.y+"px)"}},getLayerClass:function(e,t){var i=e.class?e.classes:[],n={wow:!0,zoomIn:-1!=e.src.indexOf("dialog")||-1!=e.src.indexOf("explode"),tada:-1!=e.src.indexOf("speedline"),slideInRight:-1!=e.src.indexOf("A02_man")||-1!=e.src.indexOf("I02_box")||-1!=e.src.indexOf("I06_man"),slideInBottom:-1!=e.src.indexOf("D04_car"),pulse:-1!=e.src.indexOf("D04_car"),frontItem:0!=t};return i.forEach(function(e){return n[e]=!0}),n},getSectionHeightList:function(){this.sectionHeightList=this.scenes.map(function(e,t){var i=document.getElementById("sec_"+t),n=0;return i&&(n=i.offsetHeight),n})},getLayerObject:function(e){return"string"==typeof e?{src:e}:e},loadGame:function(){for(var e=this,t=1;t<=3;t++)console.log(this.refGroup[t]),this.refGroup[t].loadAsset(function(){e.refGroup[t].setUp(".game".concat(t," .game-container"))})}},computed:Object(s["a"])({},Object(f["c"])(["debug"]),{currentSection:function(){var e=this.sectionPositionList;if(e)for(var t=0;t<e.length;t++)if(this.scrollY<e[t])return this.scenes[t-1];return null},currentPreSection:function(){var e=this.sectionPositionList;if(e)for(var t=0;t<e.length;t++)if(this.scrollY+300<e[t])return this.scenes[t-1];return null},sectionPositionList:function(){return this.sectionHeightList.reduce(function(e,t){return e.lastHeight=R()(e.all.slice(-1))||0,e.all.push(e.lastHeight+t),e},{lastHeight:0,all:[0]}).all}}),watch:{currentPreSection:function(e,t){var i=this;e&&t&&(e.title!=t.title&&this.currentPreSection.audios&&this.currentPreSection.audios.forEach(function(e){var t=new Audio(e);console.log(e),t.volume=.5,t.play(),i.audioElList.push({scene:i.currentPreSection,element:t,paused:!1})}),e.title!=t.title&&"game"==t.type&&("Game1"==t.title&&this.refGroup["1"].start(),"Game2"==t.title&&this.refGroup["2"].start(),"Game3"==t.title&&this.refGroup["3"].start()),this.audioElList.forEach(function(e){e.scene===i.currentPreSection||e.scene===i.currentSection||e.paused||(e.paused=!0,M["TweenMax"].to(e.element,1,{volume:0}),setTimeout(function(){e.element.pause()},1e3))}))}},data:function(){return{sectionHeightList:[],audioElList:[],scrollY:0,sectionHeight:window.outerWidth/1920*1080,scenes:_.scenes,refGroup:{}}}},bt=St,Ct=(i("f78d"),Object(u["a"])(bt,b,C,!1,null,"fce30d32",null)),Gt=Ct.exports,Rt={name:"home",components:{StoryIndex:Gt},mounted:function(){setTimeout(function(){},2e3),setTimeout(function(){var e=new Audio("Audio/explode.wav");e.play()},5e3)},methods:Object(s["a"])({},Object(f["b"])(["setLoading"]))},Xt=Rt,At=Object(u["a"])(Xt,T,S,!1,null,null,null),Mt=At.exports,Lt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page about"},[i("section",{staticClass:"jumbotron",style:{"background-image":"url(_Loading/loading_首頁-compressor.png)"}}),e._m(0)])},Bt=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"content"},[i("div",{staticClass:"container"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-12"},[i("h1",{staticClass:"text-center"},[e._v("活動辦法")])])])])])}],Dt={},kt=Dt,Ft=Object(u["a"])(kt,Lt,Bt,!1,null,null,null),Wt=Ft.exports,jt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page award"},[i("section",{staticClass:"jumbotron",style:{"background-image":"url(_Loading/loading_首頁-compressor.png)"}}),e._m(0)])},Ht=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"content"},[i("div",{staticClass:"container"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-12"},[i("h1",{staticClass:"text-center"},[e._v("得獎公告")])])])])])}],Et={},Yt=Et,Ot=Object(u["a"])(Yt,jt,Ht,!1,null,null,null),Ut=Ot.exports,Nt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page game"},[i("game1",{directives:[{name:"show",rawName:"v-show",value:1==e.currentGame,expression:"currentGame==1"}],ref:"game1"}),i("game2",{directives:[{name:"show",rawName:"v-show",value:2==e.currentGame,expression:"currentGame==2"}],ref:"game2"}),i("game3",{directives:[{name:"show",rawName:"v-show",value:3==e.currentGame,expression:"currentGame==3"}],ref:"game3"}),i("div",{staticClass:"nav-bar active"},[i("li",{class:{active:1==e.currentGame},on:{click:function(t){e.currentGame=1,e.loadGame(),e.startGame()}}},[e._v("Game 1")]),i("li",{class:{active:2==e.currentGame},on:{click:function(t){e.currentGame=2,e.loadGame(),e.startGame()}}},[e._v("Game 2")]),i("li",{class:{active:3==e.currentGame},on:{click:function(t){e.currentGame=3,e.loadGame(),e.startGame()}}},[e._v("Game 3")]),i("li",{on:{click:function(t){e.loadGame(),e.startGame()}}},[e._v(e._s("開始"))]),i("li",[e._v(e._s("重置"))]),i("li",{on:{click:e.toggleMenu}},[e._v("<")])])],1)},$t=[],zt={name:"Game",mounted:function(){this.refGroup["1"]=this.$refs.game1,this.refGroup["2"]=this.$refs.game2,this.refGroup["3"]=this.$refs.game3},components:{game1:xe,game2:ze,game3:Tt},data:function(){return{currentGame:1,refGroup:{}}},methods:{loadGame:function(){var e=this;this.refGroup[this.currentGame].loadAsset(function(){e.refGroup[e.currentGame].setUp(".game".concat(e.currentGame," .game-container"))})},startGame:function(){this.refGroup[this.currentGame].start()},resetData:function(){this.refGroup[this.currentGame].resetData()},toggleMenu:function(){$(".nav-bar").toggleClass("active")}},computed:{}},qt=zt,Jt=(i("c84a"),Object(u["a"])(qt,Nt,$t,!1,null,"032ba922",null)),Vt=Jt.exports;r["a"].use(y["a"]);var Kt=new y["a"]({routes:[{path:"/",name:"home",component:Mt},{path:"/about",name:"about",component:Wt},{path:"/award",name:"award",component:Ut},{path:"/game",name:"game",component:Vt}]});r["a"].use(f["a"]);var Qt=new f["a"].Store({state:{loading:!0,debug:!1},mutations:{setLoading:function(e,t){e.loading=t},setDebug:function(e,t){e.debug=t}},actions:{}}),Zt=(i("4b3c"),i("ab8b"),i("8251"));Zt["a"].init(),r["a"].config.productionTip=!1,new r["a"]({router:Kt,store:Qt,render:function(e){return e(P)}}).$mount("#app"),window.addEventListener("keydown",function(e){68==e.keyCode&&(Qt.commit("setDebug",!Qt.state.debug),console.log(Qt.state.debug))})},6187:function(e,t,i){},"86b7":function(e,t,i){"use strict";var n=i("bcbf"),r=i.n(n);r.a},ad72:function(e,t,i){},bcbf:function(e,t,i){},c84a:function(e,t,i){"use strict";var n=i("fb7f"),r=i.n(n);r.a},ca52:function(e,t,i){"use strict";var n=i("6187"),r=i.n(n);r.a},cf25:function(e,t,i){"use strict";var n=i("0cfb"),r=i.n(n);r.a},e75a:function(e,t,i){},f78d:function(e,t,i){"use strict";var n=i("4f2a"),r=i.n(n);r.a},fb7f:function(e,t,i){}});
//# sourceMappingURL=app.b76652e7.js.map