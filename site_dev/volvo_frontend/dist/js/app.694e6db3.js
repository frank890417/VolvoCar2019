(function(e){function t(t){for(var n,o,s=t[0],g=t[1],l=t[2],d=0,p=[];d<s.length;d++)o=s[d],r[o]&&p.push(r[o][0]),r[o]=0;for(n in g)Object.prototype.hasOwnProperty.call(g,n)&&(e[n]=g[n]);c&&c(t);while(p.length)p.shift()();return a.push.apply(a,l||[]),i()}function i(){for(var e,t=0;t<a.length;t++){for(var i=a[t],n=!0,s=1;s<i.length;s++){var g=i[s];0!==r[g]&&(n=!1)}n&&(a.splice(t--,1),e=o(o.s=i[0]))}return e}var n={},r={app:0},a=[];function o(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=n,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(i,n,function(t){return e[t]}.bind(null,n));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],g=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var c=g;a.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"0cfb":function(e,t,i){},"20bd":function(e,t,i){"use strict";var n=i("ad72"),r=i.n(n);r.a},3859:function(e,t,i){},"56d7":function(e,t,i){"use strict";i.r(t);i("cadf"),i("551c"),i("f751"),i("097d");var n,r=i("2b0e"),a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:{loading:e.loading},attrs:{id:"app"}},[i("transition",{attrs:{name:"fade"}},[e.loading?i("Loading"):e._e()],1),i("div",{attrs:{id:"nav"}},[i("router-link",{attrs:{to:"/"}},[e._v("首頁")]),i("router-link",{attrs:{to:"/about"}},[e._v("活動辦法")]),i("router-link",{attrs:{to:"/award"}},[e._v("得獎公告")]),i("router-link",{attrs:{to:"/game"}},[e._v("遊戲測試")])],1),i("transition",{attrs:{name:"fade",mode:"out-in"}},[i("router-view",{key:e.$route.path})],1)],1)},o=[],s=i("cebc"),g=i("75fc"),l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page loading"},[i("div",{staticClass:"jumbotron fadeIn animated ani-delay-5",style:{"background-image":"url(_Loading/loading_首頁-compressor.png)"}},[i("div",{staticClass:"part p1"},[i("div",{staticClass:"title-area"},[i("img",{staticClass:"title fadeIn animated ani-delay-15 mt-5",attrs:{src:"_Loading/volvo_laoding_v2_safety guardian.png"}}),i("img",{staticClass:"fadeIn animated ani-delay-15 mt-5",staticStyle:{width:"450px"},attrs:{src:"_Loading/volvo_laoding_v2_loadingbar.png"}}),i("img",{staticClass:"fadeIn animated ani-delay-15 mt-3",staticStyle:{width:"200px"},attrs:{src:"_Loading/volvo_laoding_v2_loading.png"}})]),i("div",[i("img",{staticClass:"fadeIn animated ani-delay-15",staticStyle:{width:"400px"},attrs:{src:"_Loading/volvo_laoding_v2_explain.png"}})])])])])},c=[],d={mounted:function(){}},p=d,u=(i("20bd"),i("2877")),m=Object(u["a"])(p,l,c,!1,null,null,null),h=m.exports,f=i("2f62"),_={scenes:[{title:"A01",layers:["A/A01/A01_bg.png","A/A01/A01_explode.png","A/A01/A01_smoke.png"],audios:["Audio/explode.wav"]},{title:"A02",layers:["A/A02/A02_bg.png",{src:"A/A02/A02_villain.png",getPanX:function(e){return-.5*e}}],audios:["Audio/evillaugh.mp3"]},{title:"A03",layers:["A/A03/A03_bg.png","A/A03/A03_villain.png",{src:"A/A03/A03_front.png",getPanY:function(e){return-.1*e}}],audios:["Audio/cardoor.wav"]},{title:"B01",layers:["B/B01/B01_bg.png"]},{title:"B02",layers:["B/B02/B02_bg.png"],audios:["Audio/datasound.wav"]},{title:"B03",layers:["B/B03/B03_bg.png","B/B03/B03_paper.png"],audios:["Audio/cheer.mp3"]},{title:"B04",layers:["B/B04/B04_bg.png","B/B04/B04_dialog.png","B/B04/B04_villain.png"]},{title:"C01",layers:["C/C01/C01_bg.png","C/C01/C01_fire.png","C/C01/C01_anderson.png","C/C01/C01_speedline.png"],audios:[]},{title:"C02",layers:["C/C02/C02_bg.png",{src:"C/C02/C02_anderson.png"},{src:"C/C02/C02_villain.png"}],audios:["Audio/evillaugh.mp3"]},{title:"C03",layers:["C/C03/C03_bg.png",{src:"C/C03/C03_villain.png",getPanX:function(e){return-.6*e},getPanY:function(e){return-.4*e}},{src:"C/C03/C03_car.png",getPanX:function(e){return-.6*e},getPanY:function(e){return-.4*e}},"C/C03/C03_man.png"]},{title:"C04",layers:["C/C04/C04_bg.png","C/C04/C04_dialog.png"],audios:["Audio/seatbelt.wav"]},{title:"C05",layers:["C/C05/C05_bg.png","C/C05/C05_man.png","C/C05/C05_dialog.png","C/C05/C05_speedlines.png"],audios:["Audio/engine_car.wav"]},{title:"D01",layers:["D/D01/D01_bg.png"],audios:["Audio/busycity.wav"]},{title:"D02",layers:["D/D02/D02_bg.png",{src:"D/D02/D02_car2.png"},{src:"D/D02/D02_villain.png",getPanX:function(e){return.55*e},getPanY:function(e){return-.35*e}},{src:"D/D02/D02_car1.png",getPanX:function(e){return.05*e},getPanY:function(e){return-.1*e-100}},{src:"D/D02/D02_anderson.png",getPanX:function(e){return.15*e-50},getPanY:function(e){return-.05*e+50}}],audios:["Audio/car_stopping.wav"]},{title:"D03",layers:["D/D03/D03_bg.png","D/D03/D03_car_back.png",{src:"D/D03/D03_anderson.png",getPanX:function(e,t){return.5*e},getPanY:function(e,t){return.35*e}},{src:"D/D03/D03_car_front.png",getPanX:function(e,t){return-.1*e},getPanY:function(e,t){return.1*e}},"D/D03/D03_dialog.png"],audios:["Audio/car_crash.wav"]},{title:"D04",layers:["D/D04/D04_bg.png",{src:"D/D04/D04_car.png",getPanX:function(e){return 0},getPanY:function(e){return-.1*e},getScale:function(e,t){return.6*t+1}},"D/D04/D04_speedlines.png"]},{title:"Game1",type:"game"},{title:"E01",layers:["E/E01/E01_bg.png","E/E01/E01_car.png","E/E01/E01_Anderson.png","E/E01/E01_dialog.png",{src:"E/E01/E01_bike.png",getPanX:function(e){return.1*-e-100}}]},{title:"E02",layers:["E/E02/E02_bg.png","E/E02/E02_dialog_1.png","E/E02/E02_dialog_2.png"]},{title:"Game2",type:"game"},{title:"F01",layers:["F/F01/F01_bg.png",{src:"F/F01/F01_villain.png",getPanX:function(e,t){return-50*t},getPanY:function(e,t){return-200*t},getScale:function(e,t){return-.6*t+1}},{src:"F/F01/F01_Anderson.png"},"F/F01/F01_dialog_1.png","F/F01/F01_dialog_2.png"]},{title:"F02",layers:["F/F02/F02_bg.png"]},{title:"F03",layers:["F/F03/F03_bg.png"],audios:["Audio/gun2.mp3"]},{title:"F04",layers:["F/F04/F04_1_bg.png","F/F04/F04_1_villain.png","F/F04/F04_2_bg.png","F/F04/F04_2_pillar.png","F/F04/F04_2_Anderson.png"]},{title:"G01",layers:[{src:"G/G01/G01_bg_1.png",getPanX:function(e){return.1*e}},{src:"G/G01/G01_bg_2.png",getPanX:function(e){return-.1*e},getPanY:function(e){return 0}},{src:"G/G01/G01_dialog_1.png",getPanX:function(e){return.1*e}},{src:"G/G01/G01_dialog_2.png",getPanX:function(e){return-.1*e}}]},{title:"G02",layers:["G/G02/G02_bg.png","G/G02/G02_car_1.png","G/G02/G02_car_2.png"],audios:["Audio/carspeedup.wav"]},{title:"G03",layers:["G/G03/G03_bg.png","G/G03/G03_car.png"],audios:["Audio/carspeedup.wav"]},{title:"G04",layers:["G/G04/G04_bg.png","G/G04/G04_dialog.png"]},{title:"Game3",type:"game"},{title:"H01",layers:["H/H01/H01_bg.png"],audios:["Audio/gun.mp3"]},{title:"H02",layers:["H/H02/H02_bg.png",{src:"H/H02/H02_car.png",getPanX:function(e,t){return.1*e},getPanY:function(e,t){return.15*e},getScale:function(e,t){return.2*t+.7}},"H/H02/H02_speedlines.png"],audios:["Audio/car_stopping.wav"]},{title:"H03",layers:["H/H03/H03_bg.png","H/H03/H03_dialog_1.png"],audios:["Audio/evillaugh.mp3"]},{title:"H04",layers:["H/H04/H04_bg.png"],audios:["Audio/carspeedup.wav"]},{title:"H05",layers:["H/H05/H05_bg.png","H/H05/H05_dialog_1.png","H/H05/H05_dialog_2.png"],audios:["Audio/beep.wav"]},{title:"Game4",type:"game"},{title:"I01",layers:["I/I01/I01_bg.png","I/I01/I01_speedlines_back.png",{src:"I/I01/I01_car.png",getPanX:function(e){return-.5*e},getPanY:function(e){return.5*e+100}},"I/I01/I01_speedlines_front.png"],audios:["Audio/gun.mp3"]},{title:"I02",layers:["I/I02/I02_bg.png","I/I02/I02_box.png"],audios:["Audio/gun.mp3","Audio/car_crash.wav"]},{title:"I03",layers:["I/I03/I03_bg.png"]},{title:"I04",layers:["I/I04/I04_bg.png"],audios:["Audio/car_stopping.wav"]},{title:"I05",layers:["I/I05/I05_bg.png"],audios:["Audio/carcrash2.wav"]},{title:"I06",layers:["I/I06/I06_bg.png",{src:"I/I06/I06_anderson.png",getPanX:function(e,t){return-.3*e}}],audios:["Audio/car_crash.wav"]},{title:"I07",layers:["I/I07/I07_bg.png","I/I07/I07_dialog.png","I/I07/I07_villain.png"]},{title:"I09",layers:["I/I09/I09_bg.png",{src:"I/I09/I09_button_1.png",getPanX:function(e){return 0},getPanY:function(e){return 0}},{src:"I/I09/I09_button_2.png",getPanX:function(e){return 0},getPanY:function(e){return 0}},"I/I09/I09_text.png"]}]},I=i("f549"),x={data:function(){return{}},components:{Loading:h},mounted:function(){var e=this,t=0,i=function(){e.setLoading(!1);var t=new Audio("Audio/explode.wav");t.play(),clearInterval(n)},n=setInterval(function(){t++,t>10&&i()},10);this.setLoading(!0);var r=_.scenes.map(function(e){return(e.layers||[]).concat(e.audios||[])}).reduce(function(e,t){return[].concat(Object(g["a"])(e),Object(g["a"])(t))},[]).map(function(e){return"string"!=typeof e?e.src:e});r=r.filter(function(e,t,i){return i.indexOf(e)==t}),console.log(r),I["a"].load(r).then(function(){console.log("image all preloaded!"),t>5?i():setTimeout(function(){i()},1e3*(5-t))}).catch(function(e){console.warn(e),console.log("image preload fail.")})},computed:Object(s["a"])({},Object(f["c"])(["loading","debug"])),methods:Object(s["a"])({},Object(f["b"])(["setLoading"]))},w=x,v=(i("cf25"),Object(u["a"])(w,a,o,!1,null,null,null)),y=v.exports,P=i("8c4f"),T=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"home"},[i("StoryIndex")],1)},S=[],C=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"hello"},[e.debug?i("div",{staticClass:"currentSection"},[i("span",[e._v(e._s(e.currentSection))]),i("br"),i("span",[e._v(e._s(e.scrollY))])]):e._e(),e._l(e.scenes,function(t,n){return i("section",{ref:"sceneObj"+n,refInFor:!0,attrs:{id:"sec_"+n}},["game"==t.type&&"Game1"==t.title?i("div",{on:{click:function(t){return e.refGroup["1"].start()}}},[i("Game1",{ref:"game1",refInFor:!0})],1):e._e(),"game"==t.type&&"Game2"==t.title?i("div",{on:{click:function(t){return e.refGroup["2"].start()}}},[i("Game2",{ref:"game2",refInFor:!0})],1):e._e(),"game"==t.type&&"Game3"==t.title?i("div",{on:{click:function(t){return e.refGroup["3"].start()}}},[i("Game3",{ref:"game3",refInFor:!0})],1):i("div",[i("h2",[e._v(e._s(t.title))]),i("div",{staticClass:"img-layers"},e._l(t.layers,function(r,a){return i("div",{staticClass:"img-layer",style:e.getLayerStyle(e.getLayerObject(r),a,t,n)},[i("img",{staticClass:"wow",class:e.getLayerClass(e.getLayerObject(r),a),style:{"animation-delay":a/2+"s"},attrs:{src:e.getLayerObject(r).src,title:e.getLayerObject(r).src}})])}),0)])])})],2)},G=[],b=i("e814"),R=i.n(b),X=i("4a26"),A=i.n(X),M=i("cffa"),L=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},B=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"game1"},[i("div",{staticClass:"loading-text"},[e._v("載入中")]),i("div",{staticClass:"game-container"})])}],k={bigWhiteTexture:null,isPrePlaying:!1,prePlayTimelineG1:null,prePlayTimelineG2:null,prePlayTimelineG3:null,prePlayTimelineG4:null,prePlayG1Cover:null,prePlayG2Cover:null,prePlayG3Cover:null,prePlayG4Cover:null,prePlayStartTextG1:null,prePlayStartTextG2:null,prePlayStartTextG3:null,prePlayStartTextG4:null,isGameRunning:!1,DEFAULT_STAGE_WIDTH:1920,DEFAULT_STAGE_HEIGHT:1080,app:app,currentStage:0,stage1:0,stage2:0,stage3:0,stage4:0,stages:{},stageLoops:null},D={crossingGroups:[],crossingGroup:null,crossLine:null,crossSequence:["person","car","person","car","person","car","bike","person","car","person","bike"],crossObjects:[{type:"walk",posX:-1500,posY:1e3,side:"left"},{type:"car",posX:1500,posY:8e3,side:"right"},{type:"walk",posX:-1500,posY:18e3,side:"left"},{type:"walk",posX:8e3,posY:26e3,side:"right"},{type:"car",posX:-1500,posY:33e3,side:"left"},{type:"car",posX:5e3,posY:41e3,side:"right"},{type:"bike",posX:8e3,posY:5e4,side:"right"},{type:"walk",posX:-1500,posY:57e3,side:"left"},{type:"car",posX:8e3,posY:66e3,side:"right"},{type:"walk",posX:6e3,posY:75e3,side:"right"},{type:"bike",posX:-3500,posY:88e3,side:"left"}],g1Ui:null,countImg:null,carCounter:4,bikeCounter:2,walkCounter:5,hintRect:null,timerGame1:null,timeText:null,timeRemainingText:null,remainingTime:30,groupSpeedMax:2,groupSpeedMin:.05,groupSpeed:2,pressStop:!1,bgAnimationSpeed:1,cityRoad:null,cityRoadAniBg:null,bike:null,bikeSpeed:5,walkImg:null,carImg:null,groundMoveSpeedG1:50,currentMovingIndex:0,currentMovingObject:null,bikeScurrentMovingObjectSpeed:5,dash:null,pedal:null,pedalWarning:null,missImg:null,mrImg:null,sysImg:null,world3D:null,vanishingPoint:null,vanishingPointStyle:null,lineLeft:null,lineRight:null,roadWidth:2600,lineGroup:null,hintTextG1:null,speedDownSound:null},F={g2Ui:null,hintRect_g2:null,timerGame2:null,timeText_g2:null,timeRemainingText_g2:null,remainingTime_g2:30,cityRoad_g2:null,cityRoadAniBg_g2:null,dash_g2:null,missImg_g2:null,mrImg_g2:null,sysImg_g2:null,leftBtn_g2:null,rightBtn_g2:null,hint_g2:null,car_g2:null,carMovingAncorMin:200,carMovingAncorMax:2500,carSpeed:0,carSpeedMin:-1,carSpeedMax:1,carSpeedUp:!1,carSpeedDown:!1,carSpeedRandomSeed:0,currentCarPosition:null,safeAreaHint:[],safeAreaHintIndex:0,safeAreaMax:880,safeAreaMin:430,safeState:!1,dangerAreaStayTime:0,safeAreaTimeline:null,world3D_g2:null,vanishingPoint_g2:null,vanishingPointStyle_g2:null,lineLeft_g2:null,lineRight_g2:null,roadWidth_g2:5e3,lineGroup_g2:null,streetLightGroup_g2:null,speedUpSound:null,speedDownSound:null},W={carSideSequenceIndex:0,carSideSequence:["left","left","right","right","left"],timerGame3:null,hintRect_g3:null,hintTextG3:null,hintRectGood_g:null,timeText_g3:null,timeRemainingText_g3:null,remainingTime_g3:30,cityRoad_g3:null,dash_g3:null,missImg_g3:null,mrImg_g3:null,sysImg_g3:null,leftBtn_g3:null,rightBtn_g3:null,hint_g3:null,car_g3:null,carSpeed:200,carMoveLeftAni:null,carMoveLeftAniMirror:null,carMoveRightAni:null,carMoveRightAniMirror:null,carPosY_g3:600,carComingLeft_g3:null,carComingRight_g3:null,isLeftCarComes:!1,isRightCarComes:!1,world3D_g3:null,vanishingPoint_g3:null,vanishingPointStyle_g3:null,lineLeft_g3:null,lineRight_g3:null,roadWidth_g3:2880,lineGroup_g3:null,leftWifi:[],rightWifi:[],leftWifiIndex:0,rightWifiIndex:0,leftWifiTimeline:null,rightWifiTimeline:null,mirrorLeft_g3:null,mirrorRight_g3:null,carInMirrorLeft_g3:null,carInMirrorRight_g3:null,carLeftMirrorTimeline_g3:null,carRightMirrorTimeline_g3:null,mirrorHintLeft_g3:null,mirrorHintRight_g3:null,mirrorMaskLeft_g3:null,mirrorMaskRight_g3:null,mirrorBgLeft_g3:null,mirrorBgRight_g3:null,mirrorBorderLeft_g3:null,mirrorBorderRight_g3:null,carLeftTimeline_g3:null,carRightTimeline_g3:null,carEmitterTimer:null,currentCarSide:null,pressStop:!1},j={},H={common:k,game1Data:D,game2Data:F,game3Data:W,game4Data:j},E={setupEnv:function(e,t){t,n=t.common,t.game1Data;PIXI.utils.isWebGLSupported(),PIXI.utils.skipHello(),t.common.app=new PIXI.Application({width:t.common.DEFAULT_STAGE_WIDTH,height:t.common.DEFAULT_STAGE_HEIGHT,antialias:!0,transparent:!1,backgroundColor:3355443,resolution:1}),t.common.app.renderer.autoResize=!0,$(e).append(t.common.app.view),Y()}};function Y(){n.stage1=new PIXI.Container,n.stage2=new PIXI.Container,n.stage3=new PIXI.Container,n.stage4=new PIXI.Container,n.stages={1:n.stage1,2:n.stage2,3:n.stage3,4:n.stage4}}i("6b54"),i("06db");var O={loadAllAssets:U};function U(e,t){e,e.common;for(var i=PIXI.loader.add("g1Ui","images/game1/Game1_ui_v1.png").add("g2Ui","images/game2/Game2_ui_v1.png").add("countImg","images/game1/count.png").add("bikeImg","images/game1/bike_g1.png").add("dashImg","images/game1/dash.png").add("cityImg","images/game1/cityRoad.png").add("cityG3Img","images/game3/cityRoad_g3.png").add("missImg","images/game1/miss.png").add("mrImg","images/game1/mr.png").add("pedalImg","images/game1/stopper.png").add("pedalWarningImg","images/game1/stopperLight.png").add("walkImg","images/game1/walk_g1.png").add("carImg","images/game1/car_g1.png").add("sysImg","images/game1/sys.png").add("leftBtnImg","images/game2/leftBtn.png").add("rightBtnImg","images/game2/rightBtn.png").add("leftBtnG3Img","images/game3/leftBtn.png").add("rightBtnG3Img","images/game3/rightBtn.png").add("hintImg","images/game2/hint.png").add("hintG3Img","images/game3/hint_g3.png").add("carMidImg","images/game2/car2.png").add("safeAreaHintImg0","images/game2/hintArea/1.png").add("safeAreaHintImg1","images/game2/hintArea/2.png").add("safeAreaHintImg2","images/game2/hintArea/3.png").add("safeAreaHintImg3","images/game2/hintArea/4.png").add("streetLightImg","images/game2/streetLight.png").add("carInMirrorLeftImg","images/game3/carFront.png").add("carInMirrorRightImg","images/game3/carFront.png").add("carComingLeftImg","images/game3/car1.png").add("carComingRightImg","images/game3/car3.png").add("mirrorMaskRightImg","images/game3/maskRight.png").add("mirrorMaskLeftImg","images/game3/maskLeft.png").add("mirrorBgRightImg","images/game3/mirrorBgRight.png").add("mirrorBgLeftImg","images/game3/mirrorBgLeft.png").add("mirrorBorderRightImg","images/game3/mirrorBorderRight.png").add("mirrorBorderLeftImg","images/game3/mirrorBorderLeft.png").add("mirrorHintLeftImg","images/game3/mirrorHintLeft.png").add("mirrorHintRightImg","images/game3/mirrorHintRight.png").add("hintG4Img","images/game4/hint_g4.png").add("roadMapG4Img","images/game4/roadmap_g4.png").add("myCarG4Img","images/game4/car_me.png").add("armyCarG4Img","images/game4/car_army.png").add("speedDownSound","gameAudio/speedDown.mp3").add("speedUpSound","gameAudio/speedUp.mp3"),n=0;n<119;n++){var r=(1e5+n).toString().substring(1);i.add({name:"roadBgG1"+n,url:"images/game1/roadBgG1/bg1_"+r+".jpg"})}for(var a=1;a<6;a++)i.add({name:"wifiImg"+a,url:"images/game3/wifi/"+a+".png"});for(var o=0;o<7;o++){var s=(1e5+o).toString().substring(1);i.add({name:"roadBgG2"+o,url:"images/game2/roadBgG2/roadG2_"+s+".jpg"})}for(var g=0;g<60;g++){var l=(1e5+g).toString().substring(1);i.add({name:"mirror"+g,url:"images/game3/mirror/Mirror_"+l+".jpg"})}i.on("error",function(e){console.log(e)}).on("progress",N).load(t)}function N(e,t){$(".loading-text").text("載入進度： "+~~e.progress+" %")}var z,q;i("8449");function J(e){z=e.common,q=e.game1Data,q.g1Ui=new PIXI.Sprite(PIXI.loader.resources.g1Ui.texture),q.g1Ui.position.set(0,0),q.g1Ui.anchor.set(0,0),q.timeText=new PIXI.Text("Time",new PIXI.TextStyle({fontSize:52,fill:"#FFD3BE",fontWeight:500})),q.timeText.position.set(z.app.screen.width/2,60),q.timeText.anchor.set(.5,0),q.timeRemainingText=new PIXI.Text("30",new PIXI.TextStyle({fontSize:150,fill:"#FFD3BE",fontWeight:500})),q.timeRemainingText.position.set(z.app.screen.width/2-30,100),q.timeRemainingText.anchor.set(.5,0),q.hintRect=new PIXI.Graphics,q.hintRect.beginFill(0,0),q.hintRect.lineStyle(80,16711680,1),q.hintRect.drawRect(0,0,z.app.screen.width,z.app.screen.height),q.hintRect.endFill(),q.hintRect.visible=!1,q.pedal=new PIXI.Sprite(PIXI.loader.resources.pedalImg.texture),q.pedal.position.set(z.app.screen.width-60,z.app.screen.height-60),q.pedal.anchor.set(1,1),q.pedalWarning=new PIXI.Sprite(PIXI.loader.resources.pedalWarningImg.texture),q.pedalWarning.position.set(q.pedal.position.x-q.pedal.width/2,q.pedal.position.y-q.pedal.height/2),q.pedalWarning.anchor.set(.5,.5);for(var t=[],i=0;i<119;i++){var n=PIXI.Texture.fromFrame("roadBgG1"+i);t.push(n)}q.cityRoadAniBg=new PIXI.extras.AnimatedSprite(t),q.cityRoadAniBg.animationSpeed=q.bgAnimationSpeed,q.cityRoadAniBg.play(),q.cityRoad=new PIXI.Sprite(PIXI.loader.resources.cityImg.texture),q.cityRoad.position.set(z.app.screen.width/2,z.app.screen.height/2),q.cityRoad.scale.set(1.8,1.8),q.cityRoad.anchor.set(.5,.5),q.missImg=new PIXI.Sprite(PIXI.loader.resources.missImg.texture),q.missImg.position.set(z.app.screen.width-60,z.app.screen.height/2-q.missImg.height),q.missImg.anchor.set(1,0),q.missImg.scale.set(.6,.6),q.mrImg=new PIXI.Sprite(PIXI.loader.resources.mrImg.texture),q.mrImg.position.set(60,80),q.mrImg.anchor.set(0,0),q.mrImg.scale.set(.6,.6),q.sysImg=new PIXI.Sprite(PIXI.loader.resources.sysImg.texture),q.sysImg.position.set(60,80+q.mrImg.height+60),q.sysImg.anchor.set(0,0),q.sysImg.scale.set(.6,.6),q.countImg=new PIXI.Sprite(PIXI.loader.resources.countImg.texture),q.countImg.position.set(60,80+q.mrImg.height+200),q.countImg.anchor.set(0,0),q.countImg.scale.set(.6,.6),q.carCounterText=new PIXI.Text("30",new PIXI.TextStyle({fontSize:52,fill:"#FFD3BE",fontWeight:500})),q.carCounterText.position.set(190,80+q.mrImg.height+100),q.carCounterText.anchor.set(0,0),q.bikeCounterText=new PIXI.Text("30",new PIXI.TextStyle({fontSize:52,fill:"#FFD3BE",fontWeight:500})),q.bikeCounterText.position.set(190,80+q.mrImg.height+200),q.bikeCounterText.anchor.set(0,0),q.walkCounterText=new PIXI.Text("30",new PIXI.TextStyle({fontSize:52,fill:"#FFD3BE",fontWeight:500})),q.walkCounterText.position.set(190,80+q.mrImg.height+300),q.walkCounterText.anchor.set(0,0),q.dash=new PIXI.Sprite(PIXI.loader.resources.dashImg.texture),q.dash.position.set(z.app.screen.width/2,z.app.screen.height),q.dash.anchor.set(.5,1),q.dash.scale.set(.8,.8),q.hintTextG1=new PIXI.Text("請適時地按下煞車以確保安全",new PIXI.TextStyle({fontSize:24,fill:"#FFFFFF",fontWeight:500})),q.hintTextG1.position.set(z.app.screen.width/2,z.app.screen.height-q.dash.height-30),q.hintTextG1.anchor.set(.5,.5),z.prePlayStartTextG1=new PIXI.Text("5",new PIXI.TextStyle({fontSize:180,fill:"#FFFFFF",fontWeight:500})),z.prePlayStartTextG1.position.set(z.app.screen.width/2,z.app.screen.height/2-200),z.prePlayStartTextG1.anchor.set(.5,.5),z.prePlayStartTextG1.visible=!1,q.world3D=new PIXI.projection.Container2d,q.world3D.position.set(-90,1075),V(),z.stage1.addChild(q.cityRoadAniBg),z.stage1.addChild(q.vanishingPoint),z.stage1.addChild(q.world3D),z.stage1.addChild(q.carCounterText),z.stage1.addChild(q.bikeCounterText),z.stage1.addChild(q.walkCounterText),z.stage1.addChild(q.pedalWarning),z.stage1.addChild(q.pedal),z.stage1.addChild(q.timeRemainingText),z.stage1.addChild(z.prePlayStartTextG1),z.stage1.addChild(q.hintRect),z.stage1.addChild(q.hintTextG1),z.stage1.addChild(q.g1Ui),q.speedDownSound=PIXI.loader.resources.speedDownSound.data,q.speedDownSound.volume=1}function V(){q.bigWhiteTexture=new PIXI.Texture(PIXI.Texture.WHITE.baseTexture),q.bigWhiteTexture.orig.width=30,q.bigWhiteTexture.orig.height=30,q.lineLeft=new PIXI.projection.Sprite2d(q.bigWhiteTexture),q.lineLeft.tint=16777215,q.lineLeft.scale.set(1,1e3),q.lineLeft.anchor.set(.5,.5),q.lineLeft.position.set((z.app.screen.width-q.roadWidth)/2,0),q.lineRight=new PIXI.projection.Sprite2d(q.bigWhiteTexture),q.lineRight.tint=16777215,q.lineRight.scale.set(1,1e3),q.lineRight.anchor.set(.5,.5),q.lineRight.position.set((z.app.screen.width+q.roadWidth)/2,0),q.lineGroup=[];for(var e=0;e<10;e++){var t=new PIXI.projection.Sprite2d(q.bigWhiteTexture);t.tint=13421772,t.scale.set(q.roadWidth/30,.5),t.anchor.set(.5),t.counterY=6e3*e,t.counterX=0,t.position.set(z.app.screen.width/2,1e4),t.proj.affine=PIXI.projection.AFFINE.AXIS_X,q.lineGroup.push(t)}K(),q.vanishingPointStyle=new PIXI.TextStyle({fontFamily:"Arial",fontSize:20,fill:"#ffffff"}),q.vanishingPoint=new PIXI.Text("Ｏ",q.vanishingPointStyle),q.vanishingPoint.anchor.set(.5),q.vanishingPoint.position.set(960,330)}function K(){q.crossingGroup=[];for(var e=0;e<q.crossObjects.length;e++){var t=void 0,i=void 0;"car"==q.crossObjects[e].type?(t=PIXI.loader.resources.carImg.texture,i=new PIXI.projection.Sprite2d(t),i.scale.set(2)):"walk"==q.crossObjects[e].type?(t=PIXI.loader.resources.walkImg.texture,i=new PIXI.projection.Sprite2d(t),i.scale.set(1.4)):"bike"==q.crossObjects[e].type&&(t=PIXI.loader.resources.bikeImg.texture,i=new PIXI.projection.Sprite2d(t),i.scale.set(2)),i.type=q.crossObjects[e].type,i.counterY=q.crossObjects[e].posY,i.side=q.crossObjects[e].side,"left"==i.side?(i.counterX=-1500,"car"==i.type&&(i.counterX=-5e3)):(i.counterX=z.app.screen.width+1500,i.scale.x=-1,"car"==i.type&&(i.counterX=z.app.screen.width+5e3,i.scale.set(-2.5,2.5))),0==e&&(i.counterX=500),i.anchor.set(.5),i.position.x=0,i.proj.affine=PIXI.projection.AFFINE.AXIS_X,q.crossingGroup.push(i)}for(var n=q.crossObjects.length-1;n>=0;n--)q.world3D.addChild(q.crossingGroup[n])}i("14b9");var Q,Z,ee,te,ie,ne={game1Loop:re};function re(e){Q||ae(e);for(var t=0;t<ee.lineGroup.length;t++){var i=ee.lineGroup[t];i.counterY-=ee.groundMoveSpeedG1,i.position.y=i.counterY,i.counterY<-500&&(i.counterY=6e4)}for(var n=!1,r=!1,a=0;a<ee.crossingGroup.length;a++){var o=ee.crossingGroup[a];o.counterY-=ee.groundMoveSpeedG1,o.position.y=o.counterY,o.position.x=o.counterX,o.position.y<150&&o.position.x>Z.app.screen.width/2-ee.roadWidth/4&&o.position.x<Z.app.screen.width/2+ee.roadWidth/2&&(r=!0),o.counterY<7e3?o.visible||(o.visible=!0,TweenMax.fromTo(o,.1,{alpha:0},{alpha:1})):(o.alpha=0,o.visible=!1);var s="left"==o.side?1:-1;o.counterY<6500&&("car"==o.type?o.counterX+=50*s:"walk"==o.type?o.counterX+=18*s:"bike"==o.type&&(o.counterX+=25*s),o.position.x<Z.app.screen.width/2+ee.roadWidth/4&&(n=!0),o.counterY<-1e3&&("car"==o.type?ee.carCounter--:"walk"==o.type?ee.walkCounter--:"bike"==o.type&&ee.bikeCounter--,o.visible=!1,o.parent.removeChild(o),o.destroy(),ee.crossingGroup.splice(a,1)))}ee.hintRect.visible=r,ee.pedalWarning.visible=n,ee.pressStop?(ee.groundMoveSpeedG1-=2,ee.groundMoveSpeedG1<0&&(ee.groundMoveSpeedG1=0)):(ee.groundMoveSpeedG1+=5,ee.groundMoveSpeedG1>100&&(ee.groundMoveSpeedG1=100)),ee.pressStop?ee.cityRoadAniBg.animationSpeed>0&&(ee.cityRoadAniBg.animationSpeed-=.02,ee.cityRoadAniBg.animationSpeed<0&&(ee.cityRoadAniBg.animationSpeed=0)):ee.cityRoadAniBg.animationSpeed<.05?ee.cityRoadAniBg.animationSpeed+=.005:ee.cityRoadAniBg.animationSpeed>.8&&(ee.cityRoadAniBg.animationSpeed=.8),ee.carCounterText.text="0"+ee.carCounter,ee.bikeCounterText.text="0"+ee.bikeCounter,ee.walkCounterText.text="0"+ee.walkCounter}function ae(e){Q=e,Z=e.common,ee=e.game1Data}function oe(e){e,te=e.common,ie=e.game1Data;var t=new TimelineMax;t.fromTo(ie.pedalWarning,.5,{alpha:0},{alpha:1}).yoyo(1).repeat(-1),se(),ge(),le(),te.app.stage.addChild(te.stage1),te.app.ticker.speed=1,te.app.ticker.add(function(t){return ne.game1Loop(e)}),te.prePlayTimelineG1.restart(),te.isGameRunning=!1,te.isPrePlaying=!0,te.app.ticker.stop()}function se(){ie.pedal.interactive=!0,ie.pedal.buttonMode=!0,ie.pedal.on("pointerdown",function(){ie.isPrePlaying||(ie.pressStop=!0,ie.pedal.tint=5592405)}),ie.pedal.on("pointerup",function(){ie.isPrePlaying||(ie.pressStop=!1,ie.pedal.tint=16777215,ie.cityRoadAniBg.animationSpeed=ie.bgAnimationSpeed)}),$("body").keydown(function(e){var t=e.keyCode;if(32==t){if(ie.isPrePlaying)return;ie.pressStop=!0,ie.pedal.tint=5592405}}),$("body").keyup(function(e){var t=e.keyCode;if(32==t){if(ie.isPrePlaying)return;ie.pressStop=!1,ie.pedal.tint=16777215,ie.cityRoadAniBg.animationSpeed=ie.bgAnimationSpeed}}),$("body").keydown(function(e){var t=e.keyCode;switch(console.log(t),t){case 37:ie.world3D.position.x-=5;break;case 39:ie.world3D.position.x+=5;break;case 38:ie.world3D.position.y-=5;break;case 40:ie.world3D.position.y+=5;break;case 65:ie.vanishingPoint.position.x-=5;break;case 68:ie.vanishingPoint.position.x+=5;break;case 87:ie.vanishingPoint.position.y-=5;break;case 83:ie.vanishingPoint.position.y+=5;break;default:break}ge()})}function ge(){var e=ie.world3D.toLocal(ie.vanishingPoint.position,void 0,void 0,void 0,PIXI.projection.TRANSFORM_STEP.BEFORE_PROJ);ie.world3D.proj.setAxisY(e,1)}function le(){te.prePlayTimelineG1=new TimelineMax({paused:!0}),te.prePlayTimelineG1.add(function(){ie.pedal.tint=5592405,ie.isPrePlaying=!0,ie.timeText.visible=!1,ie.timeRemainingText.visible=!1,ie.pressStop=!0},0).add(function(){ie.pedal.tint=16777215,te.prePlayStartTextG1.text="5",te.prePlayStartTextG1.visible=!0},1).add(function(){te.prePlayStartTextG1.text="4"},2).add(function(){ie.pedal.tint=5592405,te.prePlayStartTextG1.text="3",ie.pressStop=!1,ie.cityRoadAniBg.animationSpeed=ie.bgAnimationSpeed},3).add(function(){te.prePlayStartTextG1.text="2"},4).add(function(){te.prePlayStartTextG1.text="1"},5).add(function(){te.prePlayStartTextG1.text="GO!"},6).add(function(){ie.pedal.tint=16777215,ie.isPrePlaying=!1,te.prePlayStartTextG1.visible=!1,ie.timeText.visible=!0,ie.timeRemainingText.visible=!0,ce()},7)}function ce(){ie.remainingTime=30,ie.timeRemainingText.text=ie.remainingTime,clearInterval(ie.timerGame1),ie.timerGame1=setInterval(function(){ie.remainingTime--,ie.remainingTime<=0&&(ie.remainingTime=0),ie.remainingTime,ie.timeRemainingText.text=ie.remainingTime},1e3)}function de(){te.prePlayTimelineG1&&te.prePlayTimelineG1.restart(),ie.crossingGroup.forEach(function(e){e.parent.removeChild(e),e.destroy()}),K(),ie.carCounter=4,ie.bikeCounter=2,ie.walkCounter=5,ie.groundMoveSpeedG1=0,ce()}var pe,ue,me={name:"Game1",props:{msg:String},mounted:function(){},methods:{resizeCanvas:function(){var e=$(window).innerWidth()/1920;$("canvas").css("transform","scale(".concat(e,")")),$("canvas").css("transform-origin","0 0")},resetData:function(){console.log("resetData"),de()},loadAsset:function(e){console.log("loadAsset"),PIXI.loader.resources.g1Ui?e():O.loadAllAssets(H,e)},setUp:function(e){console.log("setup"),H.common.currentStage=1,E.setupEnv(e,H),this.resizeCanvas(),J(H),oe(H),de()},start:function(){H.common.app.ticker.start()},pause:function(){H.common.app.ticker.stop()}},computed:Object(s["a"])({},Object(f["c"])(["debug"])),beforeDestroy:function(){console.log("beforeDestroy")},destroyed:function(){delete H.common.app,console.log("destroyed")},watch:{},data:function(){return{gameContainer:".game1 .game-container"}}},he=me,fe=(i("c716"),Object(u["a"])(he,L,B,!1,null,"5f1030cb",null)),_e=fe.exports,Ie=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},xe=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"game2"},[i("div",{staticClass:"loading-text"},[e._v("載入中")]),i("div",{staticClass:"game-container"})])}];function we(e){pe=e.common,ue=e.game2Data,ue.g2Ui=new PIXI.Sprite(PIXI.loader.resources.g2Ui.texture),ue.g2Ui.position.set(0,0),ue.g2Ui.anchor.set(0,0),ue.timeText_g2=new PIXI.Text("Time",new PIXI.TextStyle({fontSize:52,fill:"#FFD3BE",fontWeight:500})),ue.timeText_g2.position.set(pe.app.screen.width/2,60),ue.timeText_g2.anchor.set(.5,0),ue.timeRemainingText_g2=new PIXI.Text("30",new PIXI.TextStyle({fontSize:150,fill:"#FFD3BE",fontWeight:500})),ue.timeRemainingText_g2.position.set(pe.app.screen.width/2-30,100),ue.timeRemainingText_g2.anchor.set(.5,0),ue.hintRect_g2=new PIXI.Graphics,ue.hintRect_g2.beginFill(0,0),ue.hintRect_g2.lineStyle(80,16711680,1),ue.hintRect_g2.drawRect(0,0,pe.app.screen.width,pe.app.screen.height),ue.hintRect_g2.endFill(),ue.hintRect_g2.visible=!1;for(var t=[],i=0;i<7;i++){var n=PIXI.Texture.fromFrame("roadBgG2"+i);t.push(n)}ue.cityRoadAniBg_g2=new PIXI.extras.AnimatedSprite(t),ue.cityRoadAniBg_g2.animationSpeed=1,ue.cityRoadAniBg_g2.play(),ue.missImg_g2=new PIXI.Sprite(PIXI.loader.resources.missImg.texture),ue.missImg_g2.position.set(pe.app.screen.width-60,pe.app.screen.height/2-ue.missImg_g2.height),ue.missImg_g2.anchor.set(1,0),ue.missImg_g2.scale.set(.6,.6),ue.mrImg_g2=new PIXI.Sprite(PIXI.loader.resources.mrImg.texture),ue.mrImg_g2.position.set(60,80),ue.mrImg_g2.anchor.set(0,0),ue.mrImg_g2.scale.set(.6,.6),ue.sysImg_g2=new PIXI.Sprite(PIXI.loader.resources.sysImg.texture),ue.sysImg_g2.position.set(60,80+ue.mrImg_g2.height+60),ue.sysImg_g2.anchor.set(0,0),ue.sysImg_g2.scale.set(.6,.6),ue.dash_g2=new PIXI.Sprite(PIXI.loader.resources.dashImg.texture),ue.dash_g2.position.set(pe.app.screen.width/2,pe.app.screen.height),ue.dash_g2.anchor.set(.5,1),ue.dash_g2.scale.set(.8,.8),ue.leftBtn_g2=new PIXI.Sprite(PIXI.loader.resources.leftBtnImg.texture),ue.leftBtn_g2.position.set(60,pe.app.screen.height-60),ue.leftBtn_g2.anchor.set(0,1),ue.rightBtn_g2=new PIXI.Sprite(PIXI.loader.resources.rightBtnImg.texture),ue.rightBtn_g2.position.set(pe.app.screen.width-60-ue.rightBtn_g2.width,pe.app.screen.height-60),ue.rightBtn_g2.anchor.set(0,1),ue.hint_g2=new PIXI.Sprite(PIXI.loader.resources.hintImg.texture),ue.hint_g2.position.set(pe.app.screen.width-60,pe.app.screen.height/2+ue.missImg_g2.height+100),ue.hint_g2.anchor.set(1,1),ue.hint_g2.scale.set(.6,.6),ue.hintTextG2=new PIXI.Text("請將車子保持在適當距離",new PIXI.TextStyle({fontSize:24,fill:"#FFFFFF",fontWeight:500})),ue.hintTextG2.position.set(pe.app.screen.width/2,pe.app.screen.height-ue.dash_g2.height-30),ue.hintTextG2.anchor.set(.5,.5),pe.prePlayStartTextG2=new PIXI.Text("5",new PIXI.TextStyle({fontSize:180,fill:"#FFFFFF",fontWeight:500})),pe.prePlayStartTextG2.position.set(pe.app.screen.width/2,pe.app.screen.height/2-200),pe.prePlayStartTextG2.anchor.set(.5,.5),pe.prePlayStartTextG2.visible=!1,ue.world3D_g2=new PIXI.projection.Container2d,ue.world3D_g2.position.set(0,700),ve(),pe.stage2.addChild(ue.cityRoadAniBg_g2),pe.stage2.addChild(ue.vanishingPoint_g2),pe.stage2.addChild(ue.world3D_g2),pe.stage2.addChild(ue.timeRemainingText_g2),pe.stage2.addChild(ue.rightBtn_g2),pe.stage2.addChild(ue.leftBtn_g2),pe.stage2.addChild(pe.prePlayStartTextG2),pe.stage2.addChild(ue.hintTextG2),pe.stage2.addChild(ue.hintRect_g2),pe.stage2.addChild(ue.g2Ui),ue.speedDownSound=PIXI.loader.resources.speedDownSound.data,ue.speedDownSound.volume=1,ue.speedUpSound=PIXI.loader.resources.speedUpSound.data,ue.speedUpSound.volume=1}function ve(){ue.bigWhiteTexture=new PIXI.Texture(PIXI.Texture.WHITE.baseTexture),ue.bigWhiteTexture.orig.width=30,ue.bigWhiteTexture.orig.height=30,ue.lineLeft_g2=new PIXI.projection.Sprite2d(ue.bigWhiteTexture),ue.lineLeft_g2.tint=16777215,ue.lineLeft_g2.scale.set(1,1e3),ue.lineLeft_g2.anchor.set(.5,.5),ue.lineLeft_g2.position.set((pe.app.screen.width-ue.roadWidth_g2)/2,0),ue.lineRight_g2=new PIXI.projection.Sprite2d(ue.bigWhiteTexture),ue.lineRight_g2.tint=16777215,ue.lineRight_g2.scale.set(1,1e3),ue.lineRight_g2.anchor.set(.5,.5),ue.lineRight_g2.position.set((pe.app.screen.width+ue.roadWidth_g2)/2,0),ue.lineGroup_g2=[];for(var e=0;e<10;e++){var t=new PIXI.projection.Sprite2d(ue.bigWhiteTexture);t.tint=16777215,t.scale.set(ue.roadWidth_g2/30,.5),t.anchor.set(.5),t.counterY=6e3*e,t.counterX=0,t.position.set(pe.app.screen.width/2,1e4),t.proj.affine=PIXI.projection.AFFINE.AXIS_X,ue.lineGroup_g2.push(t)}ue.streetLightGroup_g2=[];for(var i=0;i<20;i++){var n=new PIXI.projection.Sprite2d(PIXI.loader.resources.streetLightImg.texture);n.scale.set(8),n.scale.y=-8,i%2==0?(n.scale.x=-8,n.position.set(pe.app.screen.width/2+ue.roadWidth_g2/2,3e4)):n.position.set(pe.app.screen.width/2-ue.roadWidth_g2/2,3e4),n.anchor.set(0,1),n.counterY=36e3*i,n.counterX=0,n.proj.affine=PIXI.projection.AFFINE.AXIS_Y,ue.streetLightGroup_g2.push(n),ue.world3D_g2.addChild(n)}for(var r=0;r<4;r++){var a=new PIXI.projection.Sprite2d(PIXI.Texture.fromFrame("safeAreaHintImg"+r));a.width=ue.roadWidth_g2/5,a.height=1500,a.scale.y=-1,a.tint=16711680,a.anchor.set(.5,0),a.position.set(pe.app.screen.width/2,ue.currentCarPosition),ue.safeAreaHint.push(a),ue.world3D_g2.addChild(a)}ue.car_g2=new PIXI.projection.Sprite2d(PIXI.loader.resources.carMidImg.texture),ue.car_g2.scale.set(5,-5),ue.car_g2.anchor.set(.5,1),ue.car_g2.position.set(pe.app.screen.width/2,ue.currentCarPosition),ue.car_g2.proj.affine=PIXI.projection.AFFINE.AXIS_Y,ue.world3D_g2.addChild(ue.car_g2),ue.vanishingPointStyle_g2=new PIXI.TextStyle({fontFamily:"Arial",fontSize:20,fill:"#ffffff"}),ue.vanishingPoint_g2=new PIXI.Text("Ｏ",ue.vanishingPointStyle_g2),ue.vanishingPoint_g2.anchor.set(.5),ue.vanishingPoint_g2.position.set(945,-35)}var ye,Pe,Te,Se,Ce,Ge={game2Loop:Re},be=0;function Re(e){ye||Xe(e);for(var t=0;t<Te.lineGroup_g2.length;t++){var i=Te.lineGroup_g2[t];i.counterY-=5*(Te.carSpeed+1)+100,i.position.y=i.counterY,i.counterY<-500&&(i.counterY=6e4)}for(var n=0;n<Te.streetLightGroup_g2.length;n++){var r=Te.streetLightGroup_g2[n];r.counterY-=5*(Te.carSpeed+1)+100,r.position.y=r.counterY,r.counterY<-500&&(r.counterY=264e3)}if(Te.carSpeedUp?(Te.carSpeed+=.3,Te.carSpeed>Te.carSpeedMax&&(Te.carSpeed=Te.carSpeedMax)):Te.carSpeed-=.01,Te.carSpeedDown&&(Te.carSpeed-=.3,Te.carSpeed<Te.carSpeedMin&&(Te.carSpeed=Te.carSpeedMin)),Te.carSpeed+=Te.carSpeedRandomSeed,Te.currentCarPosition<Te.safeAreaMax&&Te.currentCarPosition>Te.safeAreaMin){if(Te.dangerAreaStayTime=0,!Te.safeState){Te.safeAreaTimeline.pause(),Te.safeAreaHintIndex=3;for(var a=0;a<4;a++)Te.safeAreaHint[a].visible=a==Te.safeAreaHintIndex,Te.safeAreaHint[a].alpha=(Te.safeAreaHintIndex+1)/4}Te.safeState=!0;for(var o=0;o<4;o++)Te.safeAreaHint[o].tint=65280}else{Te.safeState&&(Te.safeAreaHintIndex=0,Te.safeAreaTimeline.restart()),Te.safeState=!1,Te.dangerAreaStayTime++;for(var s=0;s<4;s++)Te.safeAreaHint[s].tint=16776960}Te.currentCarPosition>Te.safeAreaMax&&Te.carSpeedUp&&(Te.dangerAreaStayTime=0),Te.currentCarPosition<Te.safeAreaMin&&Te.carSpeedDown&&(Te.dangerAreaStayTime=0),Te.dangerAreaStayTime>180?Te.hintRect_g2.visible=!0:Te.hintRect_g2.visible=!1,Te.currentCarPosition<Te.carMovingAncorMin&&(Te.currentCarPosition=Te.carMovingAncorMin),Te.currentCarPosition>Te.carMovingAncorMax&&(Te.currentCarPosition=Te.carMovingAncorMax),Te.currentCarPosition-=3*Te.carSpeed,Te.car_g2.position.set(Pe.app.screen.width/2,Te.currentCarPosition);for(var g=0;g<4;g++)Te.safeAreaHint[g].position.set(Pe.app.screen.width/2,Te.currentCarPosition-100);Te.safeAreaHint.height=1500,be++,Te.car_g2.position.x=50*Math.sin(be/40)+Pe.app.screen.width/2}function Xe(e){ye=e,Pe=e.common,Te=e.game2Data}function Ae(e){e,Se=e.common,Ce=e.game2Data;var t=new TimelineMax;t.fromTo(Ce.hintRect_g2,.25,{alpha:0},{alpha:1}).yoyo(1).repeat(-1),Me(),Be(),Le(),ke(),Se.app.stage.addChild(Se.stage2),Se.app.ticker.speed=1,Se.app.ticker.add(function(t){return Ge.game2Loop(e)}),Se.prePlayTimelineG2.restart(),Se.isGameRunning=!1,Se.isPrePlaying=!0,Se.app.ticker.stop()}function Me(){Ce.rightBtn_g2.interactive=!0,Ce.rightBtn_g2.buttonMode=!0,Ce.leftBtn_g2.interactive=!0,Ce.leftBtn_g2.buttonMode=!0,Ce.rightBtn_g2.on("pointerdown",function(){Se.isPrePlaying||(Ce.speedUpSound.time=0,Ce.speedUpSound.play(),Ce.rightBtn_g2.tint=5592405,Ce.carSpeedUp=!0)}),Ce.rightBtn_g2.on("pointerup",function(){Se.isPrePlaying||(Ce.rightBtn_g2.tint=16777215,Ce.carSpeedUp=!1)}),Ce.leftBtn_g2.on("pointerdown",function(){Se.isPrePlaying||(Ce.speedDownSound.time=0,Ce.speedDownSound.play(),Ce.leftBtn_g2.tint=5592405,Ce.carSpeedDown=!0)}),Ce.leftBtn_g2.on("pointerup",function(){Se.isPrePlaying||(Ce.leftBtn_g2.tint=16777215,Ce.carSpeedDown=!1)}),$("body").keydown(function(e){e.keyCode})}function Le(){var e=Ce.world3D_g2.toLocal(Ce.vanishingPoint_g2.position,void 0,void 0,void 0,PIXI.projection.TRANSFORM_STEP.BEFORE_PROJ);Ce.world3D_g2.proj.setAxisY(e,1)}function Be(){Ce.safeAreaTimeline=new TimelineMax({pause:!0}),Ce.safeAreaTimeline.add(function(){for(var e=0;e<4;e++)Ce.safeAreaHint[e].visible=e==Ce.safeAreaHintIndex,Ce.safeAreaHint[e].alpha=(Ce.safeAreaHintIndex+1)/4;Ce.safeAreaHintIndex=(Ce.safeAreaHintIndex+1)%4},.2).repeat(3);var e=new TimelineMax;e.fromTo(Ce.safeAreaHint[3],.8,{alpha:0},{alpha:.8}).yoyo(1).repeat(-1)}function ke(){Se.prePlayTimelineG2=new TimelineMax({paused:!0}),Se.prePlayTimelineG2.add(function(){Ce.timeText_g2.visible=!1,Ce.timeRemainingText_g2.visible=!1,Se.isPrePlaying=!0,Ce.leftBtn_g2.tint=5592405},0).add(function(){Se.prePlayStartTextG2.text="5",Se.prePlayStartTextG2.visible=!0,Ce.rightBtn_g2.tint=16777215,Ce.carSpeedUp=!0,Ce.speedUpSound.play()},1).add(function(){Se.prePlayStartTextG2.text="4"},2).add(function(){Se.prePlayStartTextG2.text="3"},3).add(function(){Ce.rightBtn_g2.tint=5592405,Ce.carSpeedUp=!1,Se.prePlayStartTextG2.text="2"},4).add(function(){Ce.leftBtn_g2.tint=16777215,Ce.carSpeedDown=!0,Ce.speedDownSound.play(),Se.prePlayStartTextG2.text="1"},5).add(function(){Ce.leftBtn_g2.tint=5592405,Ce.carSpeedDown=!1,Se.prePlayStartTextG2.text="GO!"},6).add(function(){Ce.rightBtn_g2.tint=16777215,Ce.leftBtn_g2.tint=16777215,Ce.timeRemainingText_g2.visible=!0,Se.prePlayStartTextG2.visible=!1,Ce.timeText_g2.visible=!0,Se.isPrePlaying=!1,De()},7).add(function(){Ce.carSpeedRandomSeed=-.01},13).add(function(){Ce.carSpeedRandomSeed=.01},16).add(function(){Ce.carSpeedRandomSeed=-.01},20).add(function(){Ce.carSpeedRandomSeed=-.01},23).add(function(){Ce.carSpeedRandomSeed=-.01},27).add(function(){Ce.carSpeedRandomSeed=.01},30).add(function(){Ce.carSpeedRandomSeed=-.01},32).add(function(){Ce.carSpeedRandomSeed=.01},35).add(function(){Ce.carSpeedRandomSeed=-.01},40)}function De(){Ce.remainingTime=30,Ce.timeRemainingText_g2.text=Ce.remainingTime,clearInterval(Ce.timerGame2),Ce.timerGame2=setInterval(function(){Ce.remainingTime--,Ce.remainingTime<=0&&(Ce.remainingTime=0),Ce.remainingTime,Ce.timeRemainingText_g2.text=Ce.remainingTime},1e3)}function Fe(){Se.prePlayTimelineG2&&Se.prePlayTimelineG2.restart();for(var e=0;e<10;e++){var t=Ce.lineGroup_g2[e];t.counterY=6e3*e,t.counterX=0,t.position.set(Se.app.screen.width/2,1e4)}for(var i=0;i<20;i++){var n=Ce.streetLightGroup_g2[i];i%2==0?(n.scale.x=-8,n.position.set(Se.app.screen.width/2+Ce.roadWidth_g2/2,3e4)):n.position.set(Se.app.screen.width/2-Ce.roadWidth_g2/2,3e4),n.anchor.set(0,1),n.counterY=24e3*i,n.counterX=0}Ce.carSpeed=0,Ce.currentCarPosition=1200,De()}var We,je,He={name:"Game2",props:{msg:String},mounted:function(){},methods:{resizeCanvas:function(){var e=$(window).innerWidth()/1920;$("canvas").css("transform","scale(".concat(e,")")),$("canvas").css("transform-origin","0 0")},resetData:function(){console.log("resetData"),Fe()},loadAsset:function(e){console.log("loadAsset"),PIXI.loader.resources.g1Ui?e():O.loadAllAssets(H,e)},setUp:function(e){console.log("setup"),H.common.currentStage=2,E.setupEnv(e,H),this.resizeCanvas(),we(H),Ae(H),Fe()},start:function(){H.common.app.ticker.start()},pause:function(){H.common.app.ticker.stop()}},computed:Object(s["a"])({},Object(f["c"])(["debug"])),beforeDestroy:function(){},destroyed:function(){delete H.common.app},watch:{},data:function(){return{gameContainer:".game2 .game-container"}}},Ee=He,Ye=(i("9c8d"),Object(u["a"])(Ee,Ie,xe,!1,null,"a6e487fe",null)),Oe=Ye.exports,Ue=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},$e=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"game3"},[i("div",{staticClass:"loading-text"},[e._v("載入中")]),i("div",{staticClass:"game-container"})])}];function Ne(e){We=e.common,je=e.game3Data,je.timeText_g3=new PIXI.Text("Time",new PIXI.TextStyle({fontSize:52,fill:"#FFD25D",fontWeight:500})),je.timeText_g3.position.set(We.app.screen.width/2,60),je.timeText_g3.anchor.set(.5,0),je.timeRemainingText_g3=new PIXI.Text("30",new PIXI.TextStyle({fontSize:52,fill:"#FFD25D",fontWeight:"bold"})),je.timeRemainingText_g3.position.set(We.app.screen.width/2,120),je.timeRemainingText_g3.anchor.set(.5,0),je.hintRect_g3=new PIXI.Graphics,je.hintRect_g3.beginFill(16711680,1),je.hintRect_g3.drawRect(0,0,We.app.screen.width,We.app.screen.height),je.hintRect_g3.endFill(),je.hintRect_g3.alpha=0,je.hintRectGood_g3=new PIXI.Graphics,je.hintRectGood_g3.beginFill(0,0),je.hintRectGood_g3.lineStyle(80,65280,1),je.hintRectGood_g3.drawRect(0,0,We.app.screen.width,We.app.screen.height),je.hintRectGood_g3.endFill(),je.hintRectGood_g3.alpha=0,je.cityRoad_g3=new PIXI.Sprite(PIXI.loader.resources.cityG3Img.texture),je.cityRoad_g3.position.set(We.app.screen.width/2,We.app.screen.height/2),je.cityRoad_g3.scale.set(1,1),je.cityRoad_g3.anchor.set(.5,.5),je.missImg_g3=new PIXI.Sprite(PIXI.loader.resources.missImg.texture),je.missImg_g3.position.set(We.app.screen.width-60,We.app.screen.height/2-je.missImg_g3.height),je.missImg_g3.anchor.set(1,0),je.missImg_g3.scale.set(.6,.6),je.mrImg_g3=new PIXI.Sprite(PIXI.loader.resources.mrImg.texture),je.mrImg_g3.position.set(60,80),je.mrImg_g3.anchor.set(0,0),je.mrImg_g3.scale.set(.6,.6),je.sysImg_g3=new PIXI.Sprite(PIXI.loader.resources.sysImg.texture),je.sysImg_g3.position.set(60,80+je.mrImg_g3.height+60),je.sysImg_g3.anchor.set(0,0),je.sysImg_g3.scale.set(.6,.6),je.dash_g3=new PIXI.Sprite(PIXI.loader.resources.dashImg.texture),je.dash_g3.position.set(We.app.screen.width/2,We.app.screen.height),je.dash_g3.anchor.set(.5,1),je.dash_g3.scale.set(.8,.8),je.leftBtn_g3=new PIXI.Sprite(PIXI.loader.resources.leftBtnG3Img.texture),je.leftBtn_g3.position.set(60,We.app.screen.height-60),je.leftBtn_g3.anchor.set(0,1),je.rightBtn_g3=new PIXI.Sprite(PIXI.loader.resources.rightBtnG3Img.texture),je.rightBtn_g3.position.set(We.app.screen.width-60-je.rightBtn_g3.width,We.app.screen.height-60),je.rightBtn_g3.anchor.set(0,1),je.hint_g3=new PIXI.Sprite(PIXI.loader.resources.hintG3Img.texture),je.hint_g3.position.set(We.app.screen.width-60,We.app.screen.height/2+je.missImg_g3.height+100),je.hint_g3.anchor.set(1,1),je.hint_g3.scale.set(.6,.6);for(var t=[],i=0;i<60;i++){var n=PIXI.Texture.fromFrame("mirror"+i);t.push(n)}je.mirrorBgLeft_g3=new PIXI.extras.AnimatedSprite(t),je.mirrorBgLeft_g3.animationSpeed=-1.2,je.mirrorBgLeft_g3.play(),je.mirrorBgRight_g3=new PIXI.extras.AnimatedSprite(t),je.mirrorBgRight_g3.animationSpeed=-1.2,je.mirrorBgRight_g3.play(),je.mirrorBgRight_g3.position.set(-je.mirrorBgLeft_g3.width/2+50,0);var r={x:We.app.screen.width/2-je.mirrorBgLeft_g3.width+190,y:80},a={x:We.app.screen.width/2+100,y:80};je.mirrorBorderLeft_g3=new PIXI.Sprite(PIXI.loader.resources.mirrorBorderLeftImg.texture),je.mirrorBorderLeft_g3.position.set(r.x,r.y),je.mirrorBorderRight_g3=new PIXI.Sprite(PIXI.loader.resources.mirrorBorderRightImg.texture),je.mirrorBorderRight_g3.position.set(a.x,a.y),je.carInMirrorLeft_g3=new PIXI.Sprite(PIXI.loader.resources.carInMirrorLeftImg.texture),je.carInMirrorLeft_g3.position.set(je.mirrorBgLeft_g3.width/2-60,-200),je.carInMirrorLeft_g3.scale.set(.1,.1),je.carInMirrorLeft_g3.anchor.set(.5,.5),je.carInMirrorRight_g3=new PIXI.Sprite(PIXI.loader.resources.carInMirrorRightImg.texture),je.carInMirrorRight_g3.position.set(je.mirrorBgRight_g3.width/2+60,-200),je.carInMirrorRight_g3.scale.set(.1,.1),je.carInMirrorRight_g3.anchor.set(.5,.5),je.mirrorLeft_g3=new PIXI.Container,je.mirrorRight_g3=new PIXI.Container,je.mirrorLeft_g3.addChild(je.mirrorBgLeft_g3),je.mirrorLeft_g3.addChild(je.carInMirrorLeft_g3),je.mirrorRight_g3.addChild(je.mirrorBgRight_g3),je.mirrorRight_g3.addChild(je.carInMirrorRight_g3),je.mirrorLeft_g3.position.set(r.x,r.y),je.mirrorRight_g3.position.set(a.x,a.y),je.mirrorMaskLeft_g3=new PIXI.Sprite(PIXI.loader.resources.mirrorMaskLeftImg.texture),je.mirrorMaskLeft_g3.position.set(r.x,r.y),je.mirrorLeft_g3.mask=je.mirrorMaskLeft_g3,je.mirrorMaskRight_g3=new PIXI.Sprite(PIXI.loader.resources.mirrorMaskRightImg.texture),je.mirrorMaskRight_g3.position.set(a.x,a.y),je.mirrorRight_g3.mask=je.mirrorMaskRight_g3,je.mirrorHintLeft_g3=new PIXI.Sprite(PIXI.loader.resources.mirrorHintLeftImg.texture),je.mirrorHintLeft_g3.position.set(r.x-120,r.y-120),je.mirrorHintLeft_g3.visible=!1,je.mirrorHintRight_g3=new PIXI.Sprite(PIXI.loader.resources.mirrorHintRightImg.texture),je.mirrorHintRight_g3.position.set(a.x-120,a.y-120),je.mirrorHintRight_g3.visible=!1,je.hintTextG3=new PIXI.Text("請注意後照鏡並透過左右按鈕提醒車主",new PIXI.TextStyle({fontSize:24,fill:"#FFFFFF",fontWeight:500})),je.hintTextG3.position.set(We.app.screen.width/2,We.app.screen.height/2),je.hintTextG3.anchor.set(.5,.5),We.prePlayStartTextG3=new PIXI.Text("5",new PIXI.TextStyle({fontSize:180,fill:"#FFFFFF",fontWeight:500})),We.prePlayStartTextG3.position.set(We.app.screen.width/2,We.app.screen.height/2-200),We.prePlayStartTextG3.anchor.set(.5,.5),We.prePlayStartTextG3.visible=!1,ze(),We.stage3.addChild(je.vanishingPoint_g3),We.stage3.addChild(je.world3D_g3),We.stage3.addChild(je.missImg_g3),We.stage3.addChild(je.hint_g3),We.stage3.addChild(je.mrImg_g3),We.stage3.addChild(je.sysImg_g3),We.stage3.addChild(je.timeText_g3),We.stage3.addChild(je.timeRemainingText_g3),We.stage3.addChild(je.mirrorHintLeft_g3),We.stage3.addChild(je.mirrorHintRight_g3),We.stage3.addChild(je.mirrorLeft_g3),We.stage3.addChild(je.mirrorRight_g3),We.stage3.addChild(je.mirrorMaskRight_g3),We.stage3.addChild(je.mirrorMaskLeft_g3),We.stage3.addChild(je.mirrorBorderLeft_g3),We.stage3.addChild(je.mirrorBorderRight_g3),We.stage3.addChild(je.rightBtn_g3),We.stage3.addChild(je.leftBtn_g3),We.stage3.addChild(je.hintRect_g3),We.stage3.addChild(je.hintRectGood_g3),We.stage3.addChild(je.hintTextG3),We.stage3.addChild(We.prePlayStartTextG3)}function ze(){je.world3D_g3=new PIXI.projection.Container2d,je.world3D_g3.position.set(0,910),je.bigWhiteTexture=new PIXI.Texture(PIXI.Texture.WHITE.baseTexture),je.bigWhiteTexture.orig.width=30,je.bigWhiteTexture.orig.height=30,je.lineLeft_g3=new PIXI.projection.Sprite2d(je.bigWhiteTexture),je.lineLeft_g3.tint=16777215,je.lineLeft_g3.scale.set(1,1e3),je.lineLeft_g3.anchor.set(.5,.5),je.lineLeft_g3.position.set((We.app.screen.width-je.roadWidth_g3)/2,0),je.lineRight_g3=new PIXI.projection.Sprite2d(je.bigWhiteTexture),je.lineRight_g3.tint=16777215,je.lineRight_g3.scale.set(1,1e3),je.lineRight_g3.anchor.set(.5,.5),je.lineRight_g3.position.set((We.app.screen.width+je.roadWidth_g3)/2,0),je.world3D_g3.addChild(je.lineLeft_g3),je.world3D_g3.addChild(je.lineRight_g3),je.lineGroup_g3=[];for(var e=0;e<10;e++){var t=new PIXI.projection.Sprite2d(je.bigWhiteTexture);t.tint=16777215,t.scale.set(je.roadWidth_g3/30,.5),t.anchor.set(.5),t.counterY=3e3*e,t.counterX=0,t.position.set(We.app.screen.width/2,1e4),t.proj.affine=PIXI.projection.AFFINE.AXIS_X,je.lineGroup_g3.push(t),je.world3D_g3.addChild(t)}for(var i=1;i<6;i++){var n=PIXI.Texture.fromFrame("wifiImg"+i),r=new PIXI.projection.Sprite2d(n);r.scale.set(-1.2,-1.2),r.tint=16765533,r.visible=!1,r.position.set(We.app.screen.width/2-300,je.carPosY_g3-500),je.leftWifi.push(r);var a=new PIXI.projection.Sprite2d(n);a.position.set(We.app.screen.width/2+50,je.carPosY_g3-500),a.scale.set(1.2,-1.2),a.tint=16765533,a.visible=!1,je.rightWifi.push(a),je.world3D_g3.addChild(r),je.world3D_g3.addChild(a)}je.carComingLeft_g3=new PIXI.projection.Sprite2d(PIXI.loader.resources.carComingLeftImg.texture),je.carComingLeft_g3.scale.set(5,-5),je.carComingLeft_g3.anchor.set(.5),je.carComingLeft_g3.position.set(We.app.screen.width/2-je.roadWidth_g3/4+100,-1e3),je.carComingLeft_g3.proj.affine=PIXI.projection.AFFINE.AXIS_Y,je.carComingLeft_g3.visible=!1,je.world3D_g3.addChild(je.carComingLeft_g3),je.carComingRight_g3=new PIXI.projection.Sprite2d(PIXI.loader.resources.carComingRightImg.texture),je.carComingRight_g3.scale.set(5,-5),je.carComingRight_g3.anchor.set(.5),je.carComingRight_g3.position.set(We.app.screen.width/2+je.roadWidth_g3/4-100,-1e3),je.carComingRight_g3.proj.affine=PIXI.projection.AFFINE.AXIS_Y,je.carComingRight_g3.visible=!1,je.world3D_g3.addChild(je.carComingRight_g3),je.car_g3=new PIXI.projection.Sprite2d(PIXI.loader.resources.carMidImg.texture),je.car_g3.scale.set(5,-5),je.car_g3.anchor.set(.5,.5),je.car_g3.position.set(We.app.screen.width/2,je.carPosY_g3),je.car_g3.proj.affine=PIXI.projection.AFFINE.AXIS_Y,je.world3D_g3.addChild(je.car_g3),je.vanishingPointStyle_g3=new PIXI.TextStyle({fontFamily:"Arial",fontSize:20,fill:"#ffffff"}),je.vanishingPoint_g3=new PIXI.Text("Ｏ",je.vanishingPointStyle_g3),je.vanishingPoint_g3.anchor.set(.5),je.vanishingPoint_g3.position.set(960,535)}var qe,Je,Ve,Ke,Qe,Ze={game3Loop:et};function et(e){qe||tt(e);for(var t=0;t<Ve.lineGroup_g3.length;t++){var i=Ve.lineGroup_g3[t];i.counterY-=Ve.carSpeed,i.position.y=i.counterY,i.counterY<-500&&(i.counterY=33e3)}if(Ve.leftBtnClick_g3&&Ve.isLeftCarComes){var n=new TimelineMax;n.fromTo(Ve.hintRectGood_g3,.2,{alpha:1},{alpha:0}).yoyo(1).repeat(6),Ve.carMoveLeftAni&&(Ve.carMoveLeftAni.kill(),Ve.carMoveLeftAni=null,Ve.carMoveLeftAniMirror.kill()),it()}if(Ve.rightBtnClick_g3&&Ve.isRightCarComes){var r=new TimelineMax;r.fromTo(Ve.hintRectGood_g3,.2,{alpha:1},{alpha:0}).yoyo(1).repeat(6),Ve.carMoveRightAni&&(Ve.carMoveRightAni.kill(),Ve.carMoveRightAni=null,Ve.carMoveRightAniMirror.kill()),it()}for(var a=0;a<5;a++){var o=Ve.leftWifi[a],s=Ve.rightWifi[a];o.position.set(Ve.car_g3.position.x-200,Ve.car_g3.position.y-500),s.position.set(Ve.car_g3.position.x+200,Ve.car_g3.position.y-500)}0}function tt(e){qe=e,Je=e.common,Ve=e.game3Data}function it(){TweenMax.to(Ve.car_g3.position,1,{x:Je.app.screen.width/2,ease:Power0.easeNone}),TweenMax.to(Ve.mirrorBgRight_g3.position,1,{x:-300,ease:Power0.easeNone}),TweenMax.to(Ve.mirrorBgLeft_g3.position,1,{x:0,ease:Power0.easeNone})}function nt(e){e,Ke=e.common,Qe=e.game3Data,st(),ct(),rt(),at(),dt(),pt(),Qe.rightBtnClick_g3=!1,Qe.leftBtnClick_g3=!1;var t=new TimelineMax;t.fromTo(Qe.mirrorHintLeft_g3,.2,{alpha:0},{alpha:1}).yoyo(1).repeat(-1);var i=new TimelineMax;i.fromTo(Qe.mirrorHintRight_g3,.2,{alpha:0},{alpha:1}).yoyo(1).repeat(-1),Ke.app.stage.addChild(Ke.stage3),Ke.app.ticker.speed=1,Ke.app.ticker.add(function(t){return Ze.game3Loop(e)}),Ke.prePlayTimelineG3.restart(),Ke.isGameRunning=!1,Ke.isPrePlaying=!0,Ke.app.ticker.stop()}function rt(){Qe.rightBtn_g3.interactive=!0,Qe.rightBtn_g3.buttonMode=!0,Qe.leftBtn_g3.interactive=!0,Qe.leftBtn_g3.buttonMode=!0,Qe.rightBtn_g3.on("pointerdown",function(){Ke.isPrePlaying||(Qe.rightWifiTimeline.restart(),Qe.rightBtn_g3.tint=5592405,Qe.rightBtnClick_g3=!0)}),Qe.rightBtn_g3.on("pointerup",function(){Ke.isPrePlaying||(Qe.rightBtn_g3.tint=16777215,Qe.rightBtnClick_g3=!1)}),Qe.leftBtn_g3.on("pointerdown",function(){Ke.isPrePlaying||(Qe.leftWifiTimeline.restart(),Qe.leftBtn_g3.tint=5592405,Qe.leftBtnClick_g3=!0)}),Qe.leftBtn_g3.on("pointerup",function(){Ke.isPrePlaying||(Qe.leftBtn_g3.tint=16777215,Qe.leftBtnClick_g3=!1)}),$("body").keyup(function(e){var t=e.keyCode;if(!Ke.isPrePlaying)switch(t){case 37:Qe.leftBtn_g3.tint=16777215,Qe.leftBtnClick_g3=!1;break;case 39:Qe.rightBtn_g3.tint=16777215,Qe.rightBtnClick_g3=!1;break}}),$("body").keydown(function(e){var t=e.keyCode;console.log(t);if(!Ke.isPrePlaying)switch(t){case 37:Qe.leftWifiTimeline.restart(),Qe.leftBtn_g3.tint=5592405,Qe.leftBtnClick_g3=!0;break;case 39:Qe.rightWifiTimeline.restart(),Qe.rightBtn_g3.tint=5592405,Qe.rightBtnClick_g3=!0;break}})}function at(){var e=Qe.world3D_g3.toLocal(Qe.vanishingPoint_g3.position,void 0,void 0,void 0,PIXI.projection.TRANSFORM_STEP.BEFORE_PROJ);Qe.world3D_g3.proj.setAxisY(e,1)}function ot(){"left"==Qe.carSideSequence[Qe.carSideSequenceIndex]?Qe.carLeftTimeline_g3.restart():Qe.carRightTimeline_g3.restart(),Qe.carSideSequenceIndex=(Qe.carSideSequenceIndex+1)%6}function st(){var e=TweenMax.fromTo(Qe.carComingLeft_g3.position,10,{y:-1e3,ease:Power0.easeNone},{y:1e4});Qe.carLeftTimeline_g3=new TimelineMax({onStart:function(){Qe.isLeftCarComes=!0,lt("left"),Qe.carMoveLeftAni=TweenMax.to(Qe.car_g3.position,3,{x:Ke.app.screen.width/2-300,ease:Power0.easeNone}).delay(3),Qe.carMoveRightAniMirror=TweenMax.to(Qe.mirrorBgRight_g3.position,3,{x:-200,ease:Power0.easeNone}).delay(3),Qe.carMoveLeftAniMirror=TweenMax.to(Qe.mirrorBgLeft_g3.position,3,{x:100,ease:Power0.easeNone}).delay(3)},onComplete:function(){Qe.carLeftTimeline_g3.seek(0),Qe.carLeftTimeline_g3.pause(),ot(),Qe.carComingLeft_g3.visible=!1},paused:!0}),Qe.carLeftTimeline_g3.add(function(){Qe.carComingLeft_g3.visible=!1},0).add(e,4).add(function(){Qe.carComingLeft_g3.visible=!0},4.5).add(function(){if(Qe.isLeftCarComes=!1,Qe.carMoveLeftAni){TweenMax.to(Qe.car_g3.position,.5,{x:Ke.app.screen.width/2-150,ease:Elastic.easeOut.config(1,.3)});var e=new TimelineMax({onComplete:function(){Qe.carComingLeft_g3.position.y=-1e3,gt()}});e.fromTo(Qe.hintRect_g3,.2,{alpha:.3},{alpha:0}).yoyo(1).repeat(6)}},4.7);var t=TweenMax.fromTo(Qe.carComingRight_g3.position,10,{y:-1e3,ease:Power0.easeNone},{y:1e4});Qe.carRightTimeline_g3=new TimelineMax({onStart:function(){Qe.isRightCarComes=!0,lt("right"),Qe.carMoveRightAni=TweenMax.to(Qe.car_g3.position,3,{x:Ke.app.screen.width/2+300,ease:Power0.easeNone}).delay(3),Qe.carMoveRightAniMirror=TweenMax.to(Qe.mirrorBgRight_g3.position,3,{x:-400,ease:Power0.easeNone}).delay(3),Qe.carMoveLeftAniMirror=TweenMax.to(Qe.mirrorBgLeft_g3.position,3,{x:-100,ease:Power0.easeNone}).delay(3)},onComplete:function(){Qe.carRightTimeline_g3.seek(0),Qe.carRightTimeline_g3.pause(),ot(),Qe.carComingRight_g3.visible=!1},paused:!0}),Qe.carRightTimeline_g3.add(function(){Qe.carComingRight_g3.visible=!1},0).add(t,4).add(function(){Qe.carComingRight_g3.visible=!0},4.5).add(function(){if(Qe.isRightCarComes=!1,Qe.carMoveRightAni){TweenMax.to(Qe.car_g3.position,.5,{x:Ke.app.screen.width/2+150,ease:Elastic.easeOut.config(1,.3)});var e=new TimelineMax({onComplete:function(){Qe.carComingRight_g3.position.y=-1e3,gt()}});e.fromTo(Qe.hintRect_g3,.2,{alpha:.3},{alpha:0}).yoyo(1).repeat(6)}},4.7)}function gt(){TweenMax.to(Qe.car_g3.position,1,{x:Ke.app.screen.width/2,ease:Power0.easeNone}),TweenMax.to(Qe.mirrorBgRight_g3.position,1,{x:-300,ease:Power0.easeNone}),TweenMax.to(Qe.mirrorBgLeft_g3.position,1,{x:0,ease:Power0.easeNone})}function lt(e){"left"==e?Qe.carLeftMirrorTimeline_g3.restart():Qe.carRightMirrorTimeline_g3.restart()}function ct(){Qe.carLeftMirrorTimeline_g3=new TimelineMax({pause:!0});var e=TweenMax.fromTo(Qe.carInMirrorLeft_g3.position,3,{x:300,y:105,ease:Power0.easeNone},{x:295,y:100}),t=TweenMax.fromTo(Qe.carInMirrorLeft_g3.position,3,{x:295,y:100,ease:Power0.easeNone},{x:-50,y:300}),i=TweenMax.fromTo(Qe.carInMirrorLeft_g3.scale,2,{x:.03,y:.03,ease:Power0.easeNone},{x:.15,y:.15});Qe.carLeftMirrorTimeline_g3.add(e,0),Qe.carLeftMirrorTimeline_g3.add(t,3),Qe.carLeftMirrorTimeline_g3.add(i,3),Qe.carRightMirrorTimeline_g3=new TimelineMax({pause:!0});var n=TweenMax.fromTo(Qe.carInMirrorRight_g3.position,3,{x:105,y:105,ease:Power0.easeNone},{x:100,y:100}),r=TweenMax.fromTo(Qe.carInMirrorRight_g3.position,3,{x:100,y:100,ease:Power0.easeNone},{x:420,y:320}),a=TweenMax.fromTo(Qe.carInMirrorRight_g3.scale,2,{x:.03,y:.03,ease:Power0.easeNone},{x:.15,y:.15});Qe.carRightMirrorTimeline_g3.add(n,0),Qe.carRightMirrorTimeline_g3.add(r,3),Qe.carRightMirrorTimeline_g3.add(a,3)}function dt(){Qe.leftWifiTimeline=new TimelineMax({onStart:function(){Qe.leftWifiIndex=0},paused:!0}),Qe.leftWifiTimeline.add(function(){for(var e=0;e<5;e++)Qe.leftWifi[e].visible=e==Qe.leftWifiIndex;Qe.leftWifiIndex=(Qe.leftWifiIndex+1)%4},.2).delay(.2).repeat(8),Qe.rightWifiTimeline=new TimelineMax({onStart:function(){Qe.rightWifiIndex=0},paused:!0}),Qe.rightWifiTimeline.add(function(){for(var e=0;e<5;e++)Qe.rightWifi[e].visible=e==Qe.rightWifiIndex;Qe.rightWifiIndex=(Qe.rightWifiIndex+1)%4},.2).delay(.2).repeat(8)}function pt(){Ke.prePlayTimelineG3=new TimelineMax({paused:!0}),Ke.prePlayTimelineG3.add(function(){Qe.carLeftMirrorTimeline_g3.play(),Qe.carLeftMirrorTimeline_g3.seek(4),Qe.carLeftTimeline_g3.play(),Qe.carLeftTimeline_g3.seek(4),Qe.carMoveLeftAni=TweenMax.to(Qe.car_g3.position,3,{x:Ke.app.screen.width/2-300,ease:Power0.easeNone}),Qe.carMoveRightAniMirror=TweenMax.to(Qe.mirrorBgRight_g3.position,3,{x:-200,ease:Power0.easeNone}),Qe.carMoveLeftAniMirror=TweenMax.to(Qe.mirrorBgLeft_g3.position,3,{x:100,ease:Power0.easeNone}),Qe.timeText_g3.visible=!1,Qe.timeRemainingText_g3.visible=!1,Ke.isPrePlaying=!0,Ke.prePlayStartTextG3.text="5",Ke.prePlayStartTextG3.visible=!0,Qe.leftBtn_g3.tint=5592405,Qe.rightBtn_g3.tint=5592405},0).add(function(){Ke.prePlayStartTextG3.text="4"},1).add(function(){Ke.prePlayStartTextG3.text="3",Qe.carMoveLeftAni.kill(),Qe.isRightCarComes=!0,Qe.carRightMirrorTimeline_g3.play(),Qe.carRightMirrorTimeline_g3.seek(2),Qe.carRightTimeline_g3.play(),Qe.carRightTimeline_g3.seek(2)},2).add(function(){Qe.carMoveRightAni=TweenMax.to(Qe.car_g3.position,2,{x:Ke.app.screen.width/2+300,ease:Power0.easeNone}),Qe.carMoveRightAniMirror=TweenMax.to(Qe.mirrorBgRight_g3.position,2,{x:-400,ease:Power0.easeNone}),Qe.carMoveLeftAniMirror=TweenMax.to(Qe.mirrorBgLeft_g3.position,2,{x:-100,ease:Power0.easeNone}),Ke.prePlayStartTextG3.text="2"},3).add(function(){Qe.rightBtn_g3.tint=16777215,Qe.rightBtnClick_g3=!0,Qe.rightWifiTimeline.restart(),Ke.prePlayStartTextG3.text="1"},4).add(function(){Ke.prePlayStartTextG3.text="GO!"},5).add(function(){Qe.leftBtn_g3.tint=16777215,Ke.prePlayStartTextG3.visible=!1,Qe.timeText_g3.visible=!0,Qe.timeRemainingText_g3.visible=!0,Qe.hintTextG3.visible=!1,Ke.isPrePlaying=!1,Qe.rightBtnClick_g3=!1,Qe.carLeftMirrorTimeline_g3.pause(),Qe.carLeftMirrorTimeline_g3.seek(10),Qe.carLeftTimeline_g3.pause(),Qe.carLeftTimeline_g3.seek(10),ut()},6)}function ut(){Qe.remainingTime=30,Qe.timeRemainingText_g3.text=Qe.remainingTime,clearInterval(Qe.timerGame3),Qe.timerGame3=setInterval(function(){Qe.remainingTime--,Qe.remainingTime<=0&&(Qe.remainingTime=0),Qe.remainingTime,Qe.timeRemainingText_g3.text=Qe.remainingTime},1e3)}function mt(){Qe.carSideSequenceIndex=0,Ke.prePlayTimelineG3&&(Ke.prePlayTimelineG3.play(),Ke.prePlayTimelineG3.seek(0)),ut()}var ht={name:"Game3",props:{msg:String},mounted:function(){window.tempVars=H},methods:{resizeCanvas:function(){var e=$(window).innerWidth()/1920;$("canvas").css("transform","scale(".concat(e,")")),$("canvas").css("transform-origin","0 0")},resetData:function(){console.log("resetData"),mt()},loadAsset:function(e){console.log("loadAsset"),PIXI.loader.resources.g1Ui?e():O.loadAllAssets(H,e)},setUp:function(e){console.log("setup"),H.common.currentStage=3,E.setupEnv(e,H),this.resizeCanvas(),Ne(H),nt(H),mt()},start:function(){H.common.app.ticker.start()},pause:function(){H.common.app.ticker.stop()}},computed:Object(s["a"])({},Object(f["c"])(["debug"])),beforeDestroy:function(){},destroyed:function(){delete H.common.app},watch:{},data:function(){return{gameContainer:".game3 .game-container"}}},ft=ht,_t=(i("b54b"),Object(u["a"])(ft,Ue,$e,!1,null,"4cec86a3",null)),It=_t.exports,xt={name:"HelloWorld",props:{msg:String},mounted:function(){var e=this;(new A.a).init(),this.scrollY=window.scrollY,window.addEventListener("scroll",function(){e.scrollY=window.scrollY,e.getSectionHeightList()}),setTimeout(function(){e.$forceUpdate(),e.getSectionHeightList(),console.log("Init game"),e.$set(e,"refGroup",{1:e.$refs.game1[0],2:e.$refs.game2[0],3:e.$refs.game3[0]}),console.log(e.refGroup),setTimeout(function(){e.loadGame()},2e3)},500)},components:{Game1:_e,Game2:Oe,Game3:It},methods:{getTransform:function(e,t,i){if(0==i)return 0;if(-1!=e.src.indexOf("speedline")||-1!=e.src.indexOf("dialog"))return 0;var n=.95*(this.scrollY-(this.sectionPositionList[t]+.6*window.outerHeight)),r=(this.scrollY-this.sectionPositionList[t])/(this.sectionHeightList[t]||0),a=e.getPanX?e.getPanX(n,r):0,o=e.getPanY?e.getPanY(n,r):-n/(.6*-i+5),s=e.getScale?e.getScale(n,r):0==i?1:1.03;return{x:a,y:o,scale:s}},getLayerStyle:function(e,t,i,n){var r=this.getTransform(e,n,t);return{"z-index":t,transform:"scale("+r.scale+") translate("+r.x+"px,"+r.y+"px)"}},getLayerClass:function(e,t){var i=e.class?e.classes:[],n={wow:!0,zoomIn:-1!=e.src.indexOf("dialog")||-1!=e.src.indexOf("explode"),tada:-1!=e.src.indexOf("C01_speedline"),slideInRight:-1!=e.src.indexOf("A02_man")||-1!=e.src.indexOf("I02_box")||-1!=e.src.indexOf("I06_man"),slideInBottom:-1!=e.src.indexOf("D04_car"),pulse:-1!=e.src.indexOf("D04_car"),frontItem:0!=t};return i.forEach(function(e){return n[e]=!0}),n},getSectionHeightList:function(){this.sectionHeightList=this.scenes.map(function(e,t){var i=document.getElementById("sec_"+t),n=0;return i&&(n=i.offsetHeight),n})},getLayerObject:function(e){return"string"==typeof e?{src:e}:e},loadGame:function(){for(var e=this,t=1;t<=3;t++)console.log(this.refGroup[t]),this.refGroup[t].loadAsset(function(){e.refGroup[t].setUp(".game".concat(t," .game-container"))})}},computed:Object(s["a"])({},Object(f["c"])(["debug"]),{currentSection:function(){var e=this.sectionPositionList;if(e)for(var t=0;t<e.length;t++)if(this.scrollY<e[t])return this.scenes[t-1];return null},currentPreSection:function(){var e=this.sectionPositionList;if(e)for(var t=0;t<e.length;t++)if(this.scrollY+300<e[t])return this.scenes[t-1];return null},sectionPositionList:function(){return this.sectionHeightList.reduce(function(e,t){return e.lastHeight=R()(e.all.slice(-1))||0,e.all.push(e.lastHeight+t),e},{lastHeight:0,all:[0]}).all}}),watch:{currentPreSection:function(e,t){var i=this;e&&t&&(e.title!=t.title&&this.currentPreSection.audios&&this.currentPreSection.audios.forEach(function(e){var t=new Audio(e);console.log(e),t.volume=.5,t.play(),i.audioElList.push({scene:i.currentPreSection,element:t,paused:!1})}),this.audioElList.forEach(function(e){e.scene===i.currentPreSection||e.scene===i.currentSection||e.paused||(e.paused=!0,M["TweenMax"].to(e.element,1,{volume:0}),setTimeout(function(){e.element.pause()},1e3))}),e.title!=t.title&&"game"==t.type&&("Game1"!=t.title||this.gameStatus["1"]||(this.gameStatus["1"]=!0,this.refGroup["1"].loadAsset(function(){i.refGroup["1"].setUp(".game".concat("1"," .game-container")),i.refGroup["1"].start()})),"Game2"!=t.title||this.gameStatus["2"]||(this.gameStatus["2"]=!0,this.refGroup["2"].loadAsset(function(){i.refGroup["2"].setUp(".game".concat("2"," .game-container")),i.refGroup["2"].start()})),"Game3"!=t.title||this.gameStatus["3"]||(this.gameStatus["3"]=!0,this.refGroup["3"].loadAsset(function(){i.refGroup["3"].setUp(".game".concat("3"," .game-container")),i.refGroup["3"].start()}))))},currentSection:function(e,t){var i=this;e.title!=t.title&&"game"==t.type&&("Game1"!=t.title||this.gameStatus["1"]||(this.gameStatus["1"]=!0,this.refGroup["1"].loadAsset(function(){i.refGroup["1"].setUp(".game".concat("1"," .game-container")),i.refGroup["1"].start()})),"Game2"!=t.title||this.gameStatus["2"]||(this.gameStatus["2"]=!0,this.refGroup["2"].loadAsset(function(){i.refGroup["2"].setUp(".game".concat("2"," .game-container")),i.refGroup["2"].start()})),"Game3"!=t.title||this.gameStatus["3"]||(this.gameStatus["3"]=!0,this.refGroup["3"].loadAsset(function(){i.refGroup["3"].setUp(".game".concat("3"," .game-container")),i.refGroup["3"].start()})))}},data:function(){return{sectionHeightList:[],audioElList:[],scrollY:0,sectionHeight:window.outerWidth/1920*1080,scenes:_.scenes,refGroup:{},gameStatus:{1:!1,2:!1,3:!1}}}},wt=xt,vt=(i("c96d"),Object(u["a"])(wt,C,G,!1,null,"7dff2a12",null)),yt=vt.exports,Pt={name:"home",components:{StoryIndex:yt},mounted:function(){setTimeout(function(){},2e3),setTimeout(function(){var e=new Audio("Audio/explode.wav");e.play()},5e3)},methods:Object(s["a"])({},Object(f["b"])(["setLoading"]))},Tt=Pt,St=Object(u["a"])(Tt,T,S,!1,null,null,null),Ct=St.exports,Gt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page about"},[i("section",{staticClass:"jumbotron",style:{"background-image":"url(_Loading/loading_首頁-compressor.png)"}}),e._m(0)])},bt=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"content"},[i("div",{staticClass:"container"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-12"},[i("h1",{staticClass:"text-center"},[e._v("活動辦法")])])])])])}],Rt={},Xt=Rt,At=Object(u["a"])(Xt,Gt,bt,!1,null,null,null),Mt=At.exports,Lt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page award"},[i("section",{staticClass:"jumbotron",style:{"background-image":"url(_Loading/loading_首頁-compressor.png)"}}),e._m(0)])},Bt=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"content"},[i("div",{staticClass:"container"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-12"},[i("h1",{staticClass:"text-center"},[e._v("得獎公告")])])])])])}],kt={},Dt=kt,Ft=Object(u["a"])(Dt,Lt,Bt,!1,null,null,null),Wt=Ft.exports,jt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page game"},[i("game1",{directives:[{name:"show",rawName:"v-show",value:1==e.currentGame,expression:"currentGame==1"}],ref:"game1"}),i("game2",{directives:[{name:"show",rawName:"v-show",value:2==e.currentGame,expression:"currentGame==2"}],ref:"game2"}),i("game3",{directives:[{name:"show",rawName:"v-show",value:3==e.currentGame,expression:"currentGame==3"}],ref:"game3"}),i("div",{staticClass:"nav-bar active"},[i("li",{class:{active:1==e.currentGame},on:{click:function(t){return e.handleStageChange(1)}}},[e._v("Game 1")]),i("li",{class:{active:2==e.currentGame},on:{click:function(t){return e.handleStageChange(2)}}},[e._v("Game 2")]),i("li",{class:{active:3==e.currentGame},on:{click:function(t){return e.handleStageChange(3)}}},[e._v("Game 3")]),i("li",{on:{click:e.startGame}},[e._v(e._s("開始"))]),i("li",{on:{click:e.resetData}},[e._v(e._s("重置"))]),i("li",{on:{click:e.toggleMenu}},[e._v("<")])])],1)},Ht=[],Et={name:"Game",mounted:function(){this.refGroup["1"]=this.$refs.game1,this.refGroup["2"]=this.$refs.game2,this.refGroup["3"]=this.$refs.game3},components:{game1:_e,game2:Oe,game3:It},data:function(){return{currentGame:0,isLoaded:!1,refGroup:{}}},methods:{loadGame:function(){var e=this;this.isLoaded?this.refGroup[this.currentGame].setUp(".game".concat(this.currentGame," .game-container")):(this.isLoaded=!0,this.refGroup[this.currentGame].loadAsset(function(){e.refGroup[e.currentGame].setUp(".game".concat(e.currentGame," .game-container"))}))},startGame:function(){this.refGroup[this.currentGame].start()},resetData:function(){this.refGroup[this.currentGame].resetData()},toggleMenu:function(){$(".nav-bar").toggleClass("active")},handleStageChange:function(e){this.currentGame!=e&&(this.currentGame=e,this.loadGame())}},computed:{}},Yt=Et,Ot=(i("af43"),Object(u["a"])(Yt,jt,Ht,!1,null,"1912b780",null)),Ut=Ot.exports;r["a"].use(P["a"]);var $t=new P["a"]({routes:[{path:"/",name:"home",component:Ct},{path:"/about",name:"about",component:Mt},{path:"/award",name:"award",component:Wt},{path:"/game",name:"game",component:Ut}]});r["a"].use(f["a"]);var Nt=new f["a"].Store({state:{loading:!0,debug:!1},mutations:{setLoading:function(e,t){e.loading=t},setDebug:function(e,t){e.debug=t}},actions:{}}),zt=(i("4b3c"),i("ab8b"),i("8251"));zt["a"].init(),r["a"].config.productionTip=!1,new r["a"]({router:$t,store:Nt,render:function(e){return e(y)}}).$mount("#app"),window.addEventListener("keydown",function(e){68==e.keyCode&&(Nt.commit("setDebug",!Nt.state.debug),console.log(Nt.state.debug))})},6292:function(e,t,i){},"9c8d":function(e,t,i){"use strict";var n=i("6292"),r=i.n(n);r.a},ad72:function(e,t,i){},af43:function(e,t,i){"use strict";var n=i("dfc8"),r=i.n(n);r.a},b54b:function(e,t,i){"use strict";var n=i("ecf1"),r=i.n(n);r.a},c716:function(e,t,i){"use strict";var n=i("3859"),r=i.n(n);r.a},c96d:function(e,t,i){"use strict";var n=i("fdee"),r=i.n(n);r.a},cf25:function(e,t,i){"use strict";var n=i("0cfb"),r=i.n(n);r.a},dfc8:function(e,t,i){},ecf1:function(e,t,i){},fdee:function(e,t,i){}});
//# sourceMappingURL=app.694e6db3.js.map