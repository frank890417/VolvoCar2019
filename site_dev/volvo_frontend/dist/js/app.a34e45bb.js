(function(e){function t(t){for(var n,o,s=t[0],g=t[1],l=t[2],d=0,p=[];d<s.length;d++)o=s[d],r[o]&&p.push(r[o][0]),r[o]=0;for(n in g)Object.prototype.hasOwnProperty.call(g,n)&&(e[n]=g[n]);c&&c(t);while(p.length)p.shift()();return a.push.apply(a,l||[]),i()}function i(){for(var e,t=0;t<a.length;t++){for(var i=a[t],n=!0,s=1;s<i.length;s++){var g=i[s];0!==r[g]&&(n=!1)}n&&(a.splice(t--,1),e=o(o.s=i[0]))}return e}var n={},r={app:0},a=[];function o(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=n,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(i,n,function(t){return e[t]}.bind(null,n));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],g=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var c=g;a.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"0cfb":function(e,t,i){},"13e3":function(e,t,i){},"1f38":function(e,t,i){"use strict";var n=i("875d"),r=i.n(n);r.a},"20bd":function(e,t,i){"use strict";var n=i("ad72"),r=i.n(n);r.a},"2bbf":function(e,t,i){"use strict";var n=i("ac44"),r=i.n(n);r.a},"56d7":function(e,t,i){"use strict";i.r(t);i("cadf"),i("551c"),i("f751"),i("097d");var n,r=i("2b0e"),a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:{loading:e.loading},attrs:{id:"app"}},[i("transition",{attrs:{name:"fade"}},[e.loading?i("Loading"):e._e()],1),i("div",{attrs:{id:"nav"}},[i("router-link",{attrs:{to:"/"}},[e._v("首頁")]),i("router-link",{attrs:{to:"/about"}},[e._v("活動辦法")]),i("router-link",{attrs:{to:"/award"}},[e._v("得獎公告")]),i("router-link",{attrs:{to:"/game"}},[e._v("遊戲測試")])],1),i("transition",{attrs:{name:"fade",mode:"out-in"}},[i("router-view",{key:e.$route.path})],1)],1)},o=[],s=i("cebc"),g=i("75fc"),l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page loading"},[i("div",{staticClass:"jumbotron fadeIn animated ani-delay-5",style:{"background-image":"url(_Loading/loading_首頁-compressor.png)"}},[i("div",{staticClass:"part p1"},[i("div",{staticClass:"title-area"},[i("img",{staticClass:"title fadeIn animated ani-delay-15 mt-5",attrs:{src:"_Loading/volvo_laoding_v2_safety guardian.png"}}),i("img",{staticClass:"fadeIn animated ani-delay-15 mt-5",staticStyle:{width:"450px"},attrs:{src:"_Loading/volvo_laoding_v2_loadingbar.png"}}),i("img",{staticClass:"fadeIn animated ani-delay-15 mt-3",staticStyle:{width:"200px"},attrs:{src:"_Loading/volvo_laoding_v2_loading.png"}})]),i("div",[i("img",{staticClass:"fadeIn animated ani-delay-15",staticStyle:{width:"400px"},attrs:{src:"_Loading/volvo_laoding_v2_explain.png"}})])])])])},c=[],d={mounted:function(){}},p=d,m=(i("20bd"),i("2877")),u=Object(m["a"])(p,l,c,!1,null,null,null),h=u.exports,f=i("2f62"),_={scenes:[{title:"A01",layers:["A/A01/A01.png"],audios:["Audio/explode.wav"]},{title:"A02",layers:["A/A02/A02_bg.png","A/A02/A02_man.png"],audios:["Audio/evillaugh.mp3"]},{title:"A03",layers:["A/A03/A03_bg.png","A/A03/A03_man.png"],audios:["Audio/cardoor.wav"]},{title:"B01",layers:["B/B01/B01.png"]},{title:"B02",layers:["B/B02/B02.png"],audios:["Audio/datasound.wav"]},{title:"B03",layers:["B/B03/B03.png"],audios:["Audio/cheer.mp3"]},{title:"B04",layers:["B/B04/B04.png"]},{title:"C01",layers:["C/C01/C01_bg.png","C/C01/C01_fire.png","C/C01/C01_man.png","C/C01/C01_speedline.png"],audios:[]},{title:"C02",layers:["C/C02/C02_bg.png","C/C02/C02_man.png"],audios:["Audio/evillaugh.mp3"]},{title:"C03",layers:["C/C03/C03_bg.png","C/C03/C03_car.png","C/C03/C03_man.png"]},{title:"C04",layers:["C/C04/C04.png","C/C04/C04_對白.png"],audios:["Audio/seatbelt.wav"]},{title:"C05",layers:["C/C05/C05.png","C/C05/C05_對白.png"],audios:["Audio/engine_car.wav"]},{title:"D01",layers:["D/D01/D01.png"],audios:["Audio/busycity.wav"]},{title:"D02",layers:["D/D02/D02.png"],audios:["Audio/car_stopping.wav"]},{title:"D03",layers:["D/D03/D03.png"],audios:["Audio/car_crash.wav"]},{title:"D04",layers:["D/D04/D04_bg.png","D/D04/D04_car.png"]},{title:"E01",layers:["E/E01/E01_bg.png","E/E01/E01_bike.png","E/E01/E01_對白.png"]},{title:"E02",layers:["E/E02/E02_bg_v2.jpg","E/E02/E02_dialog_a.png","E/E02/E02_dialog_b.png"]},{title:"F01",layers:["F/F01/F01_bg.png","F/F01/F01_對白.png"]},{title:"F02",layers:["F/F02/F02.png"]},{title:"F03",layers:["F/F03/F03.png"],audios:["Audio/gun2.mp3"]},{title:"F04",layers:["F/F04/F04.png"]},{title:"G01",layers:["G/G01/G01.png","G/G01/G01_對白.png"]},{title:"G02",layers:["G/G02/G02.png","G/G02/G02_car_1.png","G/G02/G02_car_2.png"],audios:["Audio/carspeedup.wav"]},{title:"G03",layers:["G/G03/G03.png","G/G03/G03_car.png"],audios:["Audio/carspeedup.wav"]},{title:"G04",layers:["G/G04/G04.png","G/G04/G04_對白.png"]},{title:"H01",layers:["H/H01/H01.png"],audios:["Audio/gun.mp3"]},{title:"H02",layers:["H/H02/H02_bg.png"],audios:["Audio/car_stopping.wav"]},{title:"H02",layers:["H/H03/H03.jpg","H/H03/H03_dialog_a.png"],audios:["Audio/evillaugh.mp3"]},{title:"H04",layers:["H/H04/H04_v3.jpg"],audios:["Audio/carspeedup.wav"]},{title:"H05",layers:["H/H05/H05_bg.jpg","H/H05/H05_dialog_a.png","H/H05/H05_dialog_b.png"],audios:["Audio/beep.wav"]},{title:"I01",layers:["I/I01/I01.png"],audios:["Audio/gun.mp3"]},{title:"I02",layers:["I/I02/I02.jpg","I/I02/I02_box.png"],audios:["Audio/gun.mp3","Audio/car_crash.wav"]},{title:"I03",layers:["I/I03/I03.png"]},{title:"I04",layers:["I/I04/I04.png"],audios:["Audio/car_stopping.wav"]},{title:"I05",layers:["I/I05/I05.png"],audios:["Audio/carcrash2.wav"]},{title:"I06",layers:["I/I06/I06_bg.jpg","I/I06/I06_man.png"],audios:["Audio/car_crash.wav"]},{title:"I07",layers:["I/I07/I07_bg.jpg","I/I07/I07_villan.png"]},{title:"I09",layers:["I/I09/I09.jpg","I/I09/I09_保護文字.png"]}]},I=i("f549"),x={data:function(){return{}},components:{Loading:h},mounted:function(){var e=this,t=0,i=function(){e.setLoading(!1);var t=new Audio("Audio/explode.wav");t.play(),clearInterval(n)},n=setInterval(function(){t++,t>10&&i()},10);this.setLoading(!0);var r=_.scenes.map(function(e){return e.layers.concat(e.audios||[])}).reduce(function(e,t){return[].concat(Object(g["a"])(e),Object(g["a"])(t))},[]);r=r.filter(function(e,t,i){return i.indexOf(e)==t}),console.log(r),I["a"].load(r).then(function(){console.log("image all preloaded!"),t>5?i():setTimeout(function(){i()},1e3*(5-t))}).catch(function(e){console.warn(e),console.log("image preload fail.")})},computed:Object(s["a"])({},Object(f["c"])(["loading"])),methods:Object(s["a"])({},Object(f["b"])(["setLoading"]))},w=x,v=(i("cf25"),Object(m["a"])(w,a,o,!1,null,null,null)),y=v.exports,P=i("8c4f"),T=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"home"},[i("StoryIndex")],1)},S=[],C=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"hello"},[e.debug?i("div",{staticClass:"currentSection"},[i("span",[e._v(e._s(e.currentSection))]),i("br"),i("span",[e._v(e._s(e.scrollY))])]):e._e(),e._l(e.scenes,function(t,n){return i("section",{ref:"sceneObj"+n,refInFor:!0,attrs:{id:"sec_"+n}},[i("h2",[e._v(e._s(t.title))]),i("div",{staticClass:"img-layers"},e._l(t.layers,function(t,r){return i("div",{staticClass:"img-layer",style:{"z-index":r,transform:"translateY("+e.getPan(t,n,r)+"px) scale("+(0==r?1:1.05)+")",filter:"brightness("+(1-.1/r)+")"}},[i("img",{staticClass:"wow",class:e.getLayerClass(t,r),style:{"animation-delay":r+"s"},attrs:{src:t}})])}),0)])})],2)},b=[],R=i("e814"),G=i.n(R),X=i("4a26"),A=i.n(X),M=i("cffa"),L={name:"HelloWorld",props:{msg:String},mounted:function(){var e=this;(new A.a).init(),this.scrollY=window.scrollY,window.addEventListener("scroll",function(){e.scrollY=window.scrollY,e.getSectionHeightList()}),setTimeout(function(){e.$forceUpdate(),e.getSectionHeightList()},500)},methods:{getPan:function(e,t,i){if(0==i)return 0;var n=-(this.scrollY-(this.sectionPositionList[t]+.6*window.outerHeight))/(5-i);return n},getLayerClass:function(e,t){return{wow:!0,zoomIn:-1!=e.indexOf("對白")||-1!=e.indexOf("dialog"),tada:-1!=e.indexOf("C01_speedline"),slideInRight:-1!=e.indexOf("A02_man")||-1!=e.indexOf("I02_box")||-1!=e.indexOf("I06_man"),slideInBottom:-1!=e.indexOf("D04_car"),pulse:-1!=e.indexOf("D04_car"),frontItem:0!=t}},getSectionHeightList:function(){this.sectionHeightList=this.scenes.map(function(e,t){var i=document.getElementById("sec_"+t),n=0;return i&&(n=i.offsetHeight),n})}},computed:Object(s["a"])({},Object(f["c"])(["debug"]),{currentSection:function(){var e=this.sectionPositionList;if(e)for(var t=0;t<e.length;t++)if(this.scrollY<e[t])return this.scenes[t-1];return null},currentPreSection:function(){var e=this.sectionPositionList;if(e)for(var t=0;t<e.length;t++)if(this.scrollY+300<e[t])return this.scenes[t-1];return null},sectionPositionList:function(){return this.sectionHeightList.reduce(function(e,t){return e.lastHeight=G()(e.all.slice(-1))||0,e.all.push(e.lastHeight+t),e},{lastHeight:0,all:[0]}).all}}),watch:{currentPreSection:function(e,t){var i=this;e&&t&&(e.title!=t.title&&this.currentPreSection.audios&&this.currentPreSection.audios.forEach(function(e){var t=new Audio(e);console.log(e),t.volume=.5,t.play(),i.audioElList.push({scene:i.currentPreSection,element:t,paused:!1})}),this.audioElList.forEach(function(e){e.scene===i.currentPreSection||e.scene===i.currentSection||e.paused||(e.paused=!0,M["TweenMax"].to(e.element,1,{volume:0}),setTimeout(function(){e.element.pause()},1e3))}))}},data:function(){return{sectionHeightList:[],audioElList:[],scrollY:0,sectionHeight:window.outerWidth/1920*1080,scenes:_.scenes}}},B=L,k=(i("2bbf"),Object(m["a"])(B,C,b,!1,null,"5176cc16",null)),F=k.exports,D={name:"home",components:{StoryIndex:F},mounted:function(){setTimeout(function(){},2e3),setTimeout(function(){var e=new Audio("Audio/explode.wav");e.play()},5e3)},methods:Object(s["a"])({},Object(f["b"])(["setLoading"]))},j=D,W=Object(m["a"])(j,T,S,!1,null,null,null),H=W.exports,E=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page about"},[i("section",{staticClass:"jumbotron",style:{"background-image":"url(_Loading/loading_首頁-compressor.png)"}}),e._m(0)])},O=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"content"},[i("div",{staticClass:"container"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-12"},[i("h1",{staticClass:"text-center"},[e._v("活動辦法")])])])])])}],Y={},N=Y,U=Object(m["a"])(N,E,O,!1,null,null,null),z=U.exports,q=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page award"},[i("section",{staticClass:"jumbotron",style:{"background-image":"url(_Loading/loading_首頁-compressor.png)"}}),e._m(0)])},J=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"content"},[i("div",{staticClass:"container"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-12"},[i("h1",{staticClass:"text-center"},[e._v("得獎公告")])])])])])}],V={},K=V,Q=Object(m["a"])(K,q,J,!1,null,null,null),Z=Q.exports,ee=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page game"},[1==e.currentGame?i("game1",{ref:"game1"}):e._e(),2==e.currentGame?i("game2",{ref:"game2"}):e._e(),3==e.currentGame?i("game3",{ref:"game3"}):e._e(),i("div",{staticClass:"nav"},[i("li",{on:{click:e.loadGame}},[e._v(e._s("開始 Game"+e.currentGame))]),i("li",{on:{click:e.resetData}},[e._v(e._s("重置 Game"+e.currentGame))])])],1)},te=[],ie=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ne=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"game1"},[i("div",{staticClass:"loading-text"},[e._v("載入中")]),i("div",{staticClass:"game-container"})])}],re={bigWhiteTexture:null,isPrePlaying:!1,prePlayTimelineG1:null,prePlayTimelineG2:null,prePlayTimelineG3:null,prePlayTimelineG4:null,prePlayG1Cover:null,prePlayG2Cover:null,prePlayG3Cover:null,prePlayG4Cover:null,prePlayStartTextG1:null,prePlayStartTextG2:null,prePlayStartTextG3:null,prePlayStartTextG4:null,isGameRunning:!1,DEFAULT_STAGE_WIDTH:1920,DEFAULT_STAGE_HEIGHT:1080,app:app,currentStage:0,stage1:0,stage2:0,stage3:0,stage4:0,stages:{},stageLoops:null},ae={crossingGroups:[],crossingGroup:null,crossLine:null,crossSequence:["person","car","person","car","person","car","bike","person","car","person","bike"],crossObjects:[{type:"walk",posX:-1500,posY:1e3,side:"left"},{type:"car",posX:1500,posY:8e3,side:"right"},{type:"walk",posX:-1500,posY:18e3,side:"left"},{type:"walk",posX:8e3,posY:26e3,side:"right"},{type:"car",posX:-1500,posY:33e3,side:"left"},{type:"car",posX:5e3,posY:41e3,side:"right"},{type:"bike",posX:8e3,posY:5e4,side:"right"},{type:"walk",posX:-1500,posY:57e3,side:"left"},{type:"car",posX:8e3,posY:66e3,side:"right"},{type:"walk",posX:6e3,posY:75e3,side:"right"},{type:"bike",posX:-3500,posY:88e3,side:"left"}],g1Ui:null,countImg:null,carCounter:4,bikeCounter:2,walkCounter:5,hintRect:null,timerGame1:null,timeText:null,timeRemainingText:null,remainingTime:30,groupSpeedMax:2,groupSpeedMin:.05,groupSpeed:2,pressStop:!1,bgAnimationSpeed:.2,cityRoad:null,cityRoadAniBg:null,bike:null,bikeSpeed:5,walkImg:null,carImg:null,groundMoveSpeedG1:50,currentMovingIndex:0,currentMovingObject:null,bikeScurrentMovingObjectSpeed:5,dash:null,pedal:null,pedalWarning:null,missImg:null,mrImg:null,sysImg:null,world3D:null,vanishingPoint:null,vanishingPointStyle:null,lineLeft:null,lineRight:null,roadWidth:2600,lineGroup:null,hintTextG1:null},oe={g2Ui:null,hintRect_g2:null,timerGame2:null,timeText_g2:null,timeRemainingText_g2:null,remainingTime_g2:30,cityRoad_g2:null,cityRoadAniBg_g2:null,dash_g2:null,missImg_g2:null,mrImg_g2:null,sysImg_g2:null,leftBtn_g2:null,rightBtn_g2:null,hint_g2:null,car_g2:null,carMovingAncorMin:200,carMovingAncorMax:2500,carSpeed:0,carSpeedMin:-1,carSpeedMax:1,carSpeedUp:!1,carSpeedDown:!1,carSpeedRandomSeed:0,currentCarPosition:null,safeAreaHint:[],safeAreaHintIndex:0,safeAreaMax:880,safeAreaMin:430,safeState:!1,dangerAreaStayTime:0,safeAreaTimeline:null,world3D_g2:null,vanishingPoint_g2:null,vanishingPointStyle_g2:null,lineLeft_g2:null,lineRight_g2:null,roadWidth_g2:5e3,lineGroup_g2:null,streetLightGroup_g2:null},se={carSideSequenceIndex:0,carSideSequence:["left","left","right","right","left"],timerGame3:null,hintRect_g3:null,hintTextG3:null,hintRectGood_g:null,timeText_g3:null,timeRemainingText_g3:null,remainingTime_g3:30,cityRoad_g3:null,dash_g3:null,missImg_g3:null,mrImg_g3:null,sysImg_g3:null,leftBtn_g3:null,rightBtn_g3:null,hint_g3:null,car_g3:null,carSpeed:200,carMoveLeftAni:null,carMoveLeftAniMirror:null,carMoveRightAni:null,carMoveRightAniMirror:null,carPosY_g3:600,carComingLeft_g3:null,carComingRight_g3:null,isLeftCarComes:!1,isRightCarComes:!1,world3D_g3:null,vanishingPoint_g3:null,vanishingPointStyle_g3:null,lineLeft_g3:null,lineRight_g3:null,roadWidth_g3:2880,lineGroup_g3:null,leftWifi:[],rightWifi:[],leftWifiIndex:0,rightWifiIndex:0,leftWifiTimeline:null,rightWifiTimeline:null,mirrorLeft_g3:null,mirrorRight_g3:null,carInMirrorLeft_g3:null,carInMirrorRight_g3:null,carLeftMirrorTimeline_g3:null,carRightMirrorTimeline_g3:null,mirrorHintLeft_g3:null,mirrorHintRight_g3:null,mirrorMaskLeft_g3:null,mirrorMaskRight_g3:null,mirrorBgLeft_g3:null,mirrorBgRight_g3:null,mirrorBorderLeft_g3:null,mirrorBorderRight_g3:null,carLeftTimeline_g3:null,carRightTimeline_g3:null,carEmitterTimer:null,currentCarSide:null,pressStop:!1},ge={},le={common:re,game1Data:ae,game2Data:oe,game3Data:se,game4Data:ge},ce={setupEnv:function(e,t){t,n=t.common,t.game1Data;PIXI.utils.isWebGLSupported(),PIXI.utils.skipHello(),t.common.app=new PIXI.Application({width:t.common.DEFAULT_STAGE_WIDTH,height:t.common.DEFAULT_STAGE_HEIGHT,antialias:!0,transparent:!1,backgroundColor:3355443,resolution:1}),t.common.app.renderer.autoResize=!0,$(e).append(t.common.app.view),de()}};function de(){n.stage1=new PIXI.Container,n.stage2=new PIXI.Container,n.stage3=new PIXI.Container,n.stage4=new PIXI.Container,n.stages={1:n.stage1,2:n.stage2,3:n.stage3,4:n.stage4}}i("6b54"),i("06db");var pe={loadAllAssets:me};function me(e,t){e,e.common;for(var i=PIXI.loader.add("g1Ui","images/game1/Game1_ui_v1.png").add("g2Ui","images/game2/Game2_ui_v1.png").add("countImg","images/game1/count.png").add("bikeImg","images/game1/bike_g1.png").add("dashImg","images/game1/dash.png").add("cityImg","images/game1/cityRoad.png").add("cityG3Img","images/game3/cityRoad_g3.png").add("missImg","images/game1/miss.png").add("mrImg","images/game1/mr.png").add("pedalImg","images/game1/stopper.png").add("pedalWarningImg","images/game1/stopperLight.png").add("walkImg","images/game1/walk_g1.png").add("carImg","images/game1/car_g1.png").add("sysImg","images/game1/sys.png").add("leftBtnImg","images/game2/leftBtn.png").add("rightBtnImg","images/game2/rightBtn.png").add("leftBtnG3Img","images/game3/leftBtn.png").add("rightBtnG3Img","images/game3/rightBtn.png").add("hintImg","images/game2/hint.png").add("hintG3Img","images/game3/hint_g3.png").add("carMidImg","images/game2/car2.png").add("safeAreaHintImg0","images/game2/hintArea/1.png").add("safeAreaHintImg1","images/game2/hintArea/2.png").add("safeAreaHintImg2","images/game2/hintArea/3.png").add("safeAreaHintImg3","images/game2/hintArea/4.png").add("streetLightImg","images/game2/streetLight.png").add("carInMirrorLeftImg","images/game3/carFront.png").add("carInMirrorRightImg","images/game3/carFront.png").add("carComingLeftImg","images/game3/car1.png").add("carComingRightImg","images/game3/car3.png").add("mirrorMaskRightImg","images/game3/maskRight.png").add("mirrorMaskLeftImg","images/game3/maskLeft.png").add("mirrorBgRightImg","images/game3/mirrorBgRight.png").add("mirrorBgLeftImg","images/game3/mirrorBgLeft.png").add("mirrorBorderRightImg","images/game3/mirrorBorderRight.png").add("mirrorBorderLeftImg","images/game3/mirrorBorderLeft.png").add("mirrorHintLeftImg","images/game3/mirrorHintLeft.png").add("mirrorHintRightImg","images/game3/mirrorHintRight.png").add("hintG4Img","images/game4/hint_g4.png").add("roadMapG4Img","images/game4/roadmap_g4.png").add("myCarG4Img","images/game4/car_me.png").add("armyCarG4Img","images/game4/car_army.png").add("speedDownSound","gameAudio/speedDown.mp3").add("speedUpSound","gameAudio/speedUp.mp3"),n=0;n<119;n++){var r=(1e5+n).toString().substring(1);i.add({name:"roadBgG1"+n,url:"images/game1/roadBgG1/bg1_"+r+".jpg"})}for(var a=1;a<6;a++)i.add({name:"wifiImg"+a,url:"images/game3/wifi/"+a+".png"});for(var o=0;o<7;o++){var s=(1e5+o).toString().substring(1);i.add({name:"roadBgG2"+o,url:"images/game2/roadBgG2/roadG2_"+s+".jpg"})}for(var g=0;g<60;g++){var l=(1e5+g).toString().substring(1);i.add({name:"mirror"+g,url:"images/game3/mirror/Mirror_"+l+".jpg"})}i.on("error",function(e){console.log(e)}).on("progress",ue).load(t)}function ue(e,t){$(".loading-text").text("載入進度： "+~~e.progress+" %")}var he,fe;i("8449");function _e(e){he=e.common,fe=e.game1Data,fe.g1Ui=new PIXI.Sprite(PIXI.loader.resources.g1Ui.texture),fe.g1Ui.position.set(0,0),fe.g1Ui.anchor.set(0,0),fe.timeText=new PIXI.Text("Time",new PIXI.TextStyle({fontSize:52,fill:"#FFD25D",fontWeight:500})),fe.timeText.position.set(he.app.screen.width/2,60),fe.timeText.anchor.set(.5,0),fe.timeRemainingText=new PIXI.Text("30",new PIXI.TextStyle({fontSize:52,fill:"#FFD25D",fontWeight:500})),fe.timeRemainingText.position.set(he.app.screen.width/2,120),fe.timeRemainingText.anchor.set(.5,0),fe.hintRect=new PIXI.Graphics,fe.hintRect.beginFill(0,0),fe.hintRect.lineStyle(80,16711680,1),fe.hintRect.drawRect(0,0,he.app.screen.width,he.app.screen.height),fe.hintRect.endFill(),fe.hintRect.visible=!1,fe.pedal=new PIXI.Sprite(PIXI.loader.resources.pedalImg.texture),fe.pedal.position.set(he.app.screen.width-60,he.app.screen.height-60),fe.pedal.anchor.set(1,1),fe.pedalWarning=new PIXI.Sprite(PIXI.loader.resources.pedalWarningImg.texture),fe.pedalWarning.position.set(fe.pedal.position.x-fe.pedal.width/2,fe.pedal.position.y-fe.pedal.height/2),fe.pedalWarning.anchor.set(.5,.5);for(var t=[],i=0;i<119;i++){var n=PIXI.Texture.fromFrame("roadBgG1"+i);t.push(n)}fe.cityRoadAniBg=new PIXI.extras.AnimatedSprite(t),fe.cityRoadAniBg.animationSpeed=fe.bgAnimationSpeed,fe.cityRoadAniBg.play(),fe.cityRoad=new PIXI.Sprite(PIXI.loader.resources.cityImg.texture),fe.cityRoad.position.set(he.app.screen.width/2,he.app.screen.height/2),fe.cityRoad.scale.set(1.8,1.8),fe.cityRoad.anchor.set(.5,.5),fe.missImg=new PIXI.Sprite(PIXI.loader.resources.missImg.texture),fe.missImg.position.set(he.app.screen.width-60,he.app.screen.height/2-fe.missImg.height),fe.missImg.anchor.set(1,0),fe.missImg.scale.set(.6,.6),fe.mrImg=new PIXI.Sprite(PIXI.loader.resources.mrImg.texture),fe.mrImg.position.set(60,80),fe.mrImg.anchor.set(0,0),fe.mrImg.scale.set(.6,.6),fe.sysImg=new PIXI.Sprite(PIXI.loader.resources.sysImg.texture),fe.sysImg.position.set(60,80+fe.mrImg.height+60),fe.sysImg.anchor.set(0,0),fe.sysImg.scale.set(.6,.6),fe.countImg=new PIXI.Sprite(PIXI.loader.resources.countImg.texture),fe.countImg.position.set(60,80+fe.mrImg.height+200),fe.countImg.anchor.set(0,0),fe.countImg.scale.set(.6,.6),fe.carCounterText=new PIXI.Text("30",new PIXI.TextStyle({fontSize:52,fill:"#FFD25D",fontWeight:500})),fe.carCounterText.position.set(190,80+fe.mrImg.height+180),fe.carCounterText.anchor.set(0,0),fe.bikeCounterText=new PIXI.Text("30",new PIXI.TextStyle({fontSize:52,fill:"#FFD25D",fontWeight:500})),fe.bikeCounterText.position.set(190,80+fe.mrImg.height+240),fe.bikeCounterText.anchor.set(0,0),fe.walkCounterText=new PIXI.Text("30",new PIXI.TextStyle({fontSize:52,fill:"#FFD25D",fontWeight:500})),fe.walkCounterText.position.set(190,80+fe.mrImg.height+300),fe.walkCounterText.anchor.set(0,0),fe.dash=new PIXI.Sprite(PIXI.loader.resources.dashImg.texture),fe.dash.position.set(he.app.screen.width/2,he.app.screen.height),fe.dash.anchor.set(.5,1),fe.dash.scale.set(.8,.8),fe.hintTextG1=new PIXI.Text("請適時地按下煞車以確保安全",new PIXI.TextStyle({fontSize:24,fill:"#FFFFFF",fontWeight:500})),fe.hintTextG1.position.set(he.app.screen.width/2,he.app.screen.height-fe.dash.height-30),fe.hintTextG1.anchor.set(.5,.5),he.prePlayStartTextG1=new PIXI.Text("5",new PIXI.TextStyle({fontSize:180,fill:"#FFFFFF",fontWeight:500})),he.prePlayStartTextG1.position.set(he.app.screen.width/2,he.app.screen.height/2-200),he.prePlayStartTextG1.anchor.set(.5,.5),he.prePlayStartTextG1.visible=!1,fe.world3D=new PIXI.projection.Container2d,fe.world3D.position.set(-90,1075),Ie(),he.stage1.addChild(fe.cityRoadAniBg),he.stage1.addChild(fe.vanishingPoint),he.stage1.addChild(fe.world3D),he.stage1.addChild(fe.pedalWarning),he.stage1.addChild(fe.pedal),he.stage1.addChild(he.prePlayStartTextG1),he.stage1.addChild(fe.hintRect),he.stage1.addChild(fe.hintTextG1),he.stage1.addChild(fe.g1Ui)}function Ie(){fe.bigWhiteTexture=new PIXI.Texture(PIXI.Texture.WHITE.baseTexture),fe.bigWhiteTexture.orig.width=30,fe.bigWhiteTexture.orig.height=30,fe.lineLeft=new PIXI.projection.Sprite2d(fe.bigWhiteTexture),fe.lineLeft.tint=16777215,fe.lineLeft.scale.set(1,1e3),fe.lineLeft.anchor.set(.5,.5),fe.lineLeft.position.set((he.app.screen.width-fe.roadWidth)/2,0),fe.lineRight=new PIXI.projection.Sprite2d(fe.bigWhiteTexture),fe.lineRight.tint=16777215,fe.lineRight.scale.set(1,1e3),fe.lineRight.anchor.set(.5,.5),fe.lineRight.position.set((he.app.screen.width+fe.roadWidth)/2,0),fe.lineGroup=[];for(var e=0;e<10;e++){var t=new PIXI.projection.Sprite2d(fe.bigWhiteTexture);t.tint=13421772,t.scale.set(fe.roadWidth/30,.5),t.anchor.set(.5),t.counterY=6e3*e,t.counterX=0,t.position.set(he.app.screen.width/2,1e4),t.proj.affine=PIXI.projection.AFFINE.AXIS_X,fe.lineGroup.push(t)}xe(),fe.vanishingPointStyle=new PIXI.TextStyle({fontFamily:"Arial",fontSize:20,fill:"#ffffff"}),fe.vanishingPoint=new PIXI.Text("Ｏ",fe.vanishingPointStyle),fe.vanishingPoint.anchor.set(.5),fe.vanishingPoint.position.set(960,330)}function xe(){fe.crossingGroup=[];for(var e=0;e<fe.crossObjects.length;e++){var t=void 0,i=void 0;"car"==fe.crossObjects[e].type?(t=PIXI.loader.resources.carImg.texture,i=new PIXI.projection.Sprite2d(t),i.scale.set(2)):"walk"==fe.crossObjects[e].type?(t=PIXI.loader.resources.walkImg.texture,i=new PIXI.projection.Sprite2d(t)):"bike"==fe.crossObjects[e].type&&(t=PIXI.loader.resources.bikeImg.texture,i=new PIXI.projection.Sprite2d(t)),i.type=fe.crossObjects[e].type,i.counterY=fe.crossObjects[e].posY,i.side=fe.crossObjects[e].side,"left"==i.side?(i.counterX=-1500,"car"==i.type&&(i.counterX=-5e3)):(i.counterX=he.app.screen.width+1500,i.scale.x=-1,"car"==i.type&&(i.counterX=he.app.screen.width+5e3,i.scale.set(-2.5,2.5))),0==e&&(i.counterX=500),i.anchor.set(.5),i.position.x=0,i.proj.affine=PIXI.projection.AFFINE.AXIS_X,fe.crossingGroup.push(i)}for(var n=fe.crossObjects.length-1;n>=0;n--)fe.world3D.addChild(fe.crossingGroup[n])}i("14b9");var we,ve,ye,Pe,Te,Se={game1Loop:Ce};function Ce(e){we||be(e);for(var t=0;t<ye.lineGroup.length;t++){var i=ye.lineGroup[t];i.counterY-=ye.groundMoveSpeedG1,i.position.y=i.counterY,i.counterY<-500&&(i.counterY=6e4)}for(var n=!1,r=!1,a=0;a<ye.crossingGroup.length;a++){var o=ye.crossingGroup[a];o.counterY-=ye.groundMoveSpeedG1,o.position.y=o.counterY,o.position.x=o.counterX,o.position.y<150&&o.position.x>ve.app.screen.width/2-ye.roadWidth/4&&o.position.x<ve.app.screen.width/2+ye.roadWidth/2&&(r=!0),o.counterY<2e4?0==o.visible&&(o.visible=!0,TweenMax.fromTo(o,1,{alpha:0},{alpha:1})):(o.alpha=0,o.visible=!1);var s="left"==o.side?1:-1;o.counterY<8e3&&("car"==o.type?o.counterX+=30*s:"walk"==o.type?o.counterX+=8*s:"bike"==o.type&&(o.counterX+=15*s),o.position.x<ve.app.screen.width/2+ye.roadWidth/4&&(n=!0),o.counterY<-1e3&&("car"==o.type?ye.carCounter--:"walk"==o.type?ye.walkCounter--:"bike"==o.type&&ye.bikeCounter--,o.visible=!1,o.parent.removeChild(o),o.destroy(),ye.crossingGroup.splice(a,1)))}ye.hintRect.visible=r,ye.pedalWarning.visible=n,ye.pressStop?(ye.groundMoveSpeedG1-=2,ye.groundMoveSpeedG1<0&&(ye.groundMoveSpeedG1=0)):(ye.groundMoveSpeedG1+=1,ye.groundMoveSpeedG1>50&&(ye.groundMoveSpeedG1=50)),ye.pressStop?ye.cityRoadAniBg.animationSpeed>0&&(ye.cityRoadAniBg.animationSpeed-=.01,ye.cityRoadAniBg.animationSpeed<0&&(ye.cityRoadAniBg.animationSpeed=0)):ye.cityRoadAniBg.animationSpeed>1&&(ye.cityRoadAniBg.animationSpeed+=.005),ye.carCounterText.text="0"+ye.carCounter,ye.bikeCounterText.text="0"+ye.bikeCounter,ye.walkCounterText.text="0"+ye.walkCounter}function be(e){we=e,ve=e.common,ye=e.game1Data}function Re(e){e,Pe=e.common,Te=e.game1Data;var t=new TimelineMax;t.fromTo(Te.pedalWarning,.5,{alpha:0},{alpha:1}).yoyo(1).repeat(-1),Ge(),Xe(),Ae(),Pe.app.stage.addChild(Pe.stage1),Pe.app.ticker.speed=1,Pe.app.ticker.add(function(t){return Se.game1Loop(e)}),Pe.prePlayTimelineG1.restart(),Pe.isGameRunning=!1,Pe.isPrePlaying=!0,Pe.app.ticker.start()}function Ge(){Te.pedal.interactive=!0,Te.pedal.buttonMode=!0,Te.pedal.on("pointerdown",function(){Te.isPrePlaying||(Te.pressStop=!0,Te.pedal.tint=5592405)}),Te.pedal.on("pointerup",function(){Te.isPrePlaying||(Te.pressStop=!1,Te.pedal.tint=16777215,Te.cityRoadAniBg.animationSpeed=Te.bgAnimationSpeed)}),$("body").keydown(function(e){var t=e.keyCode;switch(console.log(t),t){case 37:Te.world3D.position.x-=5;break;case 39:Te.world3D.position.x+=5;break;case 38:Te.world3D.position.y-=5;break;case 40:Te.world3D.position.y+=5;break;case 65:Te.vanishingPoint.position.x-=5;break;case 68:Te.vanishingPoint.position.x+=5;break;case 87:Te.vanishingPoint.position.y-=5;break;case 83:Te.vanishingPoint.position.y+=5;break;default:break}Xe()})}function Xe(){var e=Te.world3D.toLocal(Te.vanishingPoint.position,void 0,void 0,void 0,PIXI.projection.TRANSFORM_STEP.BEFORE_PROJ);Te.world3D.proj.setAxisY(e,1)}function Ae(){Pe.prePlayTimelineG1=new TimelineMax({paused:!0}),Pe.prePlayTimelineG1.add(function(){Te.pedal.tint=5592405,Te.isPrePlaying=!0,Te.timeText.visible=!1,Te.timeRemainingText.visible=!1,Te.pressStop=!0},0).add(function(){Te.pedal.tint=16777215,Pe.prePlayStartTextG1.text="5",Pe.prePlayStartTextG1.visible=!0},1).add(function(){Pe.prePlayStartTextG1.text="4"},2).add(function(){Te.pedal.tint=5592405,Pe.prePlayStartTextG1.text="3",Te.pressStop=!1,Te.cityRoadAniBg.animationSpeed=Te.bgAnimationSpeed},3).add(function(){Pe.prePlayStartTextG1.text="2"},4).add(function(){Pe.prePlayStartTextG1.text="1"},5).add(function(){Pe.prePlayStartTextG1.text="GO!"},6).add(function(){Te.pedal.tint=16777215,Te.isPrePlaying=!1,Pe.prePlayStartTextG1.visible=!1,Te.timeText.visible=!0,Te.timeRemainingText.visible=!0,Me()},7)}function Me(){Te.remainingTime=30,Te.timeRemainingText.text=Te.remainingTime,clearInterval(Te.timerGame1),Te.timerGame1=setInterval(function(){Te.remainingTime--,Te.remainingTime<=0&&(Te.remainingTime=0),Te.remainingTime,Te.timeRemainingText.text=Te.remainingTime},1e3)}function Le(){Pe.prePlayTimelineG1&&Pe.prePlayTimelineG1.restart(),Te.crossingGroup.forEach(function(e){e.parent.removeChild(e),e.destroy()}),xe(),Te.carCounter=4,Te.bikeCounter=2,Te.walkCounter=5,Te.groundMoveSpeedG1=0,Me()}var Be,ke,Fe={name:"Game1",props:{msg:String},mounted:function(){},methods:{resizeCanvas:function(){var e=$(window).innerWidth()/1920;$("canvas").css("transform","scale(".concat(e,")")),$("canvas").css("transform-origin","0 0")},resetData:function(){console.log("resetData"),Le()},loadAsset:function(e){console.log("loadAsset"),PIXI.loader.resources.g1Ui?e():pe.loadAllAssets(le,e)},setUp:function(e){console.log("setup"),le.common.currentStage=1,ce.setupEnv(e,le),this.resizeCanvas(),_e(le),Re(le),Le()}},computed:Object(s["a"])({},Object(f["c"])(["debug"])),beforeDestroy:function(){console.log("beforeDestroy")},destroyed:function(){delete le.common.app,console.log("destroyed")},watch:{},data:function(){return{gameContainer:".game1 .game-container"}}},De=Fe,je=(i("7f26"),Object(m["a"])(De,ie,ne,!1,null,"e867c120",null)),We=je.exports,He=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Ee=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"game2"},[i("div",{staticClass:"loading-text"},[e._v("載入中")]),i("div",{staticClass:"game-container"})])}];function Oe(e){Be=e.common,ke=e.game2Data,ke.g2Ui=new PIXI.Sprite(PIXI.loader.resources.g2Ui.texture),ke.g2Ui.position.set(0,0),ke.g2Ui.anchor.set(0,0),ke.timeText_g2=new PIXI.Text("Time",new PIXI.TextStyle({fontSize:52,fill:"#FFD25D",fontWeight:500})),ke.timeText_g2.position.set(Be.app.screen.width/2,60),ke.timeText_g2.anchor.set(.5,0),ke.timeRemainingText_g2=new PIXI.Text("30",new PIXI.TextStyle({fontSize:52,fill:"#FFD25D",fontWeight:"bold"})),ke.timeRemainingText_g2.position.set(Be.app.screen.width/2,120),ke.timeRemainingText_g2.anchor.set(.5,0),ke.hintRect_g2=new PIXI.Graphics,ke.hintRect_g2.beginFill(0,0),ke.hintRect_g2.lineStyle(80,16711680,1),ke.hintRect_g2.drawRect(0,0,Be.app.screen.width,Be.app.screen.height),ke.hintRect_g2.endFill(),ke.hintRect_g2.visible=!1;for(var t=[],i=0;i<7;i++){var n=PIXI.Texture.fromFrame("roadBgG2"+i);t.push(n)}ke.cityRoadAniBg_g2=new PIXI.extras.AnimatedSprite(t),ke.cityRoadAniBg_g2.animationSpeed=1,ke.cityRoadAniBg_g2.play(),ke.missImg_g2=new PIXI.Sprite(PIXI.loader.resources.missImg.texture),ke.missImg_g2.position.set(Be.app.screen.width-60,Be.app.screen.height/2-ke.missImg_g2.height),ke.missImg_g2.anchor.set(1,0),ke.missImg_g2.scale.set(.6,.6),ke.mrImg_g2=new PIXI.Sprite(PIXI.loader.resources.mrImg.texture),ke.mrImg_g2.position.set(60,80),ke.mrImg_g2.anchor.set(0,0),ke.mrImg_g2.scale.set(.6,.6),ke.sysImg_g2=new PIXI.Sprite(PIXI.loader.resources.sysImg.texture),ke.sysImg_g2.position.set(60,80+ke.mrImg_g2.height+60),ke.sysImg_g2.anchor.set(0,0),ke.sysImg_g2.scale.set(.6,.6),ke.dash_g2=new PIXI.Sprite(PIXI.loader.resources.dashImg.texture),ke.dash_g2.position.set(Be.app.screen.width/2,Be.app.screen.height),ke.dash_g2.anchor.set(.5,1),ke.dash_g2.scale.set(.8,.8),ke.leftBtn_g2=new PIXI.Sprite(PIXI.loader.resources.leftBtnImg.texture),ke.leftBtn_g2.position.set(60,Be.app.screen.height-60),ke.leftBtn_g2.anchor.set(0,1),ke.rightBtn_g2=new PIXI.Sprite(PIXI.loader.resources.rightBtnImg.texture),ke.rightBtn_g2.position.set(Be.app.screen.width-60-ke.rightBtn_g2.width,Be.app.screen.height-60),ke.rightBtn_g2.anchor.set(0,1),ke.hint_g2=new PIXI.Sprite(PIXI.loader.resources.hintImg.texture),ke.hint_g2.position.set(Be.app.screen.width-60,Be.app.screen.height/2+ke.missImg_g2.height+100),ke.hint_g2.anchor.set(1,1),ke.hint_g2.scale.set(.6,.6),ke.hintTextG2=new PIXI.Text("請將車子保持在適當距離",new PIXI.TextStyle({fontSize:24,fill:"#FFFFFF",fontWeight:500})),ke.hintTextG2.position.set(Be.app.screen.width/2,Be.app.screen.height-ke.dash_g2.height-30),ke.hintTextG2.anchor.set(.5,.5),Be.prePlayStartTextG2=new PIXI.Text("5",new PIXI.TextStyle({fontSize:180,fill:"#FFFFFF",fontWeight:500})),Be.prePlayStartTextG2.position.set(Be.app.screen.width/2,Be.app.screen.height/2-200),Be.prePlayStartTextG2.anchor.set(.5,.5),Be.prePlayStartTextG2.visible=!1,ke.world3D_g2=new PIXI.projection.Container2d,ke.world3D_g2.position.set(0,700),Ye(),Be.stage2.addChild(ke.cityRoadAniBg_g2),Be.stage2.addChild(ke.vanishingPoint_g2),Be.stage2.addChild(ke.world3D_g2),Be.stage2.addChild(ke.rightBtn_g2),Be.stage2.addChild(ke.leftBtn_g2),Be.stage2.addChild(Be.prePlayStartTextG2),Be.stage2.addChild(ke.hintTextG2),Be.stage2.addChild(ke.hintRect_g2),Be.stage2.addChild(ke.g2Ui)}function Ye(){ke.bigWhiteTexture=new PIXI.Texture(PIXI.Texture.WHITE.baseTexture),ke.bigWhiteTexture.orig.width=30,ke.bigWhiteTexture.orig.height=30,ke.lineLeft_g2=new PIXI.projection.Sprite2d(ke.bigWhiteTexture),ke.lineLeft_g2.tint=16777215,ke.lineLeft_g2.scale.set(1,1e3),ke.lineLeft_g2.anchor.set(.5,.5),ke.lineLeft_g2.position.set((Be.app.screen.width-ke.roadWidth_g2)/2,0),ke.lineRight_g2=new PIXI.projection.Sprite2d(ke.bigWhiteTexture),ke.lineRight_g2.tint=16777215,ke.lineRight_g2.scale.set(1,1e3),ke.lineRight_g2.anchor.set(.5,.5),ke.lineRight_g2.position.set((Be.app.screen.width+ke.roadWidth_g2)/2,0),ke.lineGroup_g2=[];for(var e=0;e<10;e++){var t=new PIXI.projection.Sprite2d(ke.bigWhiteTexture);t.tint=16777215,t.scale.set(ke.roadWidth_g2/30,.5),t.anchor.set(.5),t.counterY=6e3*e,t.counterX=0,t.position.set(Be.app.screen.width/2,1e4),t.proj.affine=PIXI.projection.AFFINE.AXIS_X,ke.lineGroup_g2.push(t)}ke.streetLightGroup_g2=[];for(var i=0;i<20;i++){var n=new PIXI.projection.Sprite2d(PIXI.loader.resources.streetLightImg.texture);n.scale.set(8),n.scale.y=-8,i%2==0?(n.scale.x=-8,n.position.set(Be.app.screen.width/2+ke.roadWidth_g2/2,3e4)):n.position.set(Be.app.screen.width/2-ke.roadWidth_g2/2,3e4),n.anchor.set(0,1),n.counterY=36e3*i,n.counterX=0,n.proj.affine=PIXI.projection.AFFINE.AXIS_Y,ke.streetLightGroup_g2.push(n),ke.world3D_g2.addChild(n)}for(var r=0;r<4;r++){var a=new PIXI.projection.Sprite2d(PIXI.Texture.fromFrame("safeAreaHintImg"+r));a.width=ke.roadWidth_g2/5,a.height=1500,a.scale.y=-1,a.tint=16711680,a.anchor.set(.5,0),a.position.set(Be.app.screen.width/2,ke.currentCarPosition),ke.safeAreaHint.push(a),ke.world3D_g2.addChild(a)}ke.car_g2=new PIXI.projection.Sprite2d(PIXI.loader.resources.carMidImg.texture),ke.car_g2.scale.set(5,-5),ke.car_g2.anchor.set(.5,1),ke.car_g2.position.set(Be.app.screen.width/2,ke.currentCarPosition),ke.car_g2.proj.affine=PIXI.projection.AFFINE.AXIS_Y,ke.world3D_g2.addChild(ke.car_g2),ke.vanishingPointStyle_g2=new PIXI.TextStyle({fontFamily:"Arial",fontSize:20,fill:"#ffffff"}),ke.vanishingPoint_g2=new PIXI.Text("Ｏ",ke.vanishingPointStyle_g2),ke.vanishingPoint_g2.anchor.set(.5),ke.vanishingPoint_g2.position.set(945,-35)}var Ne,$e,Ue,ze,qe,Je={game2Loop:Ke},Ve=0;function Ke(e){Ne||Qe(e);for(var t=0;t<Ue.lineGroup_g2.length;t++){var i=Ue.lineGroup_g2[t];i.counterY-=5*(Ue.carSpeed+1)+100,i.position.y=i.counterY,i.counterY<-500&&(i.counterY=6e4)}for(var n=0;n<Ue.streetLightGroup_g2.length;n++){var r=Ue.streetLightGroup_g2[n];r.counterY-=5*(Ue.carSpeed+1)+100,r.position.y=r.counterY,r.counterY<-500&&(r.counterY=264e3)}if(Ue.carSpeedUp?(Ue.carSpeed+=.3,Ue.carSpeed>Ue.carSpeedMax&&(Ue.carSpeed=Ue.carSpeedMax)):Ue.carSpeed-=.01,Ue.carSpeedDown&&(Ue.carSpeed-=.3,Ue.carSpeed<Ue.carSpeedMin&&(Ue.carSpeed=Ue.carSpeedMin)),Ue.carSpeed+=Ue.carSpeedRandomSeed,Ue.currentCarPosition<Ue.safeAreaMax&&Ue.currentCarPosition>Ue.safeAreaMin){if(Ue.dangerAreaStayTime=0,!Ue.safeState){Ue.safeAreaTimeline.pause(),Ue.safeAreaHintIndex=3;for(var a=0;a<4;a++)Ue.safeAreaHint[a].visible=a==Ue.safeAreaHintIndex,Ue.safeAreaHint[a].alpha=(Ue.safeAreaHintIndex+1)/4}Ue.safeState=!0;for(var o=0;o<4;o++)Ue.safeAreaHint[o].tint=65280}else{Ue.safeState&&(Ue.safeAreaHintIndex=0,Ue.safeAreaTimeline.restart()),Ue.safeState=!1,Ue.dangerAreaStayTime++;for(var s=0;s<4;s++)Ue.safeAreaHint[s].tint=16776960}Ue.currentCarPosition>Ue.safeAreaMax&&Ue.carSpeedUp&&(Ue.dangerAreaStayTime=0),Ue.currentCarPosition<Ue.safeAreaMin&&Ue.carSpeedDown&&(Ue.dangerAreaStayTime=0),Ue.dangerAreaStayTime>180?Ue.hintRect_g2.visible=!0:Ue.hintRect_g2.visible=!1,Ue.currentCarPosition<Ue.carMovingAncorMin&&(Ue.currentCarPosition=Ue.carMovingAncorMin),Ue.currentCarPosition>Ue.carMovingAncorMax&&(Ue.currentCarPosition=Ue.carMovingAncorMax),Ue.currentCarPosition-=3*Ue.carSpeed,Ue.car_g2.position.set($e.app.screen.width/2,Ue.currentCarPosition);for(var g=0;g<4;g++)Ue.safeAreaHint[g].position.set($e.app.screen.width/2,Ue.currentCarPosition-100);Ue.safeAreaHint.height=1500,Ve++,Ue.car_g2.position.x=50*Math.sin(Ve/40)+$e.app.screen.width/2}function Qe(e){Ne=e,$e=e.common,Ue=e.game2Data}function Ze(e){e,ze=e.common,qe=e.game2Data;var t=new TimelineMax;t.fromTo(qe.hintRect_g2,.25,{alpha:0},{alpha:1}).yoyo(1).repeat(-1),et(),it(),tt(),nt(),ze.app.stage.addChild(ze.stage2),ze.app.ticker.speed=1,ze.app.ticker.add(function(t){return Je.game2Loop(e)}),ze.prePlayTimelineG2.restart(),ze.isGameRunning=!1,ze.isPrePlaying=!0,ze.app.ticker.start()}function et(){qe.rightBtn_g2.interactive=!0,qe.rightBtn_g2.buttonMode=!0,qe.leftBtn_g2.interactive=!0,qe.leftBtn_g2.buttonMode=!0,qe.rightBtn_g2.on("pointerdown",function(){ze.isPrePlaying||(qe.rightBtn_g2.tint=5592405,qe.carSpeedUp=!0)}),qe.rightBtn_g2.on("pointerup",function(){ze.isPrePlaying||(qe.rightBtn_g2.tint=16777215,qe.carSpeedUp=!1)}),qe.leftBtn_g2.on("pointerdown",function(){ze.isPrePlaying||(qe.leftBtn_g2.tint=5592405,qe.carSpeedDown=!0)}),qe.leftBtn_g2.on("pointerup",function(){ze.isPrePlaying||(qe.leftBtn_g2.tint=16777215,qe.carSpeedDown=!1)}),$("body").keydown(function(e){e.keyCode})}function tt(){var e=qe.world3D_g2.toLocal(qe.vanishingPoint_g2.position,void 0,void 0,void 0,PIXI.projection.TRANSFORM_STEP.BEFORE_PROJ);qe.world3D_g2.proj.setAxisY(e,1)}function it(){qe.safeAreaTimeline=new TimelineMax({pause:!0}),qe.safeAreaTimeline.add(function(){for(var e=0;e<4;e++)qe.safeAreaHint[e].visible=e==qe.safeAreaHintIndex,qe.safeAreaHint[e].alpha=(qe.safeAreaHintIndex+1)/4;qe.safeAreaHintIndex=(qe.safeAreaHintIndex+1)%4},.2).repeat(3);var e=new TimelineMax;e.fromTo(qe.safeAreaHint[3],.8,{alpha:0},{alpha:.8}).yoyo(1).repeat(-1)}function nt(){ze.prePlayTimelineG2=new TimelineMax({paused:!0}),ze.prePlayTimelineG2.add(function(){qe.timeText_g2.visible=!1,qe.timeRemainingText_g2.visible=!1,ze.isPrePlaying=!0,qe.leftBtn_g2.tint=5592405},0).add(function(){ze.prePlayStartTextG2.text="5",ze.prePlayStartTextG2.visible=!0,qe.rightBtn_g2.tint=16777215,qe.carSpeedUp=!0},1).add(function(){ze.prePlayStartTextG2.text="4"},2).add(function(){ze.prePlayStartTextG2.text="3"},3).add(function(){qe.rightBtn_g2.tint=5592405,qe.carSpeedUp=!1,ze.prePlayStartTextG2.text="2"},4).add(function(){qe.leftBtn_g2.tint=16777215,qe.carSpeedDown=!0,ze.prePlayStartTextG2.text="1"},5).add(function(){qe.leftBtn_g2.tint=5592405,qe.carSpeedDown=!1,ze.prePlayStartTextG2.text="GO!"},6).add(function(){qe.rightBtn_g2.tint=16777215,qe.leftBtn_g2.tint=16777215,qe.timeRemainingText_g2.visible=!0,ze.prePlayStartTextG2.visible=!1,qe.timeText_g2.visible=!0,ze.isPrePlaying=!1,rt()},7).add(function(){qe.carSpeedRandomSeed=-.01},13).add(function(){qe.carSpeedRandomSeed=.01},16).add(function(){qe.carSpeedRandomSeed=-.01},20).add(function(){qe.carSpeedRandomSeed=-.01},23).add(function(){qe.carSpeedRandomSeed=-.01},27).add(function(){qe.carSpeedRandomSeed=.01},30).add(function(){qe.carSpeedRandomSeed=-.01},32).add(function(){qe.carSpeedRandomSeed=.01},35).add(function(){qe.carSpeedRandomSeed=-.01},40)}function rt(){qe.remainingTime=30,qe.timeRemainingText_g2.text=qe.remainingTime,clearInterval(qe.timerGame2),qe.timerGame2=setInterval(function(){qe.remainingTime--,qe.remainingTime<=0&&(qe.remainingTime=0),qe.remainingTime,qe.timeRemainingText_g2.text=qe.remainingTime},1e3)}function at(){ze.prePlayTimelineG2&&ze.prePlayTimelineG2.restart();for(var e=0;e<10;e++){var t=qe.lineGroup_g2[e];t.counterY=6e3*e,t.counterX=0,t.position.set(ze.app.screen.width/2,1e4)}for(var i=0;i<20;i++){var n=qe.streetLightGroup_g2[i];i%2==0?(n.scale.x=-8,n.position.set(ze.app.screen.width/2+qe.roadWidth_g2/2,3e4)):n.position.set(ze.app.screen.width/2-qe.roadWidth_g2/2,3e4),n.anchor.set(0,1),n.counterY=24e3*i,n.counterX=0}qe.carSpeed=0,qe.currentCarPosition=1200,rt()}var ot,st,gt={name:"Game2",props:{msg:String},mounted:function(){},methods:{resizeCanvas:function(){var e=$(window).innerWidth()/1920;$("canvas").css("transform","scale(".concat(e,")")),$("canvas").css("transform-origin","0 0")},resetData:function(){console.log("resetData"),at()},loadAsset:function(e){console.log("loadAsset"),PIXI.loader.resources.g1Ui?e():pe.loadAllAssets(le,e)},setUp:function(e){console.log("setup"),le.common.currentStage=2,ce.setupEnv(e,le),this.resizeCanvas(),Oe(le),Ze(le),at()}},computed:Object(s["a"])({},Object(f["c"])(["debug"])),beforeDestroy:function(){},destroyed:function(){delete le.common.app},watch:{},data:function(){return{gameContainer:".game2 .game-container"}}},lt=gt,ct=(i("ea82"),Object(m["a"])(lt,He,Ee,!1,null,"50427db8",null)),dt=ct.exports,pt=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},mt=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"game3"},[i("div",{staticClass:"loading-text"},[e._v("載入中")]),i("div",{staticClass:"game-container"})])}];function ut(e){ot=e.common,st=e.game3Data,st.timeText_g3=new PIXI.Text("Time",new PIXI.TextStyle({fontSize:52,fill:"#FFD25D",fontWeight:500})),st.timeText_g3.position.set(ot.app.screen.width/2,60),st.timeText_g3.anchor.set(.5,0),st.timeRemainingText_g3=new PIXI.Text("30",new PIXI.TextStyle({fontSize:52,fill:"#FFD25D",fontWeight:"bold"})),st.timeRemainingText_g3.position.set(ot.app.screen.width/2,120),st.timeRemainingText_g3.anchor.set(.5,0),st.hintRect_g3=new PIXI.Graphics,st.hintRect_g3.beginFill(16711680,1),st.hintRect_g3.drawRect(0,0,ot.app.screen.width,ot.app.screen.height),st.hintRect_g3.endFill(),st.hintRect_g3.alpha=0,st.hintRectGood_g3=new PIXI.Graphics,st.hintRectGood_g3.beginFill(0,0),st.hintRectGood_g3.lineStyle(80,65280,1),st.hintRectGood_g3.drawRect(0,0,ot.app.screen.width,ot.app.screen.height),st.hintRectGood_g3.endFill(),st.hintRectGood_g3.alpha=0,st.cityRoad_g3=new PIXI.Sprite(PIXI.loader.resources.cityG3Img.texture),st.cityRoad_g3.position.set(ot.app.screen.width/2,ot.app.screen.height/2),st.cityRoad_g3.scale.set(1,1),st.cityRoad_g3.anchor.set(.5,.5),st.missImg_g3=new PIXI.Sprite(PIXI.loader.resources.missImg.texture),st.missImg_g3.position.set(ot.app.screen.width-60,ot.app.screen.height/2-st.missImg_g3.height),st.missImg_g3.anchor.set(1,0),st.missImg_g3.scale.set(.6,.6),st.mrImg_g3=new PIXI.Sprite(PIXI.loader.resources.mrImg.texture),st.mrImg_g3.position.set(60,80),st.mrImg_g3.anchor.set(0,0),st.mrImg_g3.scale.set(.6,.6),st.sysImg_g3=new PIXI.Sprite(PIXI.loader.resources.sysImg.texture),st.sysImg_g3.position.set(60,80+st.mrImg_g3.height+60),st.sysImg_g3.anchor.set(0,0),st.sysImg_g3.scale.set(.6,.6),st.dash_g3=new PIXI.Sprite(PIXI.loader.resources.dashImg.texture),st.dash_g3.position.set(ot.app.screen.width/2,ot.app.screen.height),st.dash_g3.anchor.set(.5,1),st.dash_g3.scale.set(.8,.8),st.leftBtn_g3=new PIXI.Sprite(PIXI.loader.resources.leftBtnG3Img.texture),st.leftBtn_g3.position.set(60,ot.app.screen.height-60),st.leftBtn_g3.anchor.set(0,1),st.rightBtn_g3=new PIXI.Sprite(PIXI.loader.resources.rightBtnG3Img.texture),st.rightBtn_g3.position.set(ot.app.screen.width-60-st.rightBtn_g3.width,ot.app.screen.height-60),st.rightBtn_g3.anchor.set(0,1),st.hint_g3=new PIXI.Sprite(PIXI.loader.resources.hintG3Img.texture),st.hint_g3.position.set(ot.app.screen.width-60,ot.app.screen.height/2+st.missImg_g3.height+100),st.hint_g3.anchor.set(1,1),st.hint_g3.scale.set(.6,.6);for(var t=[],i=0;i<60;i++){var n=PIXI.Texture.fromFrame("mirror"+i);t.push(n)}st.mirrorBgLeft_g3=new PIXI.extras.AnimatedSprite(t),st.mirrorBgLeft_g3.animationSpeed=-1.2,st.mirrorBgLeft_g3.play(),st.mirrorBgRight_g3=new PIXI.extras.AnimatedSprite(t),st.mirrorBgRight_g3.animationSpeed=-1.2,st.mirrorBgRight_g3.play(),st.mirrorBgRight_g3.position.set(-st.mirrorBgLeft_g3.width/2+50,0);var r={x:ot.app.screen.width/2-st.mirrorBgLeft_g3.width+190,y:80},a={x:ot.app.screen.width/2+100,y:80};st.mirrorBorderLeft_g3=new PIXI.Sprite(PIXI.loader.resources.mirrorBorderLeftImg.texture),st.mirrorBorderLeft_g3.position.set(r.x,r.y),st.mirrorBorderRight_g3=new PIXI.Sprite(PIXI.loader.resources.mirrorBorderRightImg.texture),st.mirrorBorderRight_g3.position.set(a.x,a.y),st.carInMirrorLeft_g3=new PIXI.Sprite(PIXI.loader.resources.carInMirrorLeftImg.texture),st.carInMirrorLeft_g3.position.set(st.mirrorBgLeft_g3.width/2-60,-200),st.carInMirrorLeft_g3.scale.set(.1,.1),st.carInMirrorLeft_g3.anchor.set(.5,.5),st.carInMirrorRight_g3=new PIXI.Sprite(PIXI.loader.resources.carInMirrorRightImg.texture),st.carInMirrorRight_g3.position.set(st.mirrorBgRight_g3.width/2+60,-200),st.carInMirrorRight_g3.scale.set(.1,.1),st.carInMirrorRight_g3.anchor.set(.5,.5),st.mirrorLeft_g3=new PIXI.Container,st.mirrorRight_g3=new PIXI.Container,st.mirrorLeft_g3.addChild(st.mirrorBgLeft_g3),st.mirrorLeft_g3.addChild(st.carInMirrorLeft_g3),st.mirrorRight_g3.addChild(st.mirrorBgRight_g3),st.mirrorRight_g3.addChild(st.carInMirrorRight_g3),st.mirrorLeft_g3.position.set(r.x,r.y),st.mirrorRight_g3.position.set(a.x,a.y),st.mirrorMaskLeft_g3=new PIXI.Sprite(PIXI.loader.resources.mirrorMaskLeftImg.texture),st.mirrorMaskLeft_g3.position.set(r.x,r.y),st.mirrorLeft_g3.mask=st.mirrorMaskLeft_g3,st.mirrorMaskRight_g3=new PIXI.Sprite(PIXI.loader.resources.mirrorMaskRightImg.texture),st.mirrorMaskRight_g3.position.set(a.x,a.y),st.mirrorRight_g3.mask=st.mirrorMaskRight_g3,st.mirrorHintLeft_g3=new PIXI.Sprite(PIXI.loader.resources.mirrorHintLeftImg.texture),st.mirrorHintLeft_g3.position.set(r.x-120,r.y-120),st.mirrorHintLeft_g3.visible=!1,st.mirrorHintRight_g3=new PIXI.Sprite(PIXI.loader.resources.mirrorHintRightImg.texture),st.mirrorHintRight_g3.position.set(a.x-120,a.y-120),st.mirrorHintRight_g3.visible=!1,st.hintTextG3=new PIXI.Text("請注意後照鏡並透過左右按鈕提醒車主",new PIXI.TextStyle({fontSize:24,fill:"#FFFFFF",fontWeight:500})),st.hintTextG3.position.set(ot.app.screen.width/2,ot.app.screen.height/2),st.hintTextG3.anchor.set(.5,.5),ot.prePlayStartTextG3=new PIXI.Text("5",new PIXI.TextStyle({fontSize:180,fill:"#FFFFFF",fontWeight:500})),ot.prePlayStartTextG3.position.set(ot.app.screen.width/2,ot.app.screen.height/2-200),ot.prePlayStartTextG3.anchor.set(.5,.5),ot.prePlayStartTextG3.visible=!1,ht(),ot.stage3.addChild(st.vanishingPoint_g3),ot.stage3.addChild(st.world3D_g3),ot.stage3.addChild(st.missImg_g3),ot.stage3.addChild(st.hint_g3),ot.stage3.addChild(st.mrImg_g3),ot.stage3.addChild(st.sysImg_g3),ot.stage3.addChild(st.timeText_g3),ot.stage3.addChild(st.timeRemainingText_g3),ot.stage3.addChild(st.mirrorHintLeft_g3),ot.stage3.addChild(st.mirrorHintRight_g3),ot.stage3.addChild(st.mirrorLeft_g3),ot.stage3.addChild(st.mirrorRight_g3),ot.stage3.addChild(st.mirrorMaskRight_g3),ot.stage3.addChild(st.mirrorMaskLeft_g3),ot.stage3.addChild(st.mirrorBorderLeft_g3),ot.stage3.addChild(st.mirrorBorderRight_g3),ot.stage3.addChild(st.rightBtn_g3),ot.stage3.addChild(st.leftBtn_g3),ot.stage3.addChild(st.hintRect_g3),ot.stage3.addChild(st.hintRectGood_g3),ot.stage3.addChild(st.hintTextG3),ot.stage3.addChild(ot.prePlayStartTextG3)}function ht(){st.world3D_g3=new PIXI.projection.Container2d,st.world3D_g3.position.set(0,910),st.bigWhiteTexture=new PIXI.Texture(PIXI.Texture.WHITE.baseTexture),st.bigWhiteTexture.orig.width=30,st.bigWhiteTexture.orig.height=30,st.lineLeft_g3=new PIXI.projection.Sprite2d(st.bigWhiteTexture),st.lineLeft_g3.tint=16777215,st.lineLeft_g3.scale.set(1,1e3),st.lineLeft_g3.anchor.set(.5,.5),st.lineLeft_g3.position.set((ot.app.screen.width-st.roadWidth_g3)/2,0),st.lineRight_g3=new PIXI.projection.Sprite2d(st.bigWhiteTexture),st.lineRight_g3.tint=16777215,st.lineRight_g3.scale.set(1,1e3),st.lineRight_g3.anchor.set(.5,.5),st.lineRight_g3.position.set((ot.app.screen.width+st.roadWidth_g3)/2,0),st.world3D_g3.addChild(st.lineLeft_g3),st.world3D_g3.addChild(st.lineRight_g3),st.lineGroup_g3=[];for(var e=0;e<10;e++){var t=new PIXI.projection.Sprite2d(st.bigWhiteTexture);t.tint=16777215,t.scale.set(st.roadWidth_g3/30,.5),t.anchor.set(.5),t.counterY=3e3*e,t.counterX=0,t.position.set(ot.app.screen.width/2,1e4),t.proj.affine=PIXI.projection.AFFINE.AXIS_X,st.lineGroup_g3.push(t),st.world3D_g3.addChild(t)}for(var i=1;i<6;i++){var n=PIXI.Texture.fromFrame("wifiImg"+i),r=new PIXI.projection.Sprite2d(n);r.scale.set(-1.2,-1.2),r.tint=16765533,r.visible=!1,r.position.set(ot.app.screen.width/2-300,st.carPosY_g3-500),st.leftWifi.push(r);var a=new PIXI.projection.Sprite2d(n);a.position.set(ot.app.screen.width/2+50,st.carPosY_g3-500),a.scale.set(1.2,-1.2),a.tint=16765533,a.visible=!1,st.rightWifi.push(a),st.world3D_g3.addChild(r),st.world3D_g3.addChild(a)}st.carComingLeft_g3=new PIXI.projection.Sprite2d(PIXI.loader.resources.carComingLeftImg.texture),st.carComingLeft_g3.scale.set(5,-5),st.carComingLeft_g3.anchor.set(.5),st.carComingLeft_g3.position.set(ot.app.screen.width/2-st.roadWidth_g3/4+100,-1e3),st.carComingLeft_g3.proj.affine=PIXI.projection.AFFINE.AXIS_Y,st.carComingLeft_g3.visible=!1,st.world3D_g3.addChild(st.carComingLeft_g3),st.carComingRight_g3=new PIXI.projection.Sprite2d(PIXI.loader.resources.carComingRightImg.texture),st.carComingRight_g3.scale.set(5,-5),st.carComingRight_g3.anchor.set(.5),st.carComingRight_g3.position.set(ot.app.screen.width/2+st.roadWidth_g3/4-100,-1e3),st.carComingRight_g3.proj.affine=PIXI.projection.AFFINE.AXIS_Y,st.carComingRight_g3.visible=!1,st.world3D_g3.addChild(st.carComingRight_g3),st.car_g3=new PIXI.projection.Sprite2d(PIXI.loader.resources.carMidImg.texture),st.car_g3.scale.set(5,-5),st.car_g3.anchor.set(.5,.5),st.car_g3.position.set(ot.app.screen.width/2,st.carPosY_g3),st.car_g3.proj.affine=PIXI.projection.AFFINE.AXIS_Y,st.world3D_g3.addChild(st.car_g3),st.vanishingPointStyle_g3=new PIXI.TextStyle({fontFamily:"Arial",fontSize:20,fill:"#ffffff"}),st.vanishingPoint_g3=new PIXI.Text("Ｏ",st.vanishingPointStyle_g3),st.vanishingPoint_g3.anchor.set(.5),st.vanishingPoint_g3.position.set(960,535)}var ft,_t,It,xt,wt,vt={game3Loop:yt};function yt(e){ft||Pt(e);for(var t=0;t<It.lineGroup_g3.length;t++){var i=It.lineGroup_g3[t];i.counterY-=It.carSpeed,console.log(i.counterY),i.position.y=i.counterY,i.counterY<-500&&(i.counterY=33e3)}if(It.leftBtnClick_g3&&It.isLeftCarComes){var n=new TimelineMax;n.fromTo(It.hintRectGood_g3,.2,{alpha:1},{alpha:0}).yoyo(1).repeat(6),It.carMoveLeftAni&&(It.carMoveLeftAni.kill(),It.carMoveLeftAni=null,It.carMoveLeftAniMirror.kill()),Tt()}if(It.rightBtnClick_g3&&It.isRightCarComes){var r=new TimelineMax;r.fromTo(It.hintRectGood_g3,.2,{alpha:1},{alpha:0}).yoyo(1).repeat(6),It.carMoveRightAni&&(It.carMoveRightAni.kill(),It.carMoveRightAni=null,It.carMoveRightAniMirror.kill()),Tt()}for(var a=0;a<5;a++){var o=It.leftWifi[a],s=It.rightWifi[a];o.position.set(It.car_g3.position.x-200,It.car_g3.position.y-500),s.position.set(It.car_g3.position.x+200,It.car_g3.position.y-500)}0}function Pt(e){ft=e,_t=e.common,It=e.game3Data}function Tt(){TweenMax.to(It.car_g3.position,1,{x:_t.app.screen.width/2,ease:Power0.easeNone}),TweenMax.to(It.mirrorBgRight_g3.position,1,{x:-300,ease:Power0.easeNone}),TweenMax.to(It.mirrorBgLeft_g3.position,1,{x:0,ease:Power0.easeNone})}function St(e){e,xt=e.common,wt=e.game3Data,Gt(),Mt(),Ct(),bt(),Lt(),Bt(),wt.rightBtnClick_g3=!1,wt.leftBtnClick_g3=!1;var t=new TimelineMax;t.fromTo(wt.mirrorHintLeft_g3,.2,{alpha:0},{alpha:1}).yoyo(1).repeat(-1);var i=new TimelineMax;i.fromTo(wt.mirrorHintRight_g3,.2,{alpha:0},{alpha:1}).yoyo(1).repeat(-1),xt.app.stage.addChild(xt.stage3),xt.app.ticker.speed=1,xt.app.ticker.add(function(t){return vt.game3Loop(e)}),xt.prePlayTimelineG3.restart(),xt.isGameRunning=!1,xt.isPrePlaying=!0,xt.app.ticker.start()}function Ct(){wt.rightBtn_g3.interactive=!0,wt.rightBtn_g3.buttonMode=!0,wt.leftBtn_g3.interactive=!0,wt.leftBtn_g3.buttonMode=!0,wt.rightBtn_g3.on("pointerdown",function(){xt.isPrePlaying||(wt.rightWifiTimeline.restart(),wt.rightBtn_g3.tint=5592405,wt.rightBtnClick_g3=!0)}),wt.rightBtn_g3.on("pointerup",function(){xt.isPrePlaying||(wt.rightBtn_g3.tint=16777215,wt.rightBtnClick_g3=!1)}),wt.leftBtn_g3.on("pointerdown",function(){xt.isPrePlaying||(wt.leftWifiTimeline.restart(),wt.leftBtn_g3.tint=5592405,wt.leftBtnClick_g3=!0)}),wt.leftBtn_g3.on("pointerup",function(){xt.isPrePlaying||(wt.leftBtn_g3.tint=16777215,wt.leftBtnClick_g3=!1)}),$("body").keyup(function(e){var t=e.keyCode;if(!xt.isPrePlaying)switch(t){case 37:wt.leftBtn_g3.tint=16777215,wt.leftBtnClick_g3=!1;break;case 39:wt.rightBtn_g3.tint=16777215,wt.rightBtnClick_g3=!1;break}}),$("body").keydown(function(e){var t=e.keyCode;console.log(t);if(!xt.isPrePlaying)switch(t){case 37:wt.leftWifiTimeline.restart(),wt.leftBtn_g3.tint=5592405,wt.leftBtnClick_g3=!0;break;case 39:wt.rightWifiTimeline.restart(),wt.rightBtn_g3.tint=5592405,wt.rightBtnClick_g3=!0;break}})}function bt(){var e=wt.world3D_g3.toLocal(wt.vanishingPoint_g3.position,void 0,void 0,void 0,PIXI.projection.TRANSFORM_STEP.BEFORE_PROJ);wt.world3D_g3.proj.setAxisY(e,1)}function Rt(){"left"==wt.carSideSequence[wt.carSideSequenceIndex]?wt.carLeftTimeline_g3.restart():wt.carRightTimeline_g3.restart(),wt.carSideSequenceIndex=(wt.carSideSequenceIndex+1)%6}function Gt(){var e=TweenMax.fromTo(wt.carComingLeft_g3.position,10,{y:-1e3,ease:Power0.easeNone},{y:1e4});wt.carLeftTimeline_g3=new TimelineMax({onStart:function(){wt.isLeftCarComes=!0,At("left"),wt.carMoveLeftAni=TweenMax.to(wt.car_g3.position,3,{x:xt.app.screen.width/2-300,ease:Power0.easeNone}).delay(3),wt.carMoveRightAniMirror=TweenMax.to(wt.mirrorBgRight_g3.position,3,{x:-200,ease:Power0.easeNone}).delay(3),wt.carMoveLeftAniMirror=TweenMax.to(wt.mirrorBgLeft_g3.position,3,{x:100,ease:Power0.easeNone}).delay(3)},onComplete:function(){wt.carLeftTimeline_g3.seek(0),wt.carLeftTimeline_g3.pause(),Rt(),wt.carComingLeft_g3.visible=!1},paused:!0}),wt.carLeftTimeline_g3.add(function(){wt.carComingLeft_g3.visible=!1},0).add(e,4).add(function(){wt.carComingLeft_g3.visible=!0},4.5).add(function(){if(wt.isLeftCarComes=!1,wt.carMoveLeftAni){TweenMax.to(wt.car_g3.position,.5,{x:xt.app.screen.width/2-150,ease:Elastic.easeOut.config(1,.3)});var e=new TimelineMax({onComplete:function(){wt.carComingLeft_g3.position.y=-1e3,Xt()}});e.fromTo(wt.hintRect_g3,.2,{alpha:.3},{alpha:0}).yoyo(1).repeat(6)}},4.7);var t=TweenMax.fromTo(wt.carComingRight_g3.position,10,{y:-1e3,ease:Power0.easeNone},{y:1e4});wt.carRightTimeline_g3=new TimelineMax({onStart:function(){wt.isRightCarComes=!0,At("right"),wt.carMoveRightAni=TweenMax.to(wt.car_g3.position,3,{x:xt.app.screen.width/2+300,ease:Power0.easeNone}).delay(3),wt.carMoveRightAniMirror=TweenMax.to(wt.mirrorBgRight_g3.position,3,{x:-400,ease:Power0.easeNone}).delay(3),wt.carMoveLeftAniMirror=TweenMax.to(wt.mirrorBgLeft_g3.position,3,{x:-100,ease:Power0.easeNone}).delay(3)},onComplete:function(){wt.carRightTimeline_g3.seek(0),wt.carRightTimeline_g3.pause(),Rt(),wt.carComingRight_g3.visible=!1},paused:!0}),wt.carRightTimeline_g3.add(function(){wt.carComingRight_g3.visible=!1},0).add(t,4).add(function(){wt.carComingRight_g3.visible=!0},4.5).add(function(){if(wt.isRightCarComes=!1,wt.carMoveRightAni){TweenMax.to(wt.car_g3.position,.5,{x:xt.app.screen.width/2+150,ease:Elastic.easeOut.config(1,.3)});var e=new TimelineMax({onComplete:function(){wt.carComingRight_g3.position.y=-1e3,Xt()}});e.fromTo(wt.hintRect_g3,.2,{alpha:.3},{alpha:0}).yoyo(1).repeat(6)}},4.7)}function Xt(){TweenMax.to(wt.car_g3.position,1,{x:xt.app.screen.width/2,ease:Power0.easeNone}),TweenMax.to(wt.mirrorBgRight_g3.position,1,{x:-300,ease:Power0.easeNone}),TweenMax.to(wt.mirrorBgLeft_g3.position,1,{x:0,ease:Power0.easeNone})}function At(e){"left"==e?wt.carLeftMirrorTimeline_g3.restart():wt.carRightMirrorTimeline_g3.restart()}function Mt(){wt.carLeftMirrorTimeline_g3=new TimelineMax({pause:!0});var e=TweenMax.fromTo(wt.carInMirrorLeft_g3.position,3,{x:300,y:105,ease:Power0.easeNone},{x:295,y:100}),t=TweenMax.fromTo(wt.carInMirrorLeft_g3.position,3,{x:295,y:100,ease:Power0.easeNone},{x:-50,y:300}),i=TweenMax.fromTo(wt.carInMirrorLeft_g3.scale,2,{x:.03,y:.03,ease:Power0.easeNone},{x:.15,y:.15});wt.carLeftMirrorTimeline_g3.add(e,0),wt.carLeftMirrorTimeline_g3.add(t,3),wt.carLeftMirrorTimeline_g3.add(i,3),wt.carRightMirrorTimeline_g3=new TimelineMax({pause:!0});var n=TweenMax.fromTo(wt.carInMirrorRight_g3.position,3,{x:105,y:105,ease:Power0.easeNone},{x:100,y:100}),r=TweenMax.fromTo(wt.carInMirrorRight_g3.position,3,{x:100,y:100,ease:Power0.easeNone},{x:420,y:320}),a=TweenMax.fromTo(wt.carInMirrorRight_g3.scale,2,{x:.03,y:.03,ease:Power0.easeNone},{x:.15,y:.15});wt.carRightMirrorTimeline_g3.add(n,0),wt.carRightMirrorTimeline_g3.add(r,3),wt.carRightMirrorTimeline_g3.add(a,3)}function Lt(){wt.leftWifiTimeline=new TimelineMax({onStart:function(){wt.leftWifiIndex=0},paused:!0}),wt.leftWifiTimeline.add(function(){for(var e=0;e<5;e++)wt.leftWifi[e].visible=e==wt.leftWifiIndex;wt.leftWifiIndex=(wt.leftWifiIndex+1)%4},.2).delay(.2).repeat(8),wt.rightWifiTimeline=new TimelineMax({onStart:function(){wt.rightWifiIndex=0},paused:!0}),wt.rightWifiTimeline.add(function(){for(var e=0;e<5;e++)wt.rightWifi[e].visible=e==wt.rightWifiIndex;wt.rightWifiIndex=(wt.rightWifiIndex+1)%4},.2).delay(.2).repeat(8)}function Bt(){xt.prePlayTimelineG3=new TimelineMax({paused:!0}),xt.prePlayTimelineG3.add(function(){wt.carLeftMirrorTimeline_g3.play(),wt.carLeftMirrorTimeline_g3.seek(4),wt.carLeftTimeline_g3.play(),wt.carLeftTimeline_g3.seek(4),wt.carMoveLeftAni=TweenMax.to(wt.car_g3.position,3,{x:xt.app.screen.width/2-300,ease:Power0.easeNone}),wt.carMoveRightAniMirror=TweenMax.to(wt.mirrorBgRight_g3.position,3,{x:-200,ease:Power0.easeNone}),wt.carMoveLeftAniMirror=TweenMax.to(wt.mirrorBgLeft_g3.position,3,{x:100,ease:Power0.easeNone}),wt.timeText_g3.visible=!1,wt.timeRemainingText_g3.visible=!1,xt.isPrePlaying=!0,xt.prePlayStartTextG3.text="5",xt.prePlayStartTextG3.visible=!0,wt.leftBtn_g3.tint=5592405,wt.rightBtn_g3.tint=5592405},0).add(function(){xt.prePlayStartTextG3.text="4"},1).add(function(){xt.prePlayStartTextG3.text="3",wt.carMoveLeftAni.kill(),wt.isRightCarComes=!0,wt.carRightMirrorTimeline_g3.play(),wt.carRightMirrorTimeline_g3.seek(2),wt.carRightTimeline_g3.play(),wt.carRightTimeline_g3.seek(2)},2).add(function(){wt.carMoveRightAni=TweenMax.to(wt.car_g3.position,2,{x:xt.app.screen.width/2+300,ease:Power0.easeNone}),wt.carMoveRightAniMirror=TweenMax.to(wt.mirrorBgRight_g3.position,2,{x:-400,ease:Power0.easeNone}),wt.carMoveLeftAniMirror=TweenMax.to(wt.mirrorBgLeft_g3.position,2,{x:-100,ease:Power0.easeNone}),xt.prePlayStartTextG3.text="2"},3).add(function(){wt.rightBtn_g3.tint=16777215,wt.rightBtnClick_g3=!0,wt.rightWifiTimeline.restart(),xt.prePlayStartTextG3.text="1"},4).add(function(){xt.prePlayStartTextG3.text="GO!"},5).add(function(){wt.leftBtn_g3.tint=16777215,xt.prePlayStartTextG3.visible=!1,wt.timeText_g3.visible=!0,wt.timeRemainingText_g3.visible=!0,wt.hintTextG3.visible=!1,xt.isPrePlaying=!1,wt.rightBtnClick_g3=!1,wt.carLeftMirrorTimeline_g3.pause(),wt.carLeftMirrorTimeline_g3.seek(10),wt.carLeftTimeline_g3.pause(),wt.carLeftTimeline_g3.seek(10),kt()},6)}function kt(){wt.remainingTime=30,wt.timeRemainingText_g3.text=wt.remainingTime,clearInterval(wt.timerGame3),wt.timerGame3=setInterval(function(){wt.remainingTime--,wt.remainingTime<=0&&(wt.remainingTime=0),wt.remainingTime,wt.timeRemainingText_g3.text=wt.remainingTime},1e3)}function Ft(){wt.carSideSequenceIndex=0,xt.prePlayTimelineG3&&(xt.prePlayTimelineG3.play(),xt.prePlayTimelineG3.seek(0)),kt()}var Dt={name:"Game3",props:{msg:String},mounted:function(){window.tempVars=le},methods:{resizeCanvas:function(){var e=$(window).innerWidth()/1920;$("canvas").css("transform","scale(".concat(e,")")),$("canvas").css("transform-origin","0 0")},resetData:function(){console.log("resetData"),Ft()},loadAsset:function(e){console.log("loadAsset"),PIXI.loader.resources.g1Ui?e():pe.loadAllAssets(le,e)},setUp:function(e){console.log("setup"),le.common.currentStage=3,ce.setupEnv(e,le),this.resizeCanvas(),ut(le),St(le),Ft()}},computed:Object(s["a"])({},Object(f["c"])(["debug"])),beforeDestroy:function(){},destroyed:function(){delete le.common.app},watch:{},data:function(){return{gameContainer:".game3 .game-container"}}},jt=Dt,Wt=(i("1f38"),Object(m["a"])(jt,pt,mt,!1,null,"265e11a4",null)),Ht=Wt.exports,Et={name:"Game",mounted:function(){this.refGriup["1"]=this.$refs.game1,this.refGriup["2"]=this.$refs.game2,this.refGriup["3"]=this.$refs.game3},components:{game1:We,game2:dt,game3:Ht},data:function(){return{currentGame:2,refGriup:{}}},methods:{loadGame:function(){var e=this;this.refGriup[this.currentGame].loadAsset(function(){e.refGriup[e.currentGame].setUp(".game".concat(e.currentGame," .game-container"))})},resetData:function(){this.refGriup[this.currentGame].resetData()}}},Ot=Et,Yt=(i("f308"),Object(m["a"])(Ot,ee,te,!1,null,"5de8bd3c",null)),Nt=Yt.exports;r["a"].use(P["a"]);var $t=new P["a"]({routes:[{path:"/",name:"home",component:H},{path:"/about",name:"about",component:z},{path:"/award",name:"award",component:Z},{path:"/game",name:"game",component:Nt}]});r["a"].use(f["a"]);var Ut=new f["a"].Store({state:{loading:!0,debug:!1},mutations:{setLoading:function(e,t){e.loading=t},setDebug:function(e,t){e.debug=t}},actions:{}}),zt=(i("4b3c"),i("ab8b"),i("8251"));zt["a"].init(),r["a"].config.productionTip=!1,new r["a"]({router:$t,store:Ut,render:function(e){return e(y)}}).$mount("#app"),window.addEventListener("keydown",function(e){68==e.keyCode&&(Ut.commit("setDebug",!Ut.state.debug),console.log(Ut.state.debug))})},"7b80":function(e,t,i){},"7f26":function(e,t,i){"use strict";var n=i("13e3"),r=i.n(n);r.a},"860e":function(e,t,i){},"875d":function(e,t,i){},ac44:function(e,t,i){},ad72:function(e,t,i){},cf25:function(e,t,i){"use strict";var n=i("0cfb"),r=i.n(n);r.a},ea82:function(e,t,i){"use strict";var n=i("860e"),r=i.n(n);r.a},f308:function(e,t,i){"use strict";var n=i("7b80"),r=i.n(n);r.a}});
//# sourceMappingURL=app.a34e45bb.js.map